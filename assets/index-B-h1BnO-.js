function y1(i,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in i)){const h=Object.getOwnPropertyDescriptor(r,l);h&&Object.defineProperty(i,l,h.get?h:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function e(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=e(l);fetch(l.href,h)}})();function v1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $m={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function T1(){if(Xv)return nc;Xv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,l,h){var f=null;if(h!==void 0&&(f=""+h),l.key!==void 0&&(f=""+l.key),"key"in l){h={};for(var _ in l)_!=="key"&&(h[_]=l[_])}else h=l;return l=h.ref,{$$typeof:i,type:r,key:f,ref:l!==void 0?l:null,props:h}}return nc.Fragment=t,nc.jsx=e,nc.jsxs=e,nc}var Wv;function E1(){return Wv||(Wv=1,$m.exports=T1()),$m.exports}var V=E1(),Jm={exports:{}},ic={},tp={exports:{}},ep={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function b1(){return $v||($v=1,(function(i){function t(et,yt){var ft=et.length;et.push(yt);t:for(;0<ft;){var Zt=ft-1>>>1,Et=et[Zt];if(0<l(Et,yt))et[Zt]=yt,et[ft]=Et,ft=Zt;else break t}}function e(et){return et.length===0?null:et[0]}function r(et){if(et.length===0)return null;var yt=et[0],ft=et.pop();if(ft!==yt){et[0]=ft;t:for(var Zt=0,Et=et.length,B=Et>>>1;Zt<B;){var st=2*(Zt+1)-1,mt=et[st],Tt=st+1,St=et[Tt];if(0>l(mt,ft))Tt<Et&&0>l(St,mt)?(et[Zt]=St,et[Tt]=ft,Zt=Tt):(et[Zt]=mt,et[st]=ft,Zt=st);else if(Tt<Et&&0>l(St,ft))et[Zt]=St,et[Tt]=ft,Zt=Tt;else break t}}return yt}function l(et,yt){var ft=et.sortIndex-yt.sortIndex;return ft!==0?ft:et.id-yt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,_=f.now();i.unstable_now=function(){return f.now()-_}}var y=[],T=[],S=1,x=null,C=3,P=!1,G=!1,Z=!1,K=!1,ht=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function wt(et){for(var yt=e(T);yt!==null;){if(yt.callback===null)r(T);else if(yt.startTime<=et)r(T),yt.sortIndex=yt.expirationTime,t(y,yt);else break;yt=e(T)}}function gt(et){if(Z=!1,wt(et),!G)if(e(y)!==null)G=!0,xt||(xt=!0,q());else{var yt=e(T);yt!==null&&be(gt,yt.startTime-et)}}var xt=!1,k=-1,N=5,D=-1;function H(){return K?!0:!(i.unstable_now()-D<N)}function j(){if(K=!1,xt){var et=i.unstable_now();D=et;var yt=!0;try{t:{G=!1,Z&&(Z=!1,pt(k),k=-1),P=!0;var ft=C;try{e:{for(wt(et),x=e(y);x!==null&&!(x.expirationTime>et&&H());){var Zt=x.callback;if(typeof Zt=="function"){x.callback=null,C=x.priorityLevel;var Et=Zt(x.expirationTime<=et);if(et=i.unstable_now(),typeof Et=="function"){x.callback=Et,wt(et),yt=!0;break e}x===e(y)&&r(y),wt(et)}else r(y);x=e(y)}if(x!==null)yt=!0;else{var B=e(T);B!==null&&be(gt,B.startTime-et),yt=!1}}break t}finally{x=null,C=ft,P=!1}yt=void 0}}finally{yt?q():xt=!1}}}var q;if(typeof _t=="function")q=function(){_t(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,te=z.port2;z.port1.onmessage=j,q=function(){te.postMessage(null)}}else q=function(){ht(j,0)};function be(et,yt){k=ht(function(){et(i.unstable_now())},yt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(et){et.callback=null},i.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<et?Math.floor(1e3/et):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(et){switch(C){case 1:case 2:case 3:var yt=3;break;default:yt=C}var ft=C;C=yt;try{return et()}finally{C=ft}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(et,yt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var ft=C;C=et;try{return yt()}finally{C=ft}},i.unstable_scheduleCallback=function(et,yt,ft){var Zt=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Zt+ft:Zt):ft=Zt,et){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=ft+Et,et={id:S++,callback:yt,priorityLevel:et,startTime:ft,expirationTime:Et,sortIndex:-1},ft>Zt?(et.sortIndex=ft,t(T,et),e(y)===null&&et===e(T)&&(Z?(pt(k),k=-1):Z=!0,be(gt,ft-Zt))):(et.sortIndex=Et,t(y,et),G||P||(G=!0,xt||(xt=!0,q()))),et},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(et){var yt=C;return function(){var ft=C;C=yt;try{return et.apply(this,arguments)}finally{C=ft}}}})(ep)),ep}var Jv;function w1(){return Jv||(Jv=1,tp.exports=b1()),tp.exports}var np={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function S1(){if(t0)return qt;t0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function P(B){return B===null||typeof B!="object"?null:(B=C&&B[C]||B["@@iterator"],typeof B=="function"?B:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,K={};function ht(B,st,mt){this.props=B,this.context=st,this.refs=K,this.updater=mt||G}ht.prototype.isReactComponent={},ht.prototype.setState=function(B,st){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,st,"setState")},ht.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function pt(){}pt.prototype=ht.prototype;function _t(B,st,mt){this.props=B,this.context=st,this.refs=K,this.updater=mt||G}var wt=_t.prototype=new pt;wt.constructor=_t,Z(wt,ht.prototype),wt.isPureReactComponent=!0;var gt=Array.isArray;function xt(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function D(B,st,mt){var Tt=mt.ref;return{$$typeof:i,type:B,key:st,ref:Tt!==void 0?Tt:null,props:mt}}function H(B,st){return D(B.type,st,B.props)}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function q(B){var st={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(mt){return st[mt]})}var z=/\/+/g;function te(B,st){return typeof B=="object"&&B!==null&&B.key!=null?q(""+B.key):st.toString(36)}function be(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(xt,xt):(B.status="pending",B.then(function(st){B.status==="pending"&&(B.status="fulfilled",B.value=st)},function(st){B.status==="pending"&&(B.status="rejected",B.reason=st)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function et(B,st,mt,Tt,St){var At=typeof B;(At==="undefined"||At==="boolean")&&(B=null);var jt=!1;if(B===null)jt=!0;else switch(At){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(B.$$typeof){case i:case t:jt=!0;break;case S:return jt=B._init,et(jt(B._payload),st,mt,Tt,St)}}if(jt)return St=St(B),jt=Tt===""?"."+te(B,0):Tt,gt(St)?(mt="",jt!=null&&(mt=jt.replace(z,"$&/")+"/"),et(St,st,mt,"",function(ii){return ii})):St!=null&&(j(St)&&(St=H(St,mt+(St.key==null||B&&B.key===St.key?"":(""+St.key).replace(z,"$&/")+"/")+jt)),st.push(St)),1;jt=0;var Oe=Tt===""?".":Tt+":";if(gt(B))for(var Ne=0;Ne<B.length;Ne++)Tt=B[Ne],At=Oe+te(Tt,Ne),jt+=et(Tt,st,mt,At,St);else if(Ne=P(B),typeof Ne=="function")for(B=Ne.call(B),Ne=0;!(Tt=B.next()).done;)Tt=Tt.value,At=Oe+te(Tt,Ne++),jt+=et(Tt,st,mt,At,St);else if(At==="object"){if(typeof B.then=="function")return et(be(B),st,mt,Tt,St);throw st=String(B),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return jt}function yt(B,st,mt){if(B==null)return B;var Tt=[],St=0;return et(B,Tt,"","",function(At){return st.call(mt,At,St++)}),Tt}function ft(B){if(B._status===-1){var st=B._result;st=st(),st.then(function(mt){(B._status===0||B._status===-1)&&(B._status=1,B._result=mt)},function(mt){(B._status===0||B._status===-1)&&(B._status=2,B._result=mt)}),B._status===-1&&(B._status=0,B._result=st)}if(B._status===1)return B._result.default;throw B._result}var Zt=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Et={map:yt,forEach:function(B,st,mt){yt(B,function(){st.apply(this,arguments)},mt)},count:function(B){var st=0;return yt(B,function(){st++}),st},toArray:function(B){return yt(B,function(st){return st})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return qt.Activity=x,qt.Children=Et,qt.Component=ht,qt.Fragment=e,qt.Profiler=l,qt.PureComponent=_t,qt.StrictMode=r,qt.Suspense=y,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return k.H.useMemoCache(B)}},qt.cache=function(B){return function(){return B.apply(null,arguments)}},qt.cacheSignal=function(){return null},qt.cloneElement=function(B,st,mt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Tt=Z({},B.props),St=B.key;if(st!=null)for(At in st.key!==void 0&&(St=""+st.key),st)!N.call(st,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&st.ref===void 0||(Tt[At]=st[At]);var At=arguments.length-2;if(At===1)Tt.children=mt;else if(1<At){for(var jt=Array(At),Oe=0;Oe<At;Oe++)jt[Oe]=arguments[Oe+2];Tt.children=jt}return D(B.type,St,Tt)},qt.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:h,_context:B},B},qt.createElement=function(B,st,mt){var Tt,St={},At=null;if(st!=null)for(Tt in st.key!==void 0&&(At=""+st.key),st)N.call(st,Tt)&&Tt!=="key"&&Tt!=="__self"&&Tt!=="__source"&&(St[Tt]=st[Tt]);var jt=arguments.length-2;if(jt===1)St.children=mt;else if(1<jt){for(var Oe=Array(jt),Ne=0;Ne<jt;Ne++)Oe[Ne]=arguments[Ne+2];St.children=Oe}if(B&&B.defaultProps)for(Tt in jt=B.defaultProps,jt)St[Tt]===void 0&&(St[Tt]=jt[Tt]);return D(B,At,St)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(B){return{$$typeof:_,render:B}},qt.isValidElement=j,qt.lazy=function(B){return{$$typeof:S,_payload:{_status:-1,_result:B},_init:ft}},qt.memo=function(B,st){return{$$typeof:T,type:B,compare:st===void 0?null:st}},qt.startTransition=function(B){var st=k.T,mt={};k.T=mt;try{var Tt=B(),St=k.S;St!==null&&St(mt,Tt),typeof Tt=="object"&&Tt!==null&&typeof Tt.then=="function"&&Tt.then(xt,Zt)}catch(At){Zt(At)}finally{st!==null&&mt.types!==null&&(st.types=mt.types),k.T=st}},qt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qt.use=function(B){return k.H.use(B)},qt.useActionState=function(B,st,mt){return k.H.useActionState(B,st,mt)},qt.useCallback=function(B,st){return k.H.useCallback(B,st)},qt.useContext=function(B){return k.H.useContext(B)},qt.useDebugValue=function(){},qt.useDeferredValue=function(B,st){return k.H.useDeferredValue(B,st)},qt.useEffect=function(B,st){return k.H.useEffect(B,st)},qt.useEffectEvent=function(B){return k.H.useEffectEvent(B)},qt.useId=function(){return k.H.useId()},qt.useImperativeHandle=function(B,st,mt){return k.H.useImperativeHandle(B,st,mt)},qt.useInsertionEffect=function(B,st){return k.H.useInsertionEffect(B,st)},qt.useLayoutEffect=function(B,st){return k.H.useLayoutEffect(B,st)},qt.useMemo=function(B,st){return k.H.useMemo(B,st)},qt.useOptimistic=function(B,st){return k.H.useOptimistic(B,st)},qt.useReducer=function(B,st,mt){return k.H.useReducer(B,st,mt)},qt.useRef=function(B){return k.H.useRef(B)},qt.useState=function(B){return k.H.useState(B)},qt.useSyncExternalStore=function(B,st,mt){return k.H.useSyncExternalStore(B,st,mt)},qt.useTransition=function(){return k.H.useTransition()},qt.version="19.2.0",qt}var e0;function Jp(){return e0||(e0=1,np.exports=S1()),np.exports}var ip={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function A1(){if(n0)return Fn;n0=1;var i=Jp();function t(y){var T="https://react.dev/errors/"+y;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)T+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,T,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:T,implementation:S}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(y,T){if(y==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(y,T){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(y,T,null,S)},Fn.flushSync=function(y){var T=f.T,S=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=T,r.p=S,r.d.f()}},Fn.preconnect=function(y,T){typeof y=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,r.d.C(y,T))},Fn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Fn.preinit=function(y,T){if(typeof y=="string"&&T&&typeof T.as=="string"){var S=T.as,x=_(S,T.crossOrigin),C=typeof T.integrity=="string"?T.integrity:void 0,P=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;S==="style"?r.d.S(y,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:P}):S==="script"&&r.d.X(y,{crossOrigin:x,integrity:C,fetchPriority:P,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Fn.preinitModule=function(y,T){if(typeof y=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var S=_(T.as,T.crossOrigin);r.d.M(y,{crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&r.d.M(y)},Fn.preload=function(y,T){if(typeof y=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var S=T.as,x=_(S,T.crossOrigin);r.d.L(y,S,{crossOrigin:x,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Fn.preloadModule=function(y,T){if(typeof y=="string")if(T){var S=_(T.as,T.crossOrigin);r.d.m(y,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else r.d.m(y)},Fn.requestFormReset=function(y){r.d.r(y)},Fn.unstable_batchedUpdates=function(y,T){return y(T)},Fn.useFormState=function(y,T,S){return f.H.useFormState(y,T,S)},Fn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fn.version="19.2.0",Fn}var i0;function lE(){if(i0)return ip.exports;i0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ip.exports=A1(),ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function x1(){if(s0)return ic;s0=1;var i=w1(),t=Jp(),e=lE();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function f(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function _(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function y(n){if(h(n)!==n)throw Error(r(188))}function T(n){var s=n.alternate;if(!s){if(s=h(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,c=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return y(p),n;if(g===c)return y(p),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=g;else{for(var w=!1,I=p.child;I;){if(I===o){w=!0,o=p,c=g;break}if(I===c){w=!0,c=p,o=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===o){w=!0,o=g,c=p;break}if(I===c){w=!0,c=g,o=p;break}I=I.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function S(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=S(n),s!==null)return s;n=n.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Z:return"Fragment";case ht:return"Profiler";case K:return"StrictMode";case gt:return"Suspense";case xt:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case G:return"Portal";case _t:return n.displayName||"Context";case pt:return(n._context.displayName||"Context")+".Consumer";case wt:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return s=n.displayName||null,s!==null?s:te(n.type)||"Memo";case N:s=n._payload,n=n._init;try{return te(n(s))}catch{}}return null}var be=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Zt=[],Et=-1;function B(n){return{current:n}}function st(n){0>Et||(n.current=Zt[Et],Zt[Et]=null,Et--)}function mt(n,s){Et++,Zt[Et]=n.current,n.current=s}var Tt=B(null),St=B(null),At=B(null),jt=B(null);function Oe(n,s){switch(mt(At,s),mt(St,n),mt(Tt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?vv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=vv(s),n=Tv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}st(Tt),mt(Tt,n)}function Ne(){st(Tt),st(St),st(At)}function ii(n){n.memoizedState!==null&&mt(jt,n);var s=Tt.current,o=Tv(s,n.type);s!==o&&(mt(St,n),mt(Tt,o))}function Ei(n){St.current===n&&(st(Tt),st(St)),jt.current===n&&(st(jt),$u._currentValue=ft)}var bi,bs;function wi(n){if(bi===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);bi=s&&s[1]||"",bs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bi+n+bs}var ws=!1;function or(n,s){if(!n||ws)return"";ws=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(it){var tt=it}Reflect.construct(n,[],ut)}else{try{ut.call()}catch(it){tt=it}n.call(ut.prototype)}}else{try{throw Error()}catch(it){tt=it}(ut=n())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],I=g[1];if(w&&I){var U=w.split(`
`),$=I.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===$.length)for(c=U.length-1,p=$.length-1;1<=c&&0<=p&&U[c]!==$[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==$[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==$[p]){var rt=`
`+U[c].replace(" at new "," at ");return n.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",n.displayName)),rt}while(1<=c&&0<=p);break}}}finally{ws=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?wi(o):""}function eo(n,s){switch(n.tag){case 26:case 27:case 5:return wi(n.type);case 16:return wi("Lazy");case 13:return n.child!==s&&s!==null?wi("Suspense Fallback"):wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return or(n.type,!1);case 11:return or(n.type.render,!1);case 1:return or(n.type,!0);case 31:return wi("Activity");default:return""}}function lr(n){try{var s="",o=null;do s+=eo(n,o),o=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Fr=Object.prototype.hasOwnProperty,Ss=i.unstable_scheduleCallback,As=i.unstable_cancelCallback,il=i.unstable_shouldYield,qr=i.unstable_requestPaint,fn=i.unstable_now,sl=i.unstable_getCurrentPriorityLevel,Ue=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,zi=i.unstable_NormalPriority,rl=i.unstable_LowPriority,Gr=i.unstable_IdlePriority,al=i.log,ur=i.unstable_setDisableYieldValue,ts=null,en=null;function Qn(n){if(typeof al=="function"&&ur(n),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ts,n)}catch{}}var Rn=Math.clz32?Math.clz32:ol,cr=Math.log,no=Math.LN2;function ol(n){return n>>>=0,n===0?32:31-(cr(n)/no|0)|0}var xs=256,Si=262144,es=4194304;function Ai(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function si(n,s,o){var c=n.pendingLanes;if(c===0)return 0;var p=0,g=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var I=c&134217727;return I!==0?(c=I&~g,c!==0?p=Ai(c):(w&=I,w!==0?p=Ai(w):o||(o=I&~n,o!==0&&(p=Ai(o))))):(I=c&~g,I!==0?p=Ai(I):w!==0?p=Ai(w):o||(o=c&~n,o!==0&&(p=Ai(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function Cs(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Zr(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var n=es;return es<<=1,(es&62914560)===0&&(es=4194304),n}function ns(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Ui(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function dn(n,s,o,c,p,g){var w=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var I=n.entanglements,U=n.expirationTimes,$=n.hiddenUpdates;for(o=w&~o;0<o;){var rt=31-Rn(o),ut=1<<rt;I[rt]=0,U[rt]=-1;var tt=$[rt];if(tt!==null)for($[rt]=null,rt=0;rt<tt.length;rt++){var it=tt[rt];it!==null&&(it.lane&=-536870913)}o&=~ut}c!==0&&so(n,c,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(w&~s))}function so(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Rn(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function Rs(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var c=31-Rn(o),p=1<<c;p&s|n[c]&s&&(n[c]|=s),o&=~p}}function Is(n,s){var o=s&-s;return o=(o&42)!==0?1:zn(o),(o&(n.suspendedLanes|s))!==0?0:o}function zn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ot(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Bi(){var n=yt.p;return n!==0?n:(n=window.event,n===void 0?32:Fv(n.type))}function ro(n,s){var o=yt.p;try{return yt.p=n,s()}finally{yt.p=o}}var xi=Math.random().toString(36).slice(2),De="__reactFiber$"+xi,Xe="__reactProps$"+xi,Ci="__reactContainer$"+xi,Xn="__reactEvents$"+xi,Ri="__reactListeners$"+xi,ll="__reactHandles$"+xi,ao="__reactResources$"+xi,is="__reactMarker$"+xi;function hr(n){delete n[De],delete n[Xe],delete n[Xn],delete n[Ri],delete n[ll]}function ji(n){var s=n[De];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Ci]||o[De]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Cv(n);n!==null;){if(o=n[De])return o;n=Cv(n)}return s}n=o,o=n.parentNode}return null}function ss(n){if(n=n[De]||n[Ci]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Hi(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ii(n){var s=n[ao];return s||(s=n[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Be(n){n[is]=!0}var Kr=new Set,Os={};function In(n,s){ri(n,s),ri(n+"Capture",s)}function ri(n,s){for(Os[n]=s,n=0;n<s.length;n++)Kr.add(s[n])}var fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yr={},Qr={};function Ns(n){return Fr.call(Qr,n)?!0:Fr.call(Yr,n)?!1:fr.test(n)?Qr[n]=!0:(Yr[n]=!0,!1)}function Yt(n,s,o){if(Ns(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function ce(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function On(n,s,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+c)}}function Ge(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function oo(n,s,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Bt(n){if(!n._valueTracker){var s=rs(n)?"checked":"value";n._valueTracker=oo(n,s,""+n[s])}}function Ce(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return n&&(c=rs(n)?n.checked?"true":"false":n.value),n=c,n!==o?(s.setValue(n),!0):!1}function Ps(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ai=/[\n"\\]/g;function le(n){return n.replace(ai,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ls(n,s,o,c,p,g,w,I){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ge(s)):n.value!==""+Ge(s)&&(n.value=""+Ge(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?oi(n,w,Ge(s)):o!=null?oi(n,w,Ge(o)):c!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.name=""+Ge(I):n.removeAttribute("name")}function Fi(n,s,o,c,p,g,w,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Bt(n);return}o=o!=null?""+Ge(o):"",s=s!=null?""+Ge(s):o,I||s===n.value||(n.value=s),n.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=I?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),Bt(n)}function oi(n,s,o){s==="number"&&Ps(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function kt(n,s,o,c){if(n=n.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=s.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Ge(o),s=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function Wn(n,s,o){if(s!=null&&(s=""+Ge(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Ge(o):""}function li(n,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(be(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Ge(s),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),Bt(n)}function vn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function as(n,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,o):typeof o!="number"||o===0||lo.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Xr(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&as(n,p,c)}else for(var g in s)s.hasOwnProperty(g)&&as(n,g,s[g])}function dr(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ui(n){return uo.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function je(){}var mr=null;function Ds(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var os=null,Lt=null;function $n(n){var s=ss(n);if(s&&(n=s.stateNode)){var o=n[Xe]||null;t:switch(n=s.stateNode,s.type){case"input":if(Ls(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+le(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==n&&c.form===n.form){var p=c[Xe]||null;if(!p)throw Error(r(90));Ls(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===n.form&&Ce(c)}break t;case"textarea":Wn(n,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&kt(n,!!o.multiple,s,!1)}}}var he=!1;function co(n,s,o){if(he)return n(s,o);he=!0;try{var c=n(s);return c}finally{if(he=!1,(os!==null||Lt!==null)&&(Dh(),os&&(s=os,n=Lt,Lt=os=null,$n(s),n)))for(s=0;s<n.length;s++)$n(n[s])}}function Tn(n,s){var o=n.stateNode;if(o===null)return null;var c=o[Xe]||null;if(c===null)return null;o=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(Jn)try{var En={};Object.defineProperty(En,"passive",{get:function(){pr=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{pr=!1}var Nn=null,qi=null,we=null;function Un(){if(we)return we;var n,s=qi,o=s.length,c,p="value"in Nn?Nn.value:Nn.textContent,g=p.length;for(n=0;n<o&&s[n]===p[n];n++);var w=o-n;for(c=1;c<=w&&s[o-c]===p[g-c];c++);return we=p.slice(n,1<c?1-c:void 0)}function Ms(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ls(){return!0}function Re(){return!1}function mn(n){function s(o,c,p,g,w){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(o=n[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ls:Re,this.isPropagationStopped=Re,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),s}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=mn(Oi),us=x({},Oi,{view:0,detail:0}),$t=mn(us),ks,bn,We,Vs=x({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==We&&(We&&n.type==="mousemove"?(ks=n.screenX-We.screenX,bn=n.screenY-We.screenY):bn=ks=0,We=n),ks)},movementY:function(n){return"movementY"in n?n.movementY:bn}}),ul=mn(Vs),cs=x({},Vs,{dataTransfer:0}),cl=mn(cs),$r=x({},us,{relatedTarget:0}),zs=mn($r),hl=x({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Us=mn(hl),vu=x({},Oi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ti=mn(vu),_r=x({},Oi,{data:0}),Jr=mn(_r),Ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ta={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ea={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ea[n])?!!s[n]:!1}function Bs(){return na}var ho=x({},us,{key:function(n){if(n.key){var s=Ni[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ms(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ta[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(n){return n.type==="keypress"?Ms(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ms(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fo=mn(ho),hs=x({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=mn(hs),ia=x({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),fl=mn(ia),po=x({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yr=mn(po),nn=x({},Vs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Gi=mn(nn),dl=x({},Oi,{newState:0,oldState:0}),ci=mn(dl),d=[9,13,27,32],E=Jn&&"CompositionEvent"in window,A=null;Jn&&"documentMode"in document&&(A=document.documentMode);var O=Jn&&"TextEvent"in window&&!A,X=Jn&&(!E||A&&8<A&&11>=A),nt=" ",vt=!1;function fe(n,s){switch(n){case"keyup":return d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function He(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qt=!1;function ye(n,s){switch(n){case"compositionend":return He(s);case"keypress":return s.which!==32?null:(vt=!0,nt);case"textInput":return n=s.data,n===nt&&vt?null:n;default:return null}}function Me(n,s){if(Qt)return n==="compositionend"||!E&&fe(n,s)?(n=Un(),we=qi=Nn=null,Qt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return X&&s.locale!=="ko"?null:s.data;default:return null}}var js={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!js[n.type]:s==="textarea"}function vr(n,s,o,c){os?Lt?Lt.push(c):Lt=[c]:os=c,s=jh(s,"onChange"),0<s.length&&(o=new gr("onChange","change",null,o,c),n.push({event:o,listeners:s}))}var Bn=null,go=null;function _o(n){dv(n,0)}function yo(n){var s=Hi(n);if(Ce(s))return n}function vo(n,s){if(n==="change")return s}var $c=!1;if(Jn){var Zi;if(Jn){var sa="oninput"in document;if(!sa){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),sa=typeof Jc.oninput=="function"}Zi=sa}else Zi=!1;$c=Zi&&(!document.documentMode||9<document.documentMode)}function ml(){Bn&&(Bn.detachEvent("onpropertychange",th),go=Bn=null)}function th(n){if(n.propertyName==="value"&&yo(go)){var s=[];vr(s,go,n,Ds(n)),co(_o,s)}}function fs(n,s,o){n==="focusin"?(ml(),Bn=s,go=o,Bn.attachEvent("onpropertychange",th)):n==="focusout"&&ml()}function _d(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yo(go)}function ra(n,s){if(n==="click")return yo(s)}function yd(n,s){if(n==="input"||n==="change")return yo(s)}function ds(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var wn=typeof Object.is=="function"?Object.is:ds;function aa(n,s){if(wn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Fr.call(s,p)||!wn(n[p],s[p]))return!1}return!0}function pl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function To(n,s){var o=pl(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=s&&c>=s)return{node:o,offset:s-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=pl(o)}}function gl(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?gl(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Eo(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ps(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Ps(n.document)}return s}function Hs(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var _l=Jn&&"documentMode"in document&&11>=document.documentMode,Fs=null,yl=null,bo=null,oa=!1;function eh(n,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;oa||Fs==null||Fs!==Ps(c)||(c=Fs,"selectionStart"in c&&Hs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bo&&aa(bo,c)||(bo=c,c=jh(yl,"onSelect"),0<c.length&&(s=new gr("onSelect","select",null,s,o),n.push({event:s,listeners:c}),s.target=Fs)))}function qs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var la={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},vl={},nh={};Jn&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Sn(n){if(vl[n])return vl[n];if(!la[n])return n;var s=la[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in nh)return vl[n]=s[o];return n}var wo=Sn("animationend"),ih=Sn("animationiteration"),So=Sn("animationstart"),vd=Sn("transitionrun"),sh=Sn("transitionstart"),Td=Sn("transitioncancel"),ua=Sn("transitionend"),rh=new Map,Gs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gs.push("scrollEnd");function hi(n,s){rh.set(n,s),In(s,[n])}var Ao=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},fi=[],jn=0,Tl=0;function xo(){for(var n=jn,s=Tl=jn=0;s<n;){var o=fi[s];fi[s++]=null;var c=fi[s];fi[s++]=null;var p=fi[s];fi[s++]=null;var g=fi[s];if(fi[s++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}g!==0&&ca(o,p,g)}}function Zs(n,s,o,c){fi[jn++]=n,fi[jn++]=s,fi[jn++]=o,fi[jn++]=c,Tl|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Tu(n,s,o,c){return Zs(n,s,o,c),Co(n)}function Ki(n,s){return Zs(n,null,null,s),Co(n)}function ca(n,s,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&s!==null&&(p=31-Rn(o),n=g.hiddenUpdates,c=n[p],c===null?n[p]=[s]:c.push(s),s.lane=o|536870912),g):null}function Co(n){if(50<Gu)throw Gu=0,bm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Tr={};function Ed(n,s,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,s,o,c){return new Ed(n,s,o,c)}function El(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yi(n,s){var o=n.alternate;return o===null?(o=Hn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Eu(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ro(n,s,o,c,p,g){var w=0;if(c=n,typeof n=="function")El(n)&&(w=1);else if(typeof n=="string")w=a1(n,o,Tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case D:return n=Hn(31,o,s,p),n.elementType=D,n.lanes=g,n;case Z:return Er(o.children,p,g,s);case K:w=8,p|=24;break;case ht:return n=Hn(12,o,s,p|2),n.elementType=ht,n.lanes=g,n;case gt:return n=Hn(13,o,s,p),n.elementType=gt,n.lanes=g,n;case xt:return n=Hn(19,o,s,p),n.elementType=xt,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _t:w=10;break t;case pt:w=9;break t;case wt:w=11;break t;case k:w=14;break t;case N:w=16,c=null;break t}w=29,o=Error(r(130,n===null?"null":typeof n,"")),c=null}return s=Hn(w,o,s,p),s.elementType=n,s.type=c,s.lanes=g,s}function Er(n,s,o,c){return n=Hn(7,n,c,s),n.lanes=o,n}function bl(n,s,o){return n=Hn(6,n,null,s),n.lanes=o,n}function bu(n){var s=Hn(18,null,null,0);return s.stateNode=n,s}function wu(n,s,o){return s=Hn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var a=new WeakMap;function u(n,s){if(typeof n=="object"&&n!==null){var o=a.get(n);return o!==void 0?o:(s={value:n,source:s,stack:lr(s)},a.set(n,s),s)}return{value:n,source:s,stack:lr(s)}}var m=[],v=0,b=null,R=0,M=[],Q=0,J=null,lt=1,bt="";function Pt(n,s){m[v++]=R,m[v++]=b,b=n,R=s}function Xt(n,s,o){M[Q++]=lt,M[Q++]=bt,M[Q++]=J,J=n;var c=lt;n=bt;var p=32-Rn(c)-1;c&=~(1<<p),o+=1;var g=32-Rn(s)+p;if(30<g){var w=p-p%5;g=(c&(1<<w)-1).toString(32),c>>=w,p-=w,lt=1<<32-Rn(s)+p|o<<p|c,bt=g+n}else lt=1<<g|o<<p|c,bt=n}function pn(n){n.return!==null&&(Pt(n,1),Xt(n,1,0))}function Ze(n){for(;n===b;)b=m[--v],m[v]=null,R=m[--v],m[v]=null;for(;n===J;)J=M[--Q],M[Q]=null,bt=M[--Q],M[Q]=null,lt=M[--Q],M[Q]=null}function ei(n,s){M[Q++]=lt,M[Q++]=bt,M[Q++]=J,lt=s.id,bt=s.overflow,J=n}var de=null,me=null,ee=!1,Ks=null,di=!1,wl=Error(r(519));function Ys(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(u(s,n)),wl}function Su(n){var s=n.stateNode,o=n.type,c=n.memoizedProps;switch(s[De]=n,s[Xe]=c,o){case"dialog":ie("cancel",s),ie("close",s);break;case"iframe":case"object":case"embed":ie("load",s);break;case"video":case"audio":for(o=0;o<Ku.length;o++)ie(Ku[o],s);break;case"source":ie("error",s);break;case"img":case"image":case"link":ie("error",s),ie("load",s);break;case"details":ie("toggle",s);break;case"input":ie("invalid",s),Fi(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ie("invalid",s);break;case"textarea":ie("invalid",s),li(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||_v(s.textContent,o)?(c.popover!=null&&(ie("beforetoggle",s),ie("toggle",s)),c.onScroll!=null&&ie("scroll",s),c.onScrollEnd!=null&&ie("scrollend",s),c.onClick!=null&&(s.onclick=je),s=!0):s=!1,s||Ys(n,!0)}function Fe(n){for(de=n.return;de;)switch(de.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:de=de.return}}function ms(n){if(n!==de)return!1;if(!ee)return Fe(n),ee=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Vm(n.type,n.memoizedProps)),o=!o),o&&me&&Ys(n),Fe(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));me=xv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));me=xv(n)}else s===27?(s=me,Sa(n.type)?(n=Hm,Hm=null,me=n):me=s):me=de?Xi(n.stateNode.nextSibling):null;return!0}function br(){me=de=null,ee=!1}function Au(){var n=Ks;return n!==null&&(_i===null?_i=n:_i.push.apply(_i,n),Ks=null),n}function Io(n){Ks===null?Ks=[n]:Ks.push(n)}var Oo=B(null),Qs=null,ps=null;function ha(n,s,o){mt(Oo,s._currentValue),s._currentValue=o}function wr(n){n._currentValue=Oo.current,st(Oo)}function bd(n,s,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===o)break;n=n.return}}function wd(n,s,o,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var w=p.child;g=g.firstContext;t:for(;g!==null;){var I=g;g=p;for(var U=0;U<s.length;U++)if(I.context===s[U]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),bd(g.return,o,n),c||(w=null);break t}g=I.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),bd(w,o,n),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Sl(n,s,o,c){n=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var I=p.type;wn(p.pendingProps.value,w.value)||(n!==null?n.push(I):n=[I])}}else if(p===jt.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push($u):n=[$u])}p=p.return}n!==null&&wd(s,n,o,c),s.flags|=262144}function ah(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function No(n){Qs=n,ps=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Pn(n){return n_(Qs,n)}function oh(n,s){return Qs===null&&No(n),n_(n,s)}function n_(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ps===null){if(n===null)throw Error(r(308));ps=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ps=ps.next=s;return o}var nS=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},iS=i.unstable_scheduleCallback,sS=i.unstable_NormalPriority,sn={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new nS,data:new Map,refCount:0}}function xu(n){n.refCount--,n.refCount===0&&iS(sS,function(){n.controller.abort()})}var Cu=null,Ad=0,Al=0,xl=null;function rS(n,s){if(Cu===null){var o=Cu=[];Ad=0,Al=Rm(),xl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Ad++,s.then(i_,i_),s}function i_(){if(--Ad===0&&Cu!==null){xl!==null&&(xl.status="fulfilled");var n=Cu;Cu=null,Al=0,xl=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function aS(n,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var s_=et.S;et.S=function(n,s){jy=fn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&rS(n,s),s_!==null&&s_(n,s)};var Po=B(null);function xd(){var n=Po.current;return n!==null?n:Ie.pooledCache}function lh(n,s){s===null?mt(Po,Po.current):mt(Po,s.pool)}function r_(){var n=xd();return n===null?null:{parent:sn._currentValue,pool:n}}var Cl=Error(r(460)),Cd=Error(r(474)),uh=Error(r(542)),ch={then:function(){}};function a_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function o_(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(je,je),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,u_(n),n;default:if(typeof s.status=="string")s.then(je,je);else{if(n=Ie,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,u_(n),n}throw Do=s,Cl}}function Lo(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Do=o,Cl):o}}var Do=null;function l_(){if(Do===null)throw Error(r(459));var n=Do;return Do=null,n}function u_(n){if(n===Cl||n===uh)throw Error(r(483))}var Rl=null,Ru=0;function hh(n){var s=Ru;return Ru+=1,Rl===null&&(Rl=[]),o_(Rl,n,s)}function Iu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function fh(n,s){throw s.$$typeof===C?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function c_(n){function s(Y,F){if(n){var W=Y.deletions;W===null?(Y.deletions=[F],Y.flags|=16):W.push(F)}}function o(Y,F){if(!n)return null;for(;F!==null;)s(Y,F),F=F.sibling;return null}function c(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function p(Y,F){return Y=Yi(Y,F),Y.index=0,Y.sibling=null,Y}function g(Y,F,W){return Y.index=W,n?(W=Y.alternate,W!==null?(W=W.index,W<F?(Y.flags|=67108866,F):W):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function w(Y){return n&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,F,W,ot){return F===null||F.tag!==6?(F=bl(W,Y.mode,ot),F.return=Y,F):(F=p(F,W),F.return=Y,F)}function U(Y,F,W,ot){var Dt=W.type;return Dt===Z?rt(Y,F,W.props.children,ot,W.key):F!==null&&(F.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===N&&Lo(Dt)===F.type)?(F=p(F,W.props),Iu(F,W),F.return=Y,F):(F=Ro(W.type,W.key,W.props,null,Y.mode,ot),Iu(F,W),F.return=Y,F)}function $(Y,F,W,ot){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=wu(W,Y.mode,ot),F.return=Y,F):(F=p(F,W.children||[]),F.return=Y,F)}function rt(Y,F,W,ot,Dt){return F===null||F.tag!==7?(F=Er(W,Y.mode,ot,Dt),F.return=Y,F):(F=p(F,W),F.return=Y,F)}function ut(Y,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=bl(""+F,Y.mode,W),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case P:return W=Ro(F.type,F.key,F.props,null,Y.mode,W),Iu(W,F),W.return=Y,W;case G:return F=wu(F,Y.mode,W),F.return=Y,F;case N:return F=Lo(F),ut(Y,F,W)}if(be(F)||q(F))return F=Er(F,Y.mode,W,null),F.return=Y,F;if(typeof F.then=="function")return ut(Y,hh(F),W);if(F.$$typeof===_t)return ut(Y,oh(Y,F),W);fh(Y,F)}return null}function tt(Y,F,W,ot){var Dt=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Dt!==null?null:I(Y,F,""+W,ot);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case P:return W.key===Dt?U(Y,F,W,ot):null;case G:return W.key===Dt?$(Y,F,W,ot):null;case N:return W=Lo(W),tt(Y,F,W,ot)}if(be(W)||q(W))return Dt!==null?null:rt(Y,F,W,ot,null);if(typeof W.then=="function")return tt(Y,F,hh(W),ot);if(W.$$typeof===_t)return tt(Y,F,oh(Y,W),ot);fh(Y,W)}return null}function it(Y,F,W,ot,Dt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Y=Y.get(W)||null,I(F,Y,""+ot,Dt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case P:return Y=Y.get(ot.key===null?W:ot.key)||null,U(F,Y,ot,Dt);case G:return Y=Y.get(ot.key===null?W:ot.key)||null,$(F,Y,ot,Dt);case N:return ot=Lo(ot),it(Y,F,W,ot,Dt)}if(be(ot)||q(ot))return Y=Y.get(W)||null,rt(F,Y,ot,Dt,null);if(typeof ot.then=="function")return it(Y,F,W,hh(ot),Dt);if(ot.$$typeof===_t)return it(Y,F,W,oh(F,ot),Dt);fh(F,ot)}return null}function It(Y,F,W,ot){for(var Dt=null,pe=null,Nt=F,Wt=F=0,re=null;Nt!==null&&Wt<W.length;Wt++){Nt.index>Wt?(re=Nt,Nt=null):re=Nt.sibling;var ge=tt(Y,Nt,W[Wt],ot);if(ge===null){Nt===null&&(Nt=re);break}n&&Nt&&ge.alternate===null&&s(Y,Nt),F=g(ge,F,Wt),pe===null?Dt=ge:pe.sibling=ge,pe=ge,Nt=re}if(Wt===W.length)return o(Y,Nt),ee&&Pt(Y,Wt),Dt;if(Nt===null){for(;Wt<W.length;Wt++)Nt=ut(Y,W[Wt],ot),Nt!==null&&(F=g(Nt,F,Wt),pe===null?Dt=Nt:pe.sibling=Nt,pe=Nt);return ee&&Pt(Y,Wt),Dt}for(Nt=c(Nt);Wt<W.length;Wt++)re=it(Nt,Y,Wt,W[Wt],ot),re!==null&&(n&&re.alternate!==null&&Nt.delete(re.key===null?Wt:re.key),F=g(re,F,Wt),pe===null?Dt=re:pe.sibling=re,pe=re);return n&&Nt.forEach(function(Ia){return s(Y,Ia)}),ee&&Pt(Y,Wt),Dt}function Vt(Y,F,W,ot){if(W==null)throw Error(r(151));for(var Dt=null,pe=null,Nt=F,Wt=F=0,re=null,ge=W.next();Nt!==null&&!ge.done;Wt++,ge=W.next()){Nt.index>Wt?(re=Nt,Nt=null):re=Nt.sibling;var Ia=tt(Y,Nt,ge.value,ot);if(Ia===null){Nt===null&&(Nt=re);break}n&&Nt&&Ia.alternate===null&&s(Y,Nt),F=g(Ia,F,Wt),pe===null?Dt=Ia:pe.sibling=Ia,pe=Ia,Nt=re}if(ge.done)return o(Y,Nt),ee&&Pt(Y,Wt),Dt;if(Nt===null){for(;!ge.done;Wt++,ge=W.next())ge=ut(Y,ge.value,ot),ge!==null&&(F=g(ge,F,Wt),pe===null?Dt=ge:pe.sibling=ge,pe=ge);return ee&&Pt(Y,Wt),Dt}for(Nt=c(Nt);!ge.done;Wt++,ge=W.next())ge=it(Nt,Y,Wt,ge.value,ot),ge!==null&&(n&&ge.alternate!==null&&Nt.delete(ge.key===null?Wt:ge.key),F=g(ge,F,Wt),pe===null?Dt=ge:pe.sibling=ge,pe=ge);return n&&Nt.forEach(function(_1){return s(Y,_1)}),ee&&Pt(Y,Wt),Dt}function xe(Y,F,W,ot){if(typeof W=="object"&&W!==null&&W.type===Z&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case P:t:{for(var Dt=W.key;F!==null;){if(F.key===Dt){if(Dt=W.type,Dt===Z){if(F.tag===7){o(Y,F.sibling),ot=p(F,W.props.children),ot.return=Y,Y=ot;break t}}else if(F.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===N&&Lo(Dt)===F.type){o(Y,F.sibling),ot=p(F,W.props),Iu(ot,W),ot.return=Y,Y=ot;break t}o(Y,F);break}else s(Y,F);F=F.sibling}W.type===Z?(ot=Er(W.props.children,Y.mode,ot,W.key),ot.return=Y,Y=ot):(ot=Ro(W.type,W.key,W.props,null,Y.mode,ot),Iu(ot,W),ot.return=Y,Y=ot)}return w(Y);case G:t:{for(Dt=W.key;F!==null;){if(F.key===Dt)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){o(Y,F.sibling),ot=p(F,W.children||[]),ot.return=Y,Y=ot;break t}else{o(Y,F);break}else s(Y,F);F=F.sibling}ot=wu(W,Y.mode,ot),ot.return=Y,Y=ot}return w(Y);case N:return W=Lo(W),xe(Y,F,W,ot)}if(be(W))return It(Y,F,W,ot);if(q(W)){if(Dt=q(W),typeof Dt!="function")throw Error(r(150));return W=Dt.call(W),Vt(Y,F,W,ot)}if(typeof W.then=="function")return xe(Y,F,hh(W),ot);if(W.$$typeof===_t)return xe(Y,F,oh(Y,W),ot);fh(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(o(Y,F.sibling),ot=p(F,W),ot.return=Y,Y=ot):(o(Y,F),ot=bl(W,Y.mode,ot),ot.return=Y,Y=ot),w(Y)):o(Y,F)}return function(Y,F,W,ot){try{Ru=0;var Dt=xe(Y,F,W,ot);return Rl=null,Dt}catch(Nt){if(Nt===Cl||Nt===uh)throw Nt;var pe=Hn(29,Nt,null,Y.mode);return pe.lanes=ot,pe.return=Y,pe}finally{}}}var Mo=c_(!0),h_=c_(!1),fa=!1;function Rd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function da(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ma(n,s,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Co(n),ca(n,null,o),s}return Zs(n,c,s,o),Co(n)}function Ou(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,o|=c,s.lanes=o,Rs(n,o)}}function Od(n,s){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Nd=!1;function Nu(){if(Nd){var n=xl;if(n!==null)throw n}}function Pu(n,s,o,c){Nd=!1;var p=n.updateQueue;fa=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var U=I,$=U.next;U.next=null,w===null?g=$:w.next=$,w=U;var rt=n.alternate;rt!==null&&(rt=rt.updateQueue,I=rt.lastBaseUpdate,I!==w&&(I===null?rt.firstBaseUpdate=$:I.next=$,rt.lastBaseUpdate=U))}if(g!==null){var ut=p.baseState;w=0,rt=$=U=null,I=g;do{var tt=I.lane&-536870913,it=tt!==I.lane;if(it?(se&tt)===tt:(c&tt)===tt){tt!==0&&tt===Al&&(Nd=!0),rt!==null&&(rt=rt.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var It=n,Vt=I;tt=s;var xe=o;switch(Vt.tag){case 1:if(It=Vt.payload,typeof It=="function"){ut=It.call(xe,ut,tt);break t}ut=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Vt.payload,tt=typeof It=="function"?It.call(xe,ut,tt):It,tt==null)break t;ut=x({},ut,tt);break t;case 2:fa=!0}}tt=I.callback,tt!==null&&(n.flags|=64,it&&(n.flags|=8192),it=p.callbacks,it===null?p.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:I.tag,payload:I.payload,callback:I.callback,next:null},rt===null?($=rt=it,U=ut):rt=rt.next=it,w|=tt;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;it=I,I=it.next,it.next=null,p.lastBaseUpdate=it,p.shared.pending=null}}while(!0);rt===null&&(U=ut),p.baseState=U,p.firstBaseUpdate=$,p.lastBaseUpdate=rt,g===null&&(p.shared.lanes=0),va|=w,n.lanes=w,n.memoizedState=ut}}function f_(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function d_(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)f_(o[n],s)}var Il=B(null),dh=B(0);function m_(n,s){n=Pr,mt(dh,n),mt(Il,s),Pr=n|s.baseLanes}function Pd(){mt(dh,Pr),mt(Il,Il.current)}function Ld(){Pr=dh.current,st(Il),st(dh)}var Pi=B(null),Qi=null;function pa(n){var s=n.alternate;mt($e,$e.current&1),mt(Pi,n),Qi===null&&(s===null||Il.current!==null||s.memoizedState!==null)&&(Qi=n)}function Dd(n){mt($e,$e.current),mt(Pi,n),Qi===null&&(Qi=n)}function p_(n){n.tag===22?(mt($e,$e.current),mt(Pi,n),Qi===null&&(Qi=n)):ga()}function ga(){mt($e,$e.current),mt(Pi,Pi.current)}function Li(n){st(Pi),Qi===n&&(Qi=null),st($e)}var $e=B(0);function mh(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Bm(o)||jm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sr=0,Kt=null,Se=null,rn=null,ph=!1,Ol=!1,ko=!1,gh=0,Lu=0,Nl=null,oS=0;function Ke(){throw Error(r(321))}function Md(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!wn(n[o],s[o]))return!1;return!0}function kd(n,s,o,c,p,g){return Sr=g,Kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,et.H=n===null||n.memoizedState===null?$_:Wd,ko=!1,g=o(c,p),ko=!1,Ol&&(g=__(s,o,c,p)),g_(n),g}function g_(n){et.H=ku;var s=Se!==null&&Se.next!==null;if(Sr=0,rn=Se=Kt=null,ph=!1,Lu=0,Nl=null,s)throw Error(r(300));n===null||an||(n=n.dependencies,n!==null&&ah(n)&&(an=!0))}function __(n,s,o,c){Kt=n;var p=0;do{if(Ol&&(Nl=null),Lu=0,Ol=!1,25<=p)throw Error(r(301));if(p+=1,rn=Se=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}et.H=J_,g=s(o,c)}while(Ol);return g}function lS(){var n=et.H,s=n.useState()[0];return s=typeof s.then=="function"?Du(s):s,n=n.useState()[0],(Se!==null?Se.memoizedState:null)!==n&&(Kt.flags|=1024),s}function Vd(){var n=gh!==0;return gh=0,n}function zd(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Ud(n){if(ph){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ph=!1}Sr=0,rn=Se=Kt=null,Ol=!1,Lu=gh=0,Nl=null}function ni(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Kt.memoizedState=rn=n:rn=rn.next=n,rn}function Je(){if(Se===null){var n=Kt.alternate;n=n!==null?n.memoizedState:null}else n=Se.next;var s=rn===null?Kt.memoizedState:rn.next;if(s!==null)rn=s,Se=n;else{if(n===null)throw Kt.alternate===null?Error(r(467)):Error(r(310));Se=n,n={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},rn===null?Kt.memoizedState=rn=n:rn=rn.next=n}return rn}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(n){var s=Lu;return Lu+=1,Nl===null&&(Nl=[]),n=o_(Nl,n,s),s=Kt,(rn===null?s.memoizedState:rn.next)===null&&(s=s.alternate,et.H=s===null||s.memoizedState===null?$_:Wd),n}function yh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Du(n);if(n.$$typeof===_t)return Pn(n)}throw Error(r(438,String(n)))}function Bd(n){var s=null,o=Kt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=_h(),Kt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),c=0;c<n;c++)o[c]=H;return s.index++,o}function Ar(n,s){return typeof s=="function"?s(n):s}function vh(n){var s=Je();return jd(s,Se,n)}function jd(n,s,o){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=n.baseQueue,g=c.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}s.baseQueue=p=g,c.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{s=p.next;var I=w=null,U=null,$=s,rt=!1;do{var ut=$.lane&-536870913;if(ut!==$.lane?(se&ut)===ut:(Sr&ut)===ut){var tt=$.revertLane;if(tt===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ut===Al&&(rt=!0);else if((Sr&tt)===tt){$=$.next,tt===Al&&(rt=!0);continue}else ut={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(I=U=ut,w=g):U=U.next=ut,Kt.lanes|=tt,va|=tt;ut=$.action,ko&&o(g,ut),g=$.hasEagerState?$.eagerState:o(g,ut)}else tt={lane:ut,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},U===null?(I=U=tt,w=g):U=U.next=tt,Kt.lanes|=ut,va|=ut;$=$.next}while($!==null&&$!==s);if(U===null?w=g:U.next=I,!wn(g,n.memoizedState)&&(an=!0,rt&&(o=xl,o!==null)))throw o;n.memoizedState=g,n.baseState=w,n.baseQueue=U,c.lastRenderedState=g}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Hd(n){var s=Je(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var c=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do g=n(g,w.action),w=w.next;while(w!==p);wn(g,s.memoizedState)||(an=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function y_(n,s,o){var c=Kt,p=Je(),g=ee;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!wn((Se||p).memoizedState,o);if(w&&(p.memoizedState=o,an=!0),p=p.queue,Gd(E_.bind(null,c,p,n),[n]),p.getSnapshot!==s||w||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,Pl(9,{destroy:void 0},T_.bind(null,c,p,o,s),null),Ie===null)throw Error(r(349));g||(Sr&127)!==0||v_(c,s,o)}return o}function v_(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Kt.updateQueue,s===null?(s=_h(),Kt.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function T_(n,s,o,c){s.value=o,s.getSnapshot=c,b_(s)&&w_(n)}function E_(n,s,o){return o(function(){b_(s)&&w_(n)})}function b_(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!wn(n,o)}catch{return!0}}function w_(n){var s=Ki(n,2);s!==null&&yi(s,n,2)}function Fd(n){var s=ni();if(typeof n=="function"){var o=n;if(n=o(),ko){Qn(!0);try{o()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:n},s}function S_(n,s,o,c){return n.baseState=o,jd(n,Se,typeof c=="function"?c:Ar)}function uS(n,s,o,c,p){if(bh(n))throw Error(r(485));if(n=s.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};et.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,A_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function A_(n,s){var o=s.action,c=s.payload,p=n.state;if(s.isTransition){var g=et.T,w={};et.T=w;try{var I=o(p,c),U=et.S;U!==null&&U(w,I),x_(n,s,I)}catch($){qd(n,s,$)}finally{g!==null&&w.types!==null&&(g.types=w.types),et.T=g}}else try{g=o(p,c),x_(n,s,g)}catch($){qd(n,s,$)}}function x_(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){C_(n,s,c)},function(c){return qd(n,s,c)}):C_(n,s,o)}function C_(n,s,o){s.status="fulfilled",s.value=o,R_(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,A_(n,o)))}function qd(n,s,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,R_(s),s=s.next;while(s!==c)}n.action=null}function R_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function I_(n,s){return s}function O_(n,s){if(ee){var o=Ie.formState;if(o!==null){t:{var c=Kt;if(ee){if(me){e:{for(var p=me,g=di;p.nodeType!==8;){if(!g){p=null;break e}if(p=Xi(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){me=Xi(p.nextSibling),c=p.data==="F!";break t}}Ys(c)}c=!1}c&&(s=o[0])}}return o=ni(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:s},o.queue=c,o=Q_.bind(null,Kt,c),c.dispatch=o,c=Fd(!1),g=Xd.bind(null,Kt,!1,c.queue),c=ni(),p={state:s,dispatch:null,action:n,pending:null},c.queue=p,o=uS.bind(null,Kt,p,g,o),p.dispatch=o,c.memoizedState=n,[s,o,!1]}function N_(n){var s=Je();return P_(s,Se,n)}function P_(n,s,o){if(s=jd(n,s,I_)[0],n=vh(Ar)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Du(s)}catch(w){throw w===Cl?uh:w}else c=s;s=Je();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Kt.flags|=2048,Pl(9,{destroy:void 0},cS.bind(null,p,o),null)),[c,g,n]}function cS(n,s){n.action=s}function L_(n){var s=Je(),o=Se;if(o!==null)return P_(s,o,n);Je(),s=s.memoizedState,o=Je();var c=o.queue.dispatch;return o.memoizedState=n,[s,c,!1]}function Pl(n,s,o,c){return n={tag:n,create:o,deps:c,inst:s,next:null},s=Kt.updateQueue,s===null&&(s=_h(),Kt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,s.lastEffect=n),n}function D_(){return Je().memoizedState}function Th(n,s,o,c){var p=ni();Kt.flags|=n,p.memoizedState=Pl(1|s,{destroy:void 0},o,c===void 0?null:c)}function Eh(n,s,o,c){var p=Je();c=c===void 0?null:c;var g=p.memoizedState.inst;Se!==null&&c!==null&&Md(c,Se.memoizedState.deps)?p.memoizedState=Pl(s,g,o,c):(Kt.flags|=n,p.memoizedState=Pl(1|s,g,o,c))}function M_(n,s){Th(8390656,8,n,s)}function Gd(n,s){Eh(2048,8,n,s)}function hS(n){Kt.flags|=4;var s=Kt.updateQueue;if(s===null)s=_h(),Kt.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function k_(n){var s=Je().memoizedState;return hS({ref:s,nextImpl:n}),function(){if((_e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function V_(n,s){return Eh(4,2,n,s)}function z_(n,s){return Eh(4,4,n,s)}function U_(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function B_(n,s,o){o=o!=null?o.concat([n]):null,Eh(4,4,U_.bind(null,s,n),o)}function Zd(){}function j_(n,s){var o=Je();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Md(s,c[1])?c[0]:(o.memoizedState=[n,s],n)}function H_(n,s){var o=Je();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Md(s,c[1]))return c[0];if(c=n(),ko){Qn(!0);try{n()}finally{Qn(!1)}}return o.memoizedState=[c,s],c}function Kd(n,s,o){return o===void 0||(Sr&1073741824)!==0&&(se&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=Fy(),Kt.lanes|=n,va|=n,o)}function F_(n,s,o,c){return wn(o,s)?o:Il.current!==null?(n=Kd(n,o,c),wn(n,s)||(an=!0),n):(Sr&42)===0||(Sr&1073741824)!==0&&(se&261930)===0?(an=!0,n.memoizedState=o):(n=Fy(),Kt.lanes|=n,va|=n,s)}function q_(n,s,o,c,p){var g=yt.p;yt.p=g!==0&&8>g?g:8;var w=et.T,I={};et.T=I,Xd(n,!1,s,o);try{var U=p(),$=et.S;if($!==null&&$(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var rt=aS(U,c);Mu(n,s,rt,ki(n))}else Mu(n,s,c,ki(n))}catch(ut){Mu(n,s,{then:function(){},status:"rejected",reason:ut},ki())}finally{yt.p=g,w!==null&&I.types!==null&&(w.types=I.types),et.T=w}}function fS(){}function Yd(n,s,o,c){if(n.tag!==5)throw Error(r(476));var p=G_(n).queue;q_(n,p,s,ft,o===null?fS:function(){return Z_(n),o(c)})}function G_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Z_(n){var s=G_(n);s.next===null&&(s=n.alternate.memoizedState),Mu(n,s.next.queue,{},ki())}function Qd(){return Pn($u)}function K_(){return Je().memoizedState}function Y_(){return Je().memoizedState}function dS(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=ki();n=da(o);var c=ma(s,n,o);c!==null&&(yi(c,s,o),Ou(c,s,o)),s={cache:Sd()},n.payload=s;return}s=s.return}}function mS(n,s,o){var c=ki();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},bh(n)?X_(s,o):(o=Tu(n,s,o,c),o!==null&&(yi(o,n,c),W_(o,s,c)))}function Q_(n,s,o){var c=ki();Mu(n,s,o,c)}function Mu(n,s,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(bh(n))X_(s,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,I=g(w,o);if(p.hasEagerState=!0,p.eagerState=I,wn(I,w))return Zs(n,s,p,0),Ie===null&&xo(),!1}catch{}finally{}if(o=Tu(n,s,p,c),o!==null)return yi(o,n,c),W_(o,s,c),!0}return!1}function Xd(n,s,o,c){if(c={lane:2,revertLane:Rm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},bh(n)){if(s)throw Error(r(479))}else s=Tu(n,o,c,2),s!==null&&yi(s,n,2)}function bh(n){var s=n.alternate;return n===Kt||s!==null&&s===Kt}function X_(n,s){Ol=ph=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function W_(n,s,o){if((o&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,o|=c,s.lanes=o,Rs(n,o)}}var ku={readContext:Pn,use:yh,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};ku.useEffectEvent=Ke;var $_={readContext:Pn,use:yh,useCallback:function(n,s){return ni().memoizedState=[n,s===void 0?null:s],n},useContext:Pn,useEffect:M_,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Th(4194308,4,U_.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Th(4194308,4,n,s)},useInsertionEffect:function(n,s){Th(4,2,n,s)},useMemo:function(n,s){var o=ni();s=s===void 0?null:s;var c=n();if(ko){Qn(!0);try{n()}finally{Qn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(n,s,o){var c=ni();if(o!==void 0){var p=o(s);if(ko){Qn(!0);try{o(s)}finally{Qn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=mS.bind(null,Kt,n),[c.memoizedState,n]},useRef:function(n){var s=ni();return n={current:n},s.memoizedState=n},useState:function(n){n=Fd(n);var s=n.queue,o=Q_.bind(null,Kt,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Zd,useDeferredValue:function(n,s){var o=ni();return Kd(o,n,s)},useTransition:function(){var n=Fd(!1);return n=q_.bind(null,Kt,n.queue,!0,!1),ni().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var c=Kt,p=ni();if(ee){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ie===null)throw Error(r(349));(se&127)!==0||v_(c,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,M_(E_.bind(null,c,g,n),[n]),c.flags|=2048,Pl(9,{destroy:void 0},T_.bind(null,c,g,o,s),null),o},useId:function(){var n=ni(),s=Ie.identifierPrefix;if(ee){var o=bt,c=lt;o=(c&~(1<<32-Rn(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=gh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=oS++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Qd,useFormState:O_,useActionState:O_,useOptimistic:function(n){var s=ni();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Xd.bind(null,Kt,!0,o),o.dispatch=s,[n,s]},useMemoCache:Bd,useCacheRefresh:function(){return ni().memoizedState=dS.bind(null,Kt)},useEffectEvent:function(n){var s=ni(),o={impl:n};return s.memoizedState=o,function(){if((_e&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Wd={readContext:Pn,use:yh,useCallback:j_,useContext:Pn,useEffect:Gd,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:z_,useMemo:H_,useReducer:vh,useRef:D_,useState:function(){return vh(Ar)},useDebugValue:Zd,useDeferredValue:function(n,s){var o=Je();return F_(o,Se.memoizedState,n,s)},useTransition:function(){var n=vh(Ar)[0],s=Je().memoizedState;return[typeof n=="boolean"?n:Du(n),s]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:Qd,useFormState:N_,useActionState:N_,useOptimistic:function(n,s){var o=Je();return S_(o,Se,n,s)},useMemoCache:Bd,useCacheRefresh:Y_};Wd.useEffectEvent=k_;var J_={readContext:Pn,use:yh,useCallback:j_,useContext:Pn,useEffect:Gd,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:z_,useMemo:H_,useReducer:Hd,useRef:D_,useState:function(){return Hd(Ar)},useDebugValue:Zd,useDeferredValue:function(n,s){var o=Je();return Se===null?Kd(o,n,s):F_(o,Se.memoizedState,n,s)},useTransition:function(){var n=Hd(Ar)[0],s=Je().memoizedState;return[typeof n=="boolean"?n:Du(n),s]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:Qd,useFormState:L_,useActionState:L_,useOptimistic:function(n,s){var o=Je();return Se!==null?S_(o,Se,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:Y_};J_.useEffectEvent=k_;function $d(n,s,o,c){s=n.memoizedState,o=o(c,s),o=o==null?s:x({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Jd={enqueueSetState:function(n,s,o){n=n._reactInternals;var c=ki(),p=da(c);p.payload=s,o!=null&&(p.callback=o),s=ma(n,p,c),s!==null&&(yi(s,n,c),Ou(s,n,c))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var c=ki(),p=da(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ma(n,p,c),s!==null&&(yi(s,n,c),Ou(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=ki(),c=da(o);c.tag=2,s!=null&&(c.callback=s),s=ma(n,c,o),s!==null&&(yi(s,n,o),Ou(s,n,o))}};function ty(n,s,o,c,p,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!aa(o,c)||!aa(p,g):!0}function ey(n,s,o,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==n&&Jd.enqueueReplaceState(s,s.state,null)}function Vo(n,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(n=n.defaultProps){o===s&&(o=x({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function ny(n){Ao(n)}function iy(n){console.error(n)}function sy(n){Ao(n)}function wh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function ry(n,s,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function tm(n,s,o){return o=da(o),o.tag=3,o.payload={element:null},o.callback=function(){wh(n,s)},o}function ay(n){return n=da(n),n.tag=3,n}function oy(n,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;n.payload=function(){return p(g)},n.callback=function(){ry(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){ry(s,o,c),typeof p!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function pS(n,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Sl(s,o,p,!0),o=Pi.current,o!==null){switch(o.tag){case 31:case 13:return Qi===null?Mh():o.alternate===null&&Ye===0&&(Ye=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===ch?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Am(n,c,p)),!1;case 22:return o.flags|=65536,c===ch?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Am(n,c,p)),!1}throw Error(r(435,o.tag))}return Am(n,c,p),Mh(),!1}if(ee)return s=Pi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==wl&&(n=Error(r(422),{cause:c}),Io(u(n,o)))):(c!==wl&&(s=Error(r(423),{cause:c}),Io(u(s,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=u(c,o),p=tm(n.stateNode,c,p),Od(n,p),Ye!==4&&(Ye=2)),!1;var g=Error(r(520),{cause:c});if(g=u(g,o),qu===null?qu=[g]:qu.push(g),Ye!==4&&(Ye=2),s===null)return!0;c=u(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=tm(o.stateNode,c,n),Od(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ta===null||!Ta.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=ay(p),oy(p,n,o,c),Od(o,p),!1}o=o.return}while(o!==null);return!1}var em=Error(r(461)),an=!1;function Ln(n,s,o,c){s.child=n===null?h_(s,null,o,c):Mo(s,n.child,o,c)}function ly(n,s,o,c,p){o=o.render;var g=s.ref;if("ref"in c){var w={};for(var I in c)I!=="ref"&&(w[I]=c[I])}else w=c;return No(s),c=kd(n,s,o,w,g,p),I=Vd(),n!==null&&!an?(zd(n,s,p),xr(n,s,p)):(ee&&I&&pn(s),s.flags|=1,Ln(n,s,c,p),s.child)}function uy(n,s,o,c,p){if(n===null){var g=o.type;return typeof g=="function"&&!El(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,cy(n,s,g,c,p)):(n=Ro(o.type,null,c,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!um(n,p)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:aa,o(w,c)&&n.ref===s.ref)return xr(n,s,p)}return s.flags|=1,n=Yi(g,c),n.ref=s.ref,n.return=s,s.child=n}function cy(n,s,o,c,p){if(n!==null){var g=n.memoizedProps;if(aa(g,c)&&n.ref===s.ref)if(an=!1,s.pendingProps=c=g,um(n,p))(n.flags&131072)!==0&&(an=!0);else return s.lanes=n.lanes,xr(n,s,p)}return nm(n,s,o,c,p)}function hy(n,s,o,c){var p=c.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(c=s.child=n.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,s.child=null;return fy(n,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&lh(s,g!==null?g.cachePool:null),g!==null?m_(s,g):Pd(),p_(s);else return c=s.lanes=536870912,fy(n,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(lh(s,g.cachePool),m_(s,g),ga(),s.memoizedState=null):(n!==null&&lh(s,null),Pd(),ga());return Ln(n,s,p,o),s.child}function Vu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function fy(n,s,o,c,p){var g=xd();return g=g===null?null:{parent:sn._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&lh(s,null),Pd(),p_(s),n!==null&&Sl(n,s,c,!0),s.childLanes=p,null}function Sh(n,s){return s=xh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function dy(n,s,o){return Mo(s,n.child,null,o),n=Sh(s,s.pendingProps),n.flags|=2,Li(s),s.memoizedState=null,n}function gS(n,s,o){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(ee){if(c.mode==="hidden")return n=Sh(s,c),s.lanes=536870912,Vu(null,n);if(Dd(s),(n=me)?(n=Av(n,di),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:J!==null?{id:lt,overflow:bt}:null,retryLane:536870912,hydrationErrors:null},o=bu(n),o.return=s,s.child=o,de=s,me=null)):n=null,n===null)throw Ys(s);return s.lanes=536870912,null}return Sh(s,c)}var g=n.memoizedState;if(g!==null){var w=g.dehydrated;if(Dd(s),p)if(s.flags&256)s.flags&=-257,s=dy(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(an||Sl(n,s,o,!1),p=(o&n.childLanes)!==0,an||p){if(c=Ie,c!==null&&(w=Is(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,Ki(n,w),yi(c,n,w),em;Mh(),s=dy(n,s,o)}else n=g.treeContext,me=Xi(w.nextSibling),de=s,ee=!0,Ks=null,di=!1,n!==null&&ei(s,n),s=Sh(s,c),s.flags|=4096;return s}return n=Yi(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Ah(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function nm(n,s,o,c,p){return No(s),o=kd(n,s,o,c,void 0,p),c=Vd(),n!==null&&!an?(zd(n,s,p),xr(n,s,p)):(ee&&c&&pn(s),s.flags|=1,Ln(n,s,o,p),s.child)}function my(n,s,o,c,p,g){return No(s),s.updateQueue=null,o=__(s,c,o,p),g_(n),c=Vd(),n!==null&&!an?(zd(n,s,g),xr(n,s,g)):(ee&&c&&pn(s),s.flags|=1,Ln(n,s,o,g),s.child)}function py(n,s,o,c,p){if(No(s),s.stateNode===null){var g=Tr,w=o.contextType;typeof w=="object"&&w!==null&&(g=Pn(w)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Rd(s),w=o.contextType,g.context=typeof w=="object"&&w!==null?Pn(w):Tr,g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&($d(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Jd.enqueueReplaceState(g,g.state,null),Pu(s,c,g,p),Nu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){g=s.stateNode;var I=s.memoizedProps,U=Vo(o,I);g.props=U;var $=g.context,rt=o.contextType;w=Tr,typeof rt=="object"&&rt!==null&&(w=Pn(rt));var ut=o.getDerivedStateFromProps;rt=typeof ut=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,rt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||$!==w)&&ey(s,g,c,w),fa=!1;var tt=s.memoizedState;g.state=tt,Pu(s,c,g,p),Nu(),$=s.memoizedState,I||tt!==$||fa?(typeof ut=="function"&&($d(s,o,ut,c),$=s.memoizedState),(U=fa||ty(s,o,U,c,tt,$,w))?(rt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=$),g.props=c,g.state=$,g.context=w,c=U):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Id(n,s),w=s.memoizedProps,rt=Vo(o,w),g.props=rt,ut=s.pendingProps,tt=g.context,$=o.contextType,U=Tr,typeof $=="object"&&$!==null&&(U=Pn($)),I=o.getDerivedStateFromProps,($=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ut||tt!==U)&&ey(s,g,c,U),fa=!1,tt=s.memoizedState,g.state=tt,Pu(s,c,g,p),Nu();var it=s.memoizedState;w!==ut||tt!==it||fa||n!==null&&n.dependencies!==null&&ah(n.dependencies)?(typeof I=="function"&&($d(s,o,I,c),it=s.memoizedState),(rt=fa||ty(s,o,rt,c,tt,it,U)||n!==null&&n.dependencies!==null&&ah(n.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,it,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,it,U)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&tt===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&tt===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=it),g.props=c,g.state=it,g.context=U,c=rt):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&tt===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&tt===n.memoizedState||(s.flags|=1024),c=!1)}return g=c,Ah(n,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&c?(s.child=Mo(s,n.child,null,p),s.child=Mo(s,null,o,p)):Ln(n,s,o,p),s.memoizedState=g.state,n=s.child):n=xr(n,s,p),n}function gy(n,s,o,c){return br(),s.flags|=256,Ln(n,s,o,c),s.child}var im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sm(n){return{baseLanes:n,cachePool:r_()}}function rm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Mi),n}function _y(n,s,o){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=n!==null&&n.memoizedState===null?!1:($e.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(ee){if(p?pa(s):ga(),(n=me)?(n=Av(n,di),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:J!==null?{id:lt,overflow:bt}:null,retryLane:536870912,hydrationErrors:null},o=bu(n),o.return=s,s.child=o,de=s,me=null)):n=null,n===null)throw Ys(s);return jm(n)?s.lanes=32:s.lanes=536870912,null}var I=c.children;return c=c.fallback,p?(ga(),p=s.mode,I=xh({mode:"hidden",children:I},p),c=Er(c,p,o,null),I.return=s,c.return=s,I.sibling=c,s.child=I,c=s.child,c.memoizedState=sm(o),c.childLanes=rm(n,w,o),s.memoizedState=im,Vu(null,c)):(pa(s),am(s,I))}var U=n.memoizedState;if(U!==null&&(I=U.dehydrated,I!==null)){if(g)s.flags&256?(pa(s),s.flags&=-257,s=om(n,s,o)):s.memoizedState!==null?(ga(),s.child=n.child,s.flags|=128,s=null):(ga(),I=c.fallback,p=s.mode,c=xh({mode:"visible",children:c.children},p),I=Er(I,p,o,null),I.flags|=2,c.return=s,I.return=s,c.sibling=I,s.child=c,Mo(s,n.child,null,o),c=s.child,c.memoizedState=sm(o),c.childLanes=rm(n,w,o),s.memoizedState=im,s=Vu(null,c));else if(pa(s),jm(I)){if(w=I.nextSibling&&I.nextSibling.dataset,w)var $=w.dgst;w=$,c=Error(r(419)),c.stack="",c.digest=w,Io({value:c,source:null,stack:null}),s=om(n,s,o)}else if(an||Sl(n,s,o,!1),w=(o&n.childLanes)!==0,an||w){if(w=Ie,w!==null&&(c=Is(w,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,Ki(n,c),yi(w,n,c),em;Bm(I)||Mh(),s=om(n,s,o)}else Bm(I)?(s.flags|=192,s.child=n.child,s=null):(n=U.treeContext,me=Xi(I.nextSibling),de=s,ee=!0,Ks=null,di=!1,n!==null&&ei(s,n),s=am(s,c.children),s.flags|=4096);return s}return p?(ga(),I=c.fallback,p=s.mode,U=n.child,$=U.sibling,c=Yi(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,$!==null?I=Yi($,I):(I=Er(I,p,o,null),I.flags|=2),I.return=s,c.return=s,c.sibling=I,s.child=c,Vu(null,c),c=s.child,I=n.child.memoizedState,I===null?I=sm(o):(p=I.cachePool,p!==null?(U=sn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=r_(),I={baseLanes:I.baseLanes|o,cachePool:p}),c.memoizedState=I,c.childLanes=rm(n,w,o),s.memoizedState=im,Vu(n.child,c)):(pa(s),o=n.child,n=o.sibling,o=Yi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=o,s.memoizedState=null,o)}function am(n,s){return s=xh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function xh(n,s){return n=Hn(22,n,null,s),n.lanes=0,n}function om(n,s,o){return Mo(s,n.child,null,o),n=am(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function yy(n,s,o){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),bd(n.return,s,o)}function lm(n,s,o,c,p,g){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=p,w.treeForkCount=g)}function vy(n,s,o){var c=s.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var w=$e.current,I=(w&2)!==0;if(I?(w=w&1|2,s.flags|=128):w&=1,mt($e,w),Ln(n,s,c,o),c=ee?R:0,!I&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&yy(n,o,s);else if(n.tag===19)yy(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)n=o.alternate,n!==null&&mh(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),lm(s,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&mh(n)===null){s.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}lm(s,!0,o,null,g,c);break;case"together":lm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function xr(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),va|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Sl(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Yi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Yi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function um(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ah(n)))}function _S(n,s,o){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),ha(s,sn,n.memoizedState.cache),br();break;case 27:case 5:ii(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:ha(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(pa(s),s.flags|=128,null):(o&s.child.childLanes)!==0?_y(n,s,o):(pa(s),n=xr(n,s,o),n!==null?n.sibling:null);pa(s);break;case 19:var p=(n.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Sl(n,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return vy(n,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt($e,$e.current),c)break;return null;case 22:return s.lanes=0,hy(n,s,o,s.pendingProps);case 24:ha(s,sn,n.memoizedState.cache)}return xr(n,s,o)}function Ty(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)an=!0;else{if(!um(n,o)&&(s.flags&128)===0)return an=!1,_S(n,s,o);an=(n.flags&131072)!==0}else an=!1,ee&&(s.flags&1048576)!==0&&Xt(s,R,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(n=Lo(s.elementType),s.type=n,typeof n=="function")El(n)?(c=Vo(n,c),s.tag=1,s=py(null,s,n,c,o)):(s.tag=0,s=nm(null,s,n,c,o));else{if(n!=null){var p=n.$$typeof;if(p===wt){s.tag=11,s=ly(null,s,n,c,o);break t}else if(p===k){s.tag=14,s=uy(null,s,n,c,o);break t}}throw s=te(n)||n,Error(r(306,s,""))}}return s;case 0:return nm(n,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=Vo(c,s.pendingProps),py(n,s,c,p,o);case 3:t:{if(Oe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,Id(n,s),Pu(s,c,null,o);var w=s.memoizedState;if(c=w.cache,ha(s,sn,c),c!==g.cache&&wd(s,[sn],o,!0),Nu(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=gy(n,s,c,o);break t}else if(c!==p){p=u(Error(r(424)),s),Io(p),s=gy(n,s,c,o);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(me=Xi(n.firstChild),de=s,ee=!0,Ks=null,di=!0,o=h_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(br(),c===p){s=xr(n,s,o);break t}Ln(n,s,c,o)}s=s.child}return s;case 26:return Ah(n,s),n===null?(o=Nv(s.type,null,s.pendingProps,null))?s.memoizedState=o:ee||(o=s.type,n=s.pendingProps,c=Hh(At.current).createElement(o),c[De]=s,c[Xe]=n,Dn(c,o,n),Be(c),s.stateNode=c):s.memoizedState=Nv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ii(s),n===null&&ee&&(c=s.stateNode=Rv(s.type,s.pendingProps,At.current),de=s,di=!0,p=me,Sa(s.type)?(Hm=p,me=Xi(c.firstChild)):me=p),Ln(n,s,s.pendingProps.children,o),Ah(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&ee&&((p=c=me)&&(c=KS(c,s.type,s.pendingProps,di),c!==null?(s.stateNode=c,de=s,me=Xi(c.firstChild),di=!1,p=!0):p=!1),p||Ys(s)),ii(s),p=s.type,g=s.pendingProps,w=n!==null?n.memoizedProps:null,c=g.children,Vm(p,g)?c=null:w!==null&&Vm(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=kd(n,s,lS,null,null,o),$u._currentValue=p),Ah(n,s),Ln(n,s,c,o),s.child;case 6:return n===null&&ee&&((n=o=me)&&(o=YS(o,s.pendingProps,di),o!==null?(s.stateNode=o,de=s,me=null,n=!0):n=!1),n||Ys(s)),null;case 13:return _y(n,s,o);case 4:return Oe(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Mo(s,null,c,o):Ln(n,s,c,o),s.child;case 11:return ly(n,s,s.type,s.pendingProps,o);case 7:return Ln(n,s,s.pendingProps,o),s.child;case 8:return Ln(n,s,s.pendingProps.children,o),s.child;case 12:return Ln(n,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ha(s,s.type,c.value),Ln(n,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,No(s),p=Pn(p),c=c(p),s.flags|=1,Ln(n,s,c,o),s.child;case 14:return uy(n,s,s.type,s.pendingProps,o);case 15:return cy(n,s,s.type,s.pendingProps,o);case 19:return vy(n,s,o);case 31:return gS(n,s,o);case 22:return hy(n,s,o,s.pendingProps);case 24:return No(s),c=Pn(sn),n===null?(p=xd(),p===null&&(p=Ie,g=Sd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:c,cache:p},Rd(s),ha(s,sn,p)):((n.lanes&o)!==0&&(Id(n,s),Pu(s,null,null,o),Nu()),p=n.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ha(s,sn,c)):(c=g.cache,ha(s,sn,c),c!==p.cache&&wd(s,[sn],o,!0))),Ln(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Cr(n){n.flags|=4}function cm(n,s,o,c,p){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(Ky())n.flags|=8192;else throw Do=ch,Cd}else n.flags&=-16777217}function Ey(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!kv(s))if(Ky())n.flags|=8192;else throw Do=ch,Cd}function Ch(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?io():536870912,n.lanes|=s,kl|=s)}function zu(n,s){if(!ee)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function ke(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(s)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=o,s}function yS(n,s,o){var c=s.pendingProps;switch(Ze(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(s),null;case 1:return ke(s),null;case 3:return o=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wr(sn),Ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ms(s)?Cr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Au())),ke(s),null;case 26:var p=s.type,g=s.memoizedState;return n===null?(Cr(s),g!==null?(ke(s),Ey(s,g)):(ke(s),cm(s,p,null,c,o))):g?g!==n.memoizedState?(Cr(s),ke(s),Ey(s,g)):(ke(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&Cr(s),ke(s),cm(s,p,n,c,o)),null;case 27:if(Ei(s),o=At.current,p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Cr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ke(s),null}n=Tt.current,ms(s)?Su(s):(n=Rv(p,c,o),s.stateNode=n,Cr(s))}return ke(s),null;case 5:if(Ei(s),p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Cr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ke(s),null}if(g=Tt.current,ms(s))Su(s);else{var w=Hh(At.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(p,{is:c.is}):w.createElement(p)}}g[De]=s,g[Xe]=c;t:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break t;for(;w.sibling===null;){if(w.return===null||w.return===s)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=g;t:switch(Dn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Cr(s)}}return ke(s),cm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&Cr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(n=At.current,ms(s)){if(n=s.stateNode,o=s.memoizedProps,c=null,p=de,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[De]=s,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||_v(n.nodeValue,o)),n||Ys(s,!0)}else n=Hh(n).createTextNode(c),n[De]=s,s.stateNode=n}return ke(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(c=ms(s),o!==null){if(n===null){if(!c)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[De]=s}else br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ke(s),n=!1}else o=Au(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Li(s),s):(Li(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ke(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=ms(s),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[De]=s}else br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ke(s),p=!1}else p=Au(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Li(s),s):(Li(s),null)}return Li(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Ch(s,s.updateQueue),ke(s),null);case 4:return Ne(),n===null&&Pm(s.stateNode.containerInfo),ke(s),null;case 10:return wr(s.type),ke(s),null;case 19:if(st($e),c=s.memoizedState,c===null)return ke(s),null;if(p=(s.flags&128)!==0,g=c.rendering,g===null)if(p)zu(c,!1);else{if(Ye!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=mh(n),g!==null){for(s.flags|=128,zu(c,!1),n=g.updateQueue,s.updateQueue=n,Ch(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Eu(o,n),o=o.sibling;return mt($e,$e.current&1|2),ee&&Pt(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&fn()>Ph&&(s.flags|=128,p=!0,zu(c,!1),s.lanes=4194304)}else{if(!p)if(n=mh(g),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,Ch(s,n),zu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!ee)return ke(s),null}else 2*fn()-c.renderingStartTime>Ph&&o!==536870912&&(s.flags|=128,p=!0,zu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(n=c.last,n!==null?n.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,o=$e.current,mt($e,p?o&1|2:o&1),ee&&Pt(s,c.treeForkCount),n):(ke(s),null);case 22:case 23:return Li(s),Ld(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(ke(s),s.subtreeFlags&6&&(s.flags|=8192)):ke(s),o=s.updateQueue,o!==null&&Ch(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),n!==null&&st(Po),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),wr(sn),ke(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function vS(n,s){switch(Ze(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return wr(sn),Ne(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ei(s),null;case 31:if(s.memoizedState!==null){if(Li(s),s.alternate===null)throw Error(r(340));br()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Li(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));br()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return st($e),null;case 4:return Ne(),null;case 10:return wr(s.type),null;case 22:case 23:return Li(s),Ld(),n!==null&&st(Po),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return wr(sn),null;case 25:return null;default:return null}}function by(n,s){switch(Ze(s),s.tag){case 3:wr(sn),Ne();break;case 26:case 27:case 5:Ei(s);break;case 4:Ne();break;case 31:s.memoizedState!==null&&Li(s);break;case 13:Li(s);break;case 19:st($e);break;case 10:wr(s.type);break;case 22:case 23:Li(s),Ld(),n!==null&&st(Po);break;case 24:wr(sn)}}function Uu(n,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&n)===n){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==p)}}catch(I){Ee(s,s.return,I)}}function _a(n,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&n)===n){var w=c.inst,I=w.destroy;if(I!==void 0){w.destroy=void 0,p=s;var U=o,$=I;try{$()}catch(rt){Ee(p,U,rt)}}}c=c.next}while(c!==g)}}catch(rt){Ee(s,s.return,rt)}}function wy(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{d_(s,o)}catch(c){Ee(n,n.return,c)}}}function Sy(n,s,o){o.props=Vo(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Ee(n,s,c)}}function Bu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(p){Ee(n,s,p)}}function Xs(n,s){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Ee(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ee(n,s,p)}else o.current=null}function Ay(n){var s=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Ee(n,n.return,p)}}function hm(n,s,o){try{var c=n.stateNode;jS(c,n.type,o,s),c[Xe]=s}catch(p){Ee(n,n.return,p)}}function xy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Sa(n.type)||n.tag===4}function fm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||xy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Sa(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dm(n,s,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=je));else if(c!==4&&(c===27&&Sa(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(dm(n,s,o),n=n.sibling;n!==null;)dm(n,s,o),n=n.sibling}function Rh(n,s,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(c!==4&&(c===27&&Sa(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Rh(n,s,o),n=n.sibling;n!==null;)Rh(n,s,o),n=n.sibling}function Cy(n){var s=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Dn(s,c,o),s[De]=n,s[Xe]=o}catch(g){Ee(n,n.return,g)}}var Rr=!1,on=!1,mm=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,An=null;function TS(n,s){if(n=n.containerInfo,Mm=Qh,n=Eo(n),Hs(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var w=0,I=-1,U=-1,$=0,rt=0,ut=n,tt=null;e:for(;;){for(var it;ut!==o||p!==0&&ut.nodeType!==3||(I=w+p),ut!==g||c!==0&&ut.nodeType!==3||(U=w+c),ut.nodeType===3&&(w+=ut.nodeValue.length),(it=ut.firstChild)!==null;)tt=ut,ut=it;for(;;){if(ut===n)break e;if(tt===o&&++$===p&&(I=w),tt===g&&++rt===c&&(U=w),(it=ut.nextSibling)!==null)break;ut=tt,tt=ut.parentNode}ut=it}o=I===-1||U===-1?null:{start:I,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(km={focusedElem:n,selectionRange:o},Qh=!1,An=s;An!==null;)if(s=An,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,An=n;else for(;An!==null;){switch(s=An,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var It=Vo(o.type,p);n=c.getSnapshotBeforeUpdate(It,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(Vt){Ee(o,o.return,Vt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Um(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Um(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,An=n;break}An=s.return}}function Iy(n,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Or(n,o),c&4&&Uu(5,o);break;case 1:if(Or(n,o),c&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(w){Ee(o,o.return,w)}else{var p=Vo(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Ee(o,o.return,w)}}c&64&&wy(o),c&512&&Bu(o,o.return);break;case 3:if(Or(n,o),c&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{d_(n,s)}catch(w){Ee(o,o.return,w)}}break;case 27:s===null&&c&4&&Cy(o);case 26:case 5:Or(n,o),s===null&&c&4&&Ay(o),c&512&&Bu(o,o.return);break;case 12:Or(n,o);break;case 31:Or(n,o),c&4&&Py(n,o);break;case 13:Or(n,o),c&4&&Ly(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=IS.bind(null,o),QS(n,o))));break;case 22:if(c=o.memoizedState!==null||Rr,!c){s=s!==null&&s.memoizedState!==null||on,p=Rr;var g=on;Rr=c,(on=s)&&!g?Nr(n,o,(o.subtreeFlags&8772)!==0):Or(n,o),Rr=p,on=g}break;case 30:break;default:Or(n,o)}}function Oy(n){var s=n.alternate;s!==null&&(n.alternate=null,Oy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&hr(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ze=null,mi=!1;function Ir(n,s,o){for(o=o.child;o!==null;)Ny(n,s,o),o=o.sibling}function Ny(n,s,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ts,o)}catch{}switch(o.tag){case 26:on||Xs(o,s),Ir(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:on||Xs(o,s);var c=ze,p=mi;Sa(o.type)&&(ze=o.stateNode,mi=!1),Ir(n,s,o),Qu(o.stateNode),ze=c,mi=p;break;case 5:on||Xs(o,s);case 6:if(c=ze,p=mi,ze=null,Ir(n,s,o),ze=c,mi=p,ze!==null)if(mi)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(g){Ee(o,s,g)}else try{ze.removeChild(o.stateNode)}catch(g){Ee(o,s,g)}break;case 18:ze!==null&&(mi?(n=ze,wv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ql(n)):wv(ze,o.stateNode));break;case 4:c=ze,p=mi,ze=o.stateNode.containerInfo,mi=!0,Ir(n,s,o),ze=c,mi=p;break;case 0:case 11:case 14:case 15:_a(2,o,s),on||_a(4,o,s),Ir(n,s,o);break;case 1:on||(Xs(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Sy(o,s,c)),Ir(n,s,o);break;case 21:Ir(n,s,o);break;case 22:on=(c=on)||o.memoizedState!==null,Ir(n,s,o),on=c;break;default:Ir(n,s,o)}}function Py(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ql(n)}catch(o){Ee(s,s.return,o)}}}function Ly(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ql(n)}catch(o){Ee(s,s.return,o)}}function ES(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Ry),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Ry),s;default:throw Error(r(435,n.tag))}}function Ih(n,s){var o=ES(n);s.forEach(function(c){if(!o.has(c)){o.add(c);var p=OS.bind(null,n,c);c.then(p,p)}})}function pi(n,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=n,w=s,I=w;t:for(;I!==null;){switch(I.tag){case 27:if(Sa(I.type)){ze=I.stateNode,mi=!1;break t}break;case 5:ze=I.stateNode,mi=!1;break t;case 3:case 4:ze=I.stateNode.containerInfo,mi=!0;break t}I=I.return}if(ze===null)throw Error(r(160));Ny(g,w,p),ze=null,mi=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Dy(s,n),s=s.sibling}var gs=null;function Dy(n,s){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pi(s,n),gi(n),c&4&&(_a(3,n,n.return),Uu(3,n),_a(5,n,n.return));break;case 1:pi(s,n),gi(n),c&512&&(on||o===null||Xs(o,o.return)),c&64&&Rr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=gs;if(pi(s,n),gi(n),c&512&&(on||o===null||Xs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[is]||g[De]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Dn(g,c,o),g[De]=n,Be(g),c=g;break t;case"link":var w=Dv("link","href",p).get(c+(o.href||""));if(w){for(var I=0;I<w.length;I++)if(g=w[I],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(I,1);break e}}g=p.createElement(c),Dn(g,c,o),p.head.appendChild(g);break;case"meta":if(w=Dv("meta","content",p).get(c+(o.content||""))){for(I=0;I<w.length;I++)if(g=w[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(I,1);break e}}g=p.createElement(c),Dn(g,c,o),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[De]=n,Be(g),c=g}n.stateNode=c}else Mv(p,n.type,n.stateNode);else n.stateNode=Lv(p,c,n.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Mv(p,n.type,n.stateNode):Lv(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&hm(n,n.memoizedProps,o.memoizedProps)}break;case 27:pi(s,n),gi(n),c&512&&(on||o===null||Xs(o,o.return)),o!==null&&c&4&&hm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(pi(s,n),gi(n),c&512&&(on||o===null||Xs(o,o.return)),n.flags&32){p=n.stateNode;try{vn(p,"")}catch(It){Ee(n,n.return,It)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,hm(n,p,o!==null?o.memoizedProps:p)),c&1024&&(mm=!0);break;case 6:if(pi(s,n),gi(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(It){Ee(n,n.return,It)}}break;case 3:if(Gh=null,p=gs,gs=Fh(s.containerInfo),pi(s,n),gs=p,gi(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ql(s.containerInfo)}catch(It){Ee(n,n.return,It)}mm&&(mm=!1,My(n));break;case 4:c=gs,gs=Fh(n.stateNode.containerInfo),pi(s,n),gi(n),gs=c;break;case 12:pi(s,n),gi(n);break;case 31:pi(s,n),gi(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ih(n,c)));break;case 13:pi(s,n),gi(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nh=fn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ih(n,c)));break;case 22:p=n.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,$=Rr,rt=on;if(Rr=$||p,on=rt||U,pi(s,n),on=rt,Rr=$,gi(n),c&8192)t:for(s=n.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||U||Rr||on||zo(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(g=U.stateNode,p)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{I=U.stateNode;var ut=U.memoizedProps.style,tt=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;I.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(It){Ee(U,U.return,It)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(It){Ee(U,U.return,It)}}}else if(s.tag===18){if(o===null){U=s;try{var it=U.stateNode;p?Sv(it,!0):Sv(U.stateNode,!1)}catch(It){Ee(U,U.return,It)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Ih(n,o))));break;case 19:pi(s,n),gi(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Ih(n,c)));break;case 30:break;case 21:break;default:pi(s,n),gi(n)}}function gi(n){var s=n.flags;if(s&2){try{for(var o,c=n.return;c!==null;){if(xy(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=fm(n);Rh(n,g,p);break;case 5:var w=o.stateNode;o.flags&32&&(vn(w,""),o.flags&=-33);var I=fm(n);Rh(n,I,w);break;case 3:case 4:var U=o.stateNode.containerInfo,$=fm(n);dm(n,$,U);break;default:throw Error(r(161))}}catch(rt){Ee(n,n.return,rt)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function My(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;My(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Or(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Iy(n,s.alternate,s),s=s.sibling}function zo(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:_a(4,s,s.return),zo(s);break;case 1:Xs(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Sy(s,s.return,o),zo(s);break;case 27:Qu(s.stateNode);case 26:case 5:Xs(s,s.return),zo(s);break;case 22:s.memoizedState===null&&zo(s);break;case 30:zo(s);break;default:zo(s)}n=n.sibling}}function Nr(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=n,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:Nr(p,g,o),Uu(4,g);break;case 1:if(Nr(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch($){Ee(c,c.return,$)}if(c=g,p=c.updateQueue,p!==null){var I=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)f_(U[p],I)}catch($){Ee(c,c.return,$)}}o&&w&64&&wy(g),Bu(g,g.return);break;case 27:Cy(g);case 26:case 5:Nr(p,g,o),o&&c===null&&w&4&&Ay(g),Bu(g,g.return);break;case 12:Nr(p,g,o);break;case 31:Nr(p,g,o),o&&w&4&&Py(p,g);break;case 13:Nr(p,g,o),o&&w&4&&Ly(p,g);break;case 22:g.memoizedState===null&&Nr(p,g,o),Bu(g,g.return);break;case 30:break;default:Nr(p,g,o)}s=s.sibling}}function pm(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&xu(o))}function gm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&xu(n))}function _s(n,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ky(n,s,o,c),s=s.sibling}function ky(n,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:_s(n,s,o,c),p&2048&&Uu(9,s);break;case 1:_s(n,s,o,c);break;case 3:_s(n,s,o,c),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&xu(n)));break;case 12:if(p&2048){_s(n,s,o,c),n=s.stateNode;try{var g=s.memoizedProps,w=g.id,I=g.onPostCommit;typeof I=="function"&&I(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Ee(s,s.return,U)}}else _s(n,s,o,c);break;case 31:_s(n,s,o,c);break;case 13:_s(n,s,o,c);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?_s(n,s,o,c):ju(n,s):g._visibility&2?_s(n,s,o,c):(g._visibility|=2,Ll(n,s,o,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&pm(w,s);break;case 24:_s(n,s,o,c),p&2048&&gm(s.alternate,s);break;default:_s(n,s,o,c)}}function Ll(n,s,o,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,w=s,I=o,U=c,$=w.flags;switch(w.tag){case 0:case 11:case 15:Ll(g,w,I,U,p),Uu(8,w);break;case 23:break;case 22:var rt=w.stateNode;w.memoizedState!==null?rt._visibility&2?Ll(g,w,I,U,p):ju(g,w):(rt._visibility|=2,Ll(g,w,I,U,p)),p&&$&2048&&pm(w.alternate,w);break;case 24:Ll(g,w,I,U,p),p&&$&2048&&gm(w.alternate,w);break;default:Ll(g,w,I,U,p)}s=s.sibling}}function ju(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,c=s,p=c.flags;switch(c.tag){case 22:ju(o,c),p&2048&&pm(c.alternate,c);break;case 24:ju(o,c),p&2048&&gm(c.alternate,c);break;default:ju(o,c)}s=s.sibling}}var Hu=8192;function Dl(n,s,o){if(n.subtreeFlags&Hu)for(n=n.child;n!==null;)Vy(n,s,o),n=n.sibling}function Vy(n,s,o){switch(n.tag){case 26:Dl(n,s,o),n.flags&Hu&&n.memoizedState!==null&&o1(o,gs,n.memoizedState,n.memoizedProps);break;case 5:Dl(n,s,o);break;case 3:case 4:var c=gs;gs=Fh(n.stateNode.containerInfo),Dl(n,s,o),gs=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Hu,Hu=16777216,Dl(n,s,o),Hu=c):Dl(n,s,o));break;default:Dl(n,s,o)}}function zy(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Fu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];An=c,By(c,n)}zy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(n),n=n.sibling}function Uy(n){switch(n.tag){case 0:case 11:case 15:Fu(n),n.flags&2048&&_a(9,n,n.return);break;case 3:Fu(n);break;case 12:Fu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Oh(n)):Fu(n);break;default:Fu(n)}}function Oh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];An=c,By(c,n)}zy(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:_a(8,s,s.return),Oh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Oh(s));break;default:Oh(s)}n=n.sibling}}function By(n,s){for(;An!==null;){var o=An;switch(o.tag){case 0:case 11:case 15:_a(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,An=c;else t:for(o=n;An!==null;){c=An;var p=c.sibling,g=c.return;if(Oy(c),c===o){An=null;break t}if(p!==null){p.return=g,An=p;break t}An=g}}}var bS={getCacheForType:function(n){var s=Pn(sn),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Pn(sn).controller.signal}},wS=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ie=null,ne=null,se=0,Te=0,Di=null,ya=!1,Ml=!1,_m=!1,Pr=0,Ye=0,va=0,Uo=0,ym=0,Mi=0,kl=0,qu=null,_i=null,vm=!1,Nh=0,jy=0,Ph=1/0,Lh=null,Ta=null,gn=0,Ea=null,Vl=null,Lr=0,Tm=0,Em=null,Hy=null,Gu=0,bm=null;function ki(){return(_e&2)!==0&&se!==0?se&-se:et.T!==null?Rm():Bi()}function Fy(){if(Mi===0)if((se&536870912)===0||ee){var n=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Mi=n}else Mi=536870912;return n=Pi.current,n!==null&&(n.flags|=32),Mi}function yi(n,s,o){(n===Ie&&(Te===2||Te===9)||n.cancelPendingCommit!==null)&&(zl(n,0),ba(n,se,Mi,!1)),Ui(n,o),((_e&2)===0||n!==Ie)&&(n===Ie&&((_e&2)===0&&(Uo|=o),Ye===4&&ba(n,se,Mi,!1)),Ws(n))}function qy(n,s,o){if((_e&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&n.expiredLanes)===0||Cs(n,s),p=c?xS(n,s):Sm(n,s,!0),g=c;do{if(p===0){Ml&&!c&&ba(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!SS(o)){p=Sm(n,s,!1),g=!1;continue}if(p===2){if(g=s,n.errorRecoveryDisabledLanes&g)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;t:{var I=n;p=qu;var U=I.current.memoizedState.isDehydrated;if(U&&(zl(I,w).flags|=256),w=Sm(I,w,!1),w!==2){if(_m&&!U){I.errorRecoveryDisabledLanes|=g,Uo|=g,p=4;break t}g=_i,_i=p,g!==null&&(_i===null?_i=g:_i.push.apply(_i,g))}p=w}if(g=!1,p!==2)continue}}if(p===1){zl(n,0),ba(n,s,0,!0);break}t:{switch(c=n,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ba(c,s,Mi,!ya);break t;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Nh+300-fn(),10<p)){if(ba(c,s,Mi,!ya),si(c,0,!0)!==0)break t;Lr=s,c.timeoutHandle=Ev(Gy.bind(null,c,o,_i,Lh,vm,s,Mi,Uo,kl,ya,g,"Throttled",-0,0),p);break t}Gy(c,o,_i,Lh,vm,s,Mi,Uo,kl,ya,g,null,-0,0)}}break}while(!0);Ws(n)}function Gy(n,s,o,c,p,g,w,I,U,$,rt,ut,tt,it){if(n.timeoutHandle=-1,ut=s.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:je},Vy(s,g,ut);var It=(g&62914560)===g?Nh-fn():(g&4194048)===g?jy-fn():0;if(It=l1(ut,It),It!==null){Lr=g,n.cancelPendingCommit=It(Jy.bind(null,n,s,g,o,c,p,w,I,U,rt,ut,null,tt,it)),ba(n,g,w,!$);return}}Jy(n,s,g,o,c,p,w,I,U)}function SS(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!wn(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ba(n,s,o,c){s&=~ym,s&=~Uo,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var p=s;0<p;){var g=31-Rn(p),w=1<<g;c[g]=-1,p&=~w}o!==0&&so(n,o,s)}function Dh(){return(_e&6)===0?(Zu(0),!1):!0}function wm(){if(ne!==null){if(Te===0)var n=ne.return;else n=ne,ps=Qs=null,Ud(n),Rl=null,Ru=0,n=ne;for(;n!==null;)by(n.alternate,n),n=n.return;ne=null}}function zl(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,qS(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Lr=0,wm(),Ie=n,ne=o=Yi(n.current,null),se=s,Te=0,Di=null,ya=!1,Ml=Cs(n,s),_m=!1,kl=Mi=ym=Uo=va=Ye=0,_i=qu=null,vm=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var p=31-Rn(c),g=1<<p;s|=n[p],c&=~g}return Pr=s,xo(),o}function Zy(n,s){Kt=null,et.H=ku,s===Cl||s===uh?(s=l_(),Te=3):s===Cd?(s=l_(),Te=4):Te=s===em?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Di=s,ne===null&&(Ye=1,wh(n,u(s,n.current)))}function Ky(){var n=Pi.current;return n===null?!0:(se&4194048)===se?Qi===null:(se&62914560)===se||(se&536870912)!==0?n===Qi:!1}function Yy(){var n=et.H;return et.H=ku,n===null?ku:n}function Qy(){var n=et.A;return et.A=bS,n}function Mh(){Ye=4,ya||(se&4194048)!==se&&Pi.current!==null||(Ml=!0),(va&134217727)===0&&(Uo&134217727)===0||Ie===null||ba(Ie,se,Mi,!1)}function Sm(n,s,o){var c=_e;_e|=2;var p=Yy(),g=Qy();(Ie!==n||se!==s)&&(Lh=null,zl(n,s)),s=!1;var w=Ye;t:do try{if(Te!==0&&ne!==null){var I=ne,U=Di;switch(Te){case 8:wm(),w=6;break t;case 3:case 2:case 9:case 6:Pi.current===null&&(s=!0);var $=Te;if(Te=0,Di=null,Ul(n,I,U,$),o&&Ml){w=0;break t}break;default:$=Te,Te=0,Di=null,Ul(n,I,U,$)}}AS(),w=Ye;break}catch(rt){Zy(n,rt)}while(!0);return s&&n.shellSuspendCounter++,ps=Qs=null,_e=c,et.H=p,et.A=g,ne===null&&(Ie=null,se=0,xo()),w}function AS(){for(;ne!==null;)Xy(ne)}function xS(n,s){var o=_e;_e|=2;var c=Yy(),p=Qy();Ie!==n||se!==s?(Lh=null,Ph=fn()+500,zl(n,s)):Ml=Cs(n,s);t:do try{if(Te!==0&&ne!==null){s=ne;var g=Di;e:switch(Te){case 1:Te=0,Di=null,Ul(n,s,g,1);break;case 2:case 9:if(a_(g)){Te=0,Di=null,Wy(s);break}s=function(){Te!==2&&Te!==9||Ie!==n||(Te=7),Ws(n)},g.then(s,s);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:a_(g)?(Te=0,Di=null,Wy(s)):(Te=0,Di=null,Ul(n,s,g,7));break;case 5:var w=null;switch(ne.tag){case 26:w=ne.memoizedState;case 5:case 27:var I=ne;if(w?kv(w):I.stateNode.complete){Te=0,Di=null;var U=I.sibling;if(U!==null)ne=U;else{var $=I.return;$!==null?(ne=$,kh($)):ne=null}break e}}Te=0,Di=null,Ul(n,s,g,5);break;case 6:Te=0,Di=null,Ul(n,s,g,6);break;case 8:wm(),Ye=6;break t;default:throw Error(r(462))}}CS();break}catch(rt){Zy(n,rt)}while(!0);return ps=Qs=null,et.H=c,et.A=p,_e=o,ne!==null?0:(Ie=null,se=0,xo(),Ye)}function CS(){for(;ne!==null&&!il();)Xy(ne)}function Xy(n){var s=Ty(n.alternate,n,Pr);n.memoizedProps=n.pendingProps,s===null?kh(n):ne=s}function Wy(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=my(o,s,s.pendingProps,s.type,void 0,se);break;case 11:s=my(o,s,s.pendingProps,s.type.render,s.ref,se);break;case 5:Ud(s);default:by(o,s),s=ne=Eu(s,Pr),s=Ty(o,s,Pr)}n.memoizedProps=n.pendingProps,s===null?kh(n):ne=s}function Ul(n,s,o,c){ps=Qs=null,Ud(s),Rl=null,Ru=0;var p=s.return;try{if(pS(n,p,s,o,se)){Ye=1,wh(n,u(o,n.current)),ne=null;return}}catch(g){if(p!==null)throw ne=p,g;Ye=1,wh(n,u(o,n.current)),ne=null;return}s.flags&32768?(ee||c===1?n=!0:Ml||(se&536870912)!==0?n=!1:(ya=n=!0,(c===2||c===9||c===3||c===6)&&(c=Pi.current,c!==null&&c.tag===13&&(c.flags|=16384))),$y(s,n)):kh(s)}function kh(n){var s=n;do{if((s.flags&32768)!==0){$y(s,ya);return}n=s.return;var o=yS(s.alternate,s,Pr);if(o!==null){ne=o;return}if(s=s.sibling,s!==null){ne=s;return}ne=s=n}while(s!==null);Ye===0&&(Ye=5)}function $y(n,s){do{var o=vS(n.alternate,n);if(o!==null){o.flags&=32767,ne=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){ne=n;return}ne=n=o}while(n!==null);Ye=6,ne=null}function Jy(n,s,o,c,p,g,w,I,U){n.cancelPendingCommit=null;do Vh();while(gn!==0);if((_e&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Tl,dn(n,o,g,w,I,U),n===Ie&&(ne=Ie=null,se=0),Vl=s,Ea=n,Lr=o,Tm=g,Em=p,Hy=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,NS(zi,function(){return sv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=et.T,et.T=null,p=yt.p,yt.p=2,w=_e,_e|=4;try{TS(n,s,o)}finally{_e=w,yt.p=p,et.T=c}}gn=1,tv(),ev(),nv()}}function tv(){if(gn===1){gn=0;var n=Ea,s=Vl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=et.T,et.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Dy(s,n);var g=km,w=Eo(n.containerInfo),I=g.focusedElem,U=g.selectionRange;if(w!==I&&I&&I.ownerDocument&&gl(I.ownerDocument.documentElement,I)){if(U!==null&&Hs(I)){var $=U.start,rt=U.end;if(rt===void 0&&(rt=$),"selectionStart"in I)I.selectionStart=$,I.selectionEnd=Math.min(rt,I.value.length);else{var ut=I.ownerDocument||document,tt=ut&&ut.defaultView||window;if(tt.getSelection){var it=tt.getSelection(),It=I.textContent.length,Vt=Math.min(U.start,It),xe=U.end===void 0?Vt:Math.min(U.end,It);!it.extend&&Vt>xe&&(w=xe,xe=Vt,Vt=w);var Y=To(I,Vt),F=To(I,xe);if(Y&&F&&(it.rangeCount!==1||it.anchorNode!==Y.node||it.anchorOffset!==Y.offset||it.focusNode!==F.node||it.focusOffset!==F.offset)){var W=ut.createRange();W.setStart(Y.node,Y.offset),it.removeAllRanges(),Vt>xe?(it.addRange(W),it.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),it.addRange(W))}}}}for(ut=[],it=I;it=it.parentNode;)it.nodeType===1&&ut.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ut.length;I++){var ot=ut[I];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}Qh=!!Mm,km=Mm=null}finally{_e=p,yt.p=c,et.T=o}}n.current=s,gn=2}}function ev(){if(gn===2){gn=0;var n=Ea,s=Vl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=et.T,et.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Iy(n,s.alternate,s)}finally{_e=p,yt.p=c,et.T=o}}gn=3}}function nv(){if(gn===4||gn===3){gn=0,qr();var n=Ea,s=Vl,o=Lr,c=Hy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gn=5:(gn=0,Vl=Ea=null,iv(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Ta=null),Ot(o),s=s.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ts,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=et.T,p=yt.p,yt.p=2,et.T=null;try{for(var g=n.onRecoverableError,w=0;w<c.length;w++){var I=c[w];g(I.value,{componentStack:I.stack})}}finally{et.T=s,yt.p=p}}(Lr&3)!==0&&Vh(),Ws(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===bm?Gu++:(Gu=0,bm=n):Gu=0,Zu(0)}}function iv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,xu(s)))}function Vh(){return tv(),ev(),nv(),sv()}function sv(){if(gn!==5)return!1;var n=Ea,s=Tm;Tm=0;var o=Ot(Lr),c=et.T,p=yt.p;try{yt.p=32>o?32:o,et.T=null,o=Em,Em=null;var g=Ea,w=Lr;if(gn=0,Vl=Ea=null,Lr=0,(_e&6)!==0)throw Error(r(331));var I=_e;if(_e|=4,Uy(g.current),ky(g,g.current,w,o),_e=I,Zu(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ts,g)}catch{}return!0}finally{yt.p=p,et.T=c,iv(n,s)}}function rv(n,s,o){s=u(o,s),s=tm(n.stateNode,s,2),n=ma(n,s,2),n!==null&&(Ui(n,2),Ws(n))}function Ee(n,s,o){if(n.tag===3)rv(n,n,o);else for(;s!==null;){if(s.tag===3){rv(s,n,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ta===null||!Ta.has(c))){n=u(o,n),o=ay(2),c=ma(s,o,2),c!==null&&(oy(o,c,s,n),Ui(c,2),Ws(c));break}}s=s.return}}function Am(n,s,o){var c=n.pingCache;if(c===null){c=n.pingCache=new wS;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(_m=!0,p.add(o),n=RS.bind(null,n,s,o),s.then(n,n))}function RS(n,s,o){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ie===n&&(se&o)===o&&(Ye===4||Ye===3&&(se&62914560)===se&&300>fn()-Nh?(_e&2)===0&&zl(n,0):ym|=o,kl===se&&(kl=0)),Ws(n)}function av(n,s){s===0&&(s=io()),n=Ki(n,s),n!==null&&(Ui(n,s),Ws(n))}function IS(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),av(n,o)}function OS(n,s){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),av(n,o)}function NS(n,s){return Ss(n,s)}var zh=null,Bl=null,xm=!1,Uh=!1,Cm=!1,wa=0;function Ws(n){n!==Bl&&n.next===null&&(Bl===null?zh=Bl=n:Bl=Bl.next=n),Uh=!0,xm||(xm=!0,LS())}function Zu(n,s){if(!Cm&&Uh){Cm=!0;do for(var o=!1,c=zh;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var w=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-Rn(42|n)+1)-1,g&=p&~(w&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cv(c,g))}else g=se,g=si(c,c===Ie?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Cs(c,g)||(o=!0,cv(c,g));c=c.next}while(o);Cm=!1}}function PS(){ov()}function ov(){Uh=xm=!1;var n=0;wa!==0&&FS()&&(n=wa);for(var s=fn(),o=null,c=zh;c!==null;){var p=c.next,g=lv(c,s);g===0?(c.next=null,o===null?zh=p:o.next=p,p===null&&(Bl=o)):(o=c,(n!==0||(g&3)!==0)&&(Uh=!0)),c=p}gn!==0&&gn!==5||Zu(n),wa!==0&&(wa=0)}function lv(n,s){for(var o=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var w=31-Rn(g),I=1<<w,U=p[w];U===-1?((I&o)===0||(I&c)!==0)&&(p[w]=Zr(I,s)):U<=s&&(n.expiredLanes|=I),g&=~I}if(s=Ie,o=se,o=si(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===s&&(Te===2||Te===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&As(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Cs(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(c!==null&&As(c),Ot(o)){case 2:case 8:o=Qe;break;case 32:o=zi;break;case 268435456:o=Gr;break;default:o=zi}return c=uv.bind(null,n),o=Ss(o,c),n.callbackPriority=s,n.callbackNode=o,s}return c!==null&&c!==null&&As(c),n.callbackPriority=2,n.callbackNode=null,2}function uv(n,s){if(gn!==0&&gn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Vh()&&n.callbackNode!==o)return null;var c=se;return c=si(n,n===Ie?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(qy(n,c,s),lv(n,fn()),n.callbackNode!=null&&n.callbackNode===o?uv.bind(null,n):null)}function cv(n,s){if(Vh())return null;qy(n,s,!0)}function LS(){GS(function(){(_e&6)!==0?Ss(Ue,PS):ov()})}function Rm(){if(wa===0){var n=Al;n===0&&(n=xs,xs<<=1,(xs&261888)===0&&(xs=256)),wa=n}return wa}function hv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ui(""+n)}function fv(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function DS(n,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var g=hv((p[Xe]||null).action),w=c.submitter;w&&(s=(s=w[Xe]||null)?hv(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var I=new gr("action","action",null,c,p);n.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(wa!==0){var U=w?fv(p,w):new FormData(p);Yd(o,{pending:!0,data:U,method:p.method,action:g},null,U)}}else typeof g=="function"&&(I.preventDefault(),U=w?fv(p,w):new FormData(p),Yd(o,{pending:!0,data:U,method:p.method,action:g},g,U))},currentTarget:p}]})}}for(var Im=0;Im<Gs.length;Im++){var Om=Gs[Im],MS=Om.toLowerCase(),kS=Om[0].toUpperCase()+Om.slice(1);hi(MS,"on"+kS)}hi(wo,"onAnimationEnd"),hi(ih,"onAnimationIteration"),hi(So,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(vd,"onTransitionRun"),hi(sh,"onTransitionStart"),hi(Td,"onTransitionCancel"),hi(ua,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function dv(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],p=c.event;c=c.listeners;t:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var I=c[w],U=I.instance,$=I.currentTarget;if(I=I.listener,U!==g&&p.isPropagationStopped())break t;g=I,p.currentTarget=$;try{g(p)}catch(rt){Ao(rt)}p.currentTarget=null,g=U}else for(w=0;w<c.length;w++){if(I=c[w],U=I.instance,$=I.currentTarget,I=I.listener,U!==g&&p.isPropagationStopped())break t;g=I,p.currentTarget=$;try{g(p)}catch(rt){Ao(rt)}p.currentTarget=null,g=U}}}}function ie(n,s){var o=s[Xn];o===void 0&&(o=s[Xn]=new Set);var c=n+"__bubble";o.has(c)||(mv(s,n,2,!1),o.add(c))}function Nm(n,s,o){var c=0;s&&(c|=4),mv(o,n,c,s)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function Pm(n){if(!n[Bh]){n[Bh]=!0,Kr.forEach(function(o){o!=="selectionchange"&&(VS.has(o)||Nm(o,!1,n),Nm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Bh]||(s[Bh]=!0,Nm("selectionchange",!1,s))}}function mv(n,s,o,c){switch(Fv(s)){case 2:var p=h1;break;case 8:p=f1;break;default:p=Km}o=p.bind(null,s,o,n),p=void 0,!pr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(s,o,{capture:!0,passive:p}):n.addEventListener(s,o,!0):p!==void 0?n.addEventListener(s,o,{passive:p}):n.addEventListener(s,o,!1)}function Lm(n,s,o,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===p)break;if(w===4)for(w=c.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;I!==null;){if(w=ji(I),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){c=g=w;continue t}I=I.parentNode}}c=c.return}co(function(){var $=g,rt=Ds(o),ut=[];t:{var tt=rh.get(n);if(tt!==void 0){var it=gr,It=n;switch(n){case"keypress":if(Ms(o)===0)break t;case"keydown":case"keyup":it=fo;break;case"focusin":It="focus",it=zs;break;case"focusout":It="blur",it=zs;break;case"beforeblur":case"afterblur":it=zs;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=fl;break;case wo:case ih:case So:it=Us;break;case ua:it=yr;break;case"scroll":case"scrollend":it=$t;break;case"wheel":it=Gi;break;case"copy":case"cut":case"paste":it=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=mo;break;case"toggle":case"beforetoggle":it=ci}var Vt=(s&4)!==0,xe=!Vt&&(n==="scroll"||n==="scrollend"),Y=Vt?tt!==null?tt+"Capture":null:tt;Vt=[];for(var F=$,W;F!==null;){var ot=F;if(W=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||W===null||Y===null||(ot=Tn(F,Y),ot!=null&&Vt.push(Yu(F,ot,W))),xe)break;F=F.return}0<Vt.length&&(tt=new it(tt,It,null,o,rt),ut.push({event:tt,listeners:Vt}))}}if((s&7)===0){t:{if(tt=n==="mouseover"||n==="pointerover",it=n==="mouseout"||n==="pointerout",tt&&o!==mr&&(It=o.relatedTarget||o.fromElement)&&(ji(It)||It[Ci]))break t;if((it||tt)&&(tt=rt.window===rt?rt:(tt=rt.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(It=o.relatedTarget||o.toElement,it=$,It=It?ji(It):null,It!==null&&(xe=h(It),Vt=It.tag,It!==xe||Vt!==5&&Vt!==27&&Vt!==6)&&(It=null)):(it=null,It=$),it!==It)){if(Vt=ul,ot="onMouseLeave",Y="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Vt=mo,ot="onPointerLeave",Y="onPointerEnter",F="pointer"),xe=it==null?tt:Hi(it),W=It==null?tt:Hi(It),tt=new Vt(ot,F+"leave",it,o,rt),tt.target=xe,tt.relatedTarget=W,ot=null,ji(rt)===$&&(Vt=new Vt(Y,F+"enter",It,o,rt),Vt.target=W,Vt.relatedTarget=xe,ot=Vt),xe=ot,it&&It)e:{for(Vt=zS,Y=it,F=It,W=0,ot=Y;ot;ot=Vt(ot))W++;ot=0;for(var Dt=F;Dt;Dt=Vt(Dt))ot++;for(;0<W-ot;)Y=Vt(Y),W--;for(;0<ot-W;)F=Vt(F),ot--;for(;W--;){if(Y===F||F!==null&&Y===F.alternate){Vt=Y;break e}Y=Vt(Y),F=Vt(F)}Vt=null}else Vt=null;it!==null&&pv(ut,tt,it,Vt,!1),It!==null&&xe!==null&&pv(ut,xe,It,Vt,!0)}}t:{if(tt=$?Hi($):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var pe=vo;else if(Ve(tt))if($c)pe=yd;else{pe=_d;var Nt=fs}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?$&&dr($.elementType)&&(pe=vo):pe=ra;if(pe&&(pe=pe(n,$))){vr(ut,pe,o,rt);break t}Nt&&Nt(n,tt,$),n==="focusout"&&$&&tt.type==="number"&&$.memoizedProps.value!=null&&oi(tt,"number",tt.value)}switch(Nt=$?Hi($):window,n){case"focusin":(Ve(Nt)||Nt.contentEditable==="true")&&(Fs=Nt,yl=$,bo=null);break;case"focusout":bo=yl=Fs=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,eh(ut,o,rt);break;case"selectionchange":if(_l)break;case"keydown":case"keyup":eh(ut,o,rt)}var Wt;if(E)t:{switch(n){case"compositionstart":var re="onCompositionStart";break t;case"compositionend":re="onCompositionEnd";break t;case"compositionupdate":re="onCompositionUpdate";break t}re=void 0}else Qt?fe(n,o)&&(re="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(re="onCompositionStart");re&&(X&&o.locale!=="ko"&&(Qt||re!=="onCompositionStart"?re==="onCompositionEnd"&&Qt&&(Wt=Un()):(Nn=rt,qi="value"in Nn?Nn.value:Nn.textContent,Qt=!0)),Nt=jh($,re),0<Nt.length&&(re=new Jr(re,n,null,o,rt),ut.push({event:re,listeners:Nt}),Wt?re.data=Wt:(Wt=He(o),Wt!==null&&(re.data=Wt)))),(Wt=O?ye(n,o):Me(n,o))&&(re=jh($,"onBeforeInput"),0<re.length&&(Nt=new Jr("onBeforeInput","beforeinput",null,o,rt),ut.push({event:Nt,listeners:re}),Nt.data=Wt)),DS(ut,n,$,o,rt)}dv(ut,s)})}function Yu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function jh(n,s){for(var o=s+"Capture",c=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Tn(n,o),p!=null&&c.unshift(Yu(n,p,g)),p=Tn(n,s),p!=null&&c.push(Yu(n,p,g))),n.tag===3)return c;n=n.return}return[]}function zS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function pv(n,s,o,c,p){for(var g=s._reactName,w=[];o!==null&&o!==c;){var I=o,U=I.alternate,$=I.stateNode;if(I=I.tag,U!==null&&U===c)break;I!==5&&I!==26&&I!==27||$===null||(U=$,p?($=Tn(o,g),$!=null&&w.unshift(Yu(o,$,U))):p||($=Tn(o,g),$!=null&&w.push(Yu(o,$,U)))),o=o.return}w.length!==0&&n.push({event:s,listeners:w})}var US=/\r\n?/g,BS=/\u0000|\uFFFD/g;function gv(n){return(typeof n=="string"?n:""+n).replace(US,`
`).replace(BS,"")}function _v(n,s){return s=gv(s),gv(n)===s}function Ae(n,s,o,c,p,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||vn(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&vn(n,""+c);break;case"className":ce(n,"class",c);break;case"tabIndex":ce(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ce(n,o,c);break;case"style":Xr(n,c,g);break;case"data":if(s!=="object"){ce(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=ui(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ae(n,s,"name",p.name,p,null),Ae(n,s,"formEncType",p.formEncType,p,null),Ae(n,s,"formMethod",p.formMethod,p,null),Ae(n,s,"formTarget",p.formTarget,p,null)):(Ae(n,s,"encType",p.encType,p,null),Ae(n,s,"method",p.method,p,null),Ae(n,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=ui(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=je);break;case"onScroll":c!=null&&ie("scroll",n);break;case"onScrollEnd":c!=null&&ie("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=ui(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":ie("beforetoggle",n),ie("toggle",n),Yt(n,"popover",c);break;case"xlinkActuate":On(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":On(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":On(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":On(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":On(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":On(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":On(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":On(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":On(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yt(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wr.get(o)||o,Yt(n,o,c))}}function Dm(n,s,o,c,p,g){switch(o){case"style":Xr(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof c=="string"?vn(n,c):(typeof c=="number"||typeof c=="bigint")&&vn(n,""+c);break;case"onScroll":c!=null&&ie("scroll",n);break;case"onScrollEnd":c!=null&&ie("scrollend",n);break;case"onClick":c!=null&&(n.onclick=je);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=n[Xe]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,c,p);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Yt(n,o,c)}}}function Dn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",n),ie("load",n);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ae(n,s,g,w,o,null)}}p&&Ae(n,s,"srcSet",o.srcSet,o,null),c&&Ae(n,s,"src",o.src,o,null);return;case"input":ie("invalid",n);var I=g=w=p=null,U=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var rt=o[c];if(rt!=null)switch(c){case"name":p=rt;break;case"type":w=rt;break;case"checked":U=rt;break;case"defaultChecked":$=rt;break;case"value":g=rt;break;case"defaultValue":I=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,s));break;default:Ae(n,s,c,rt,o,null)}}Fi(n,g,I,U,$,w,p,!1);return;case"select":ie("invalid",n),c=w=g=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":g=I;break;case"defaultValue":w=I;break;case"multiple":c=I;default:Ae(n,s,p,I,o,null)}s=g,o=w,n.multiple=!!c,s!=null?kt(n,!!c,s,!1):o!=null&&kt(n,!!c,o,!0);return;case"textarea":ie("invalid",n),g=p=c=null;for(w in o)if(o.hasOwnProperty(w)&&(I=o[w],I!=null))switch(w){case"value":c=I;break;case"defaultValue":p=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Ae(n,s,w,I,o,null)}li(n,c,p,g);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ae(n,s,U,c,o,null)}return;case"dialog":ie("beforetoggle",n),ie("toggle",n),ie("cancel",n),ie("close",n);break;case"iframe":case"object":ie("load",n);break;case"video":case"audio":for(c=0;c<Ku.length;c++)ie(Ku[c],n);break;case"image":ie("error",n),ie("load",n);break;case"details":ie("toggle",n);break;case"embed":case"source":case"link":ie("error",n),ie("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ae(n,s,$,c,o,null)}return;default:if(dr(s)){for(rt in o)o.hasOwnProperty(rt)&&(c=o[rt],c!==void 0&&Dm(n,s,rt,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&Ae(n,s,I,c,o,null))}function jS(n,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,w=null,I=null,U=null,$=null,rt=null;for(it in o){var ut=o[it];if(o.hasOwnProperty(it)&&ut!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":U=ut;default:c.hasOwnProperty(it)||Ae(n,s,it,null,c,ut)}}for(var tt in c){var it=c[tt];if(ut=o[tt],c.hasOwnProperty(tt)&&(it!=null||ut!=null))switch(tt){case"type":g=it;break;case"name":p=it;break;case"checked":$=it;break;case"defaultChecked":rt=it;break;case"value":w=it;break;case"defaultValue":I=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:it!==ut&&Ae(n,s,tt,it,c,ut)}}Ls(n,w,I,U,$,rt,g,p);return;case"select":it=w=I=tt=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":it=U;default:c.hasOwnProperty(g)||Ae(n,s,g,null,c,U)}for(p in c)if(g=c[p],U=o[p],c.hasOwnProperty(p)&&(g!=null||U!=null))switch(p){case"value":tt=g;break;case"defaultValue":I=g;break;case"multiple":w=g;default:g!==U&&Ae(n,s,p,g,c,U)}s=I,o=w,c=it,tt!=null?kt(n,!!o,tt,!1):!!c!=!!o&&(s!=null?kt(n,!!o,s,!0):kt(n,!!o,o?[]:"",!1));return;case"textarea":it=tt=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ae(n,s,I,null,c,p)}for(w in c)if(p=c[w],g=o[w],c.hasOwnProperty(w)&&(p!=null||g!=null))switch(w){case"value":tt=p;break;case"defaultValue":it=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Ae(n,s,w,p,c,g)}Wn(n,tt,it);return;case"option":for(var It in o)if(tt=o[It],o.hasOwnProperty(It)&&tt!=null&&!c.hasOwnProperty(It))switch(It){case"selected":n.selected=!1;break;default:Ae(n,s,It,null,c,tt)}for(U in c)if(tt=c[U],it=o[U],c.hasOwnProperty(U)&&tt!==it&&(tt!=null||it!=null))switch(U){case"selected":n.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:Ae(n,s,U,tt,c,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in o)tt=o[Vt],o.hasOwnProperty(Vt)&&tt!=null&&!c.hasOwnProperty(Vt)&&Ae(n,s,Vt,null,c,tt);for($ in c)if(tt=c[$],it=o[$],c.hasOwnProperty($)&&tt!==it&&(tt!=null||it!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,s));break;default:Ae(n,s,$,tt,c,it)}return;default:if(dr(s)){for(var xe in o)tt=o[xe],o.hasOwnProperty(xe)&&tt!==void 0&&!c.hasOwnProperty(xe)&&Dm(n,s,xe,void 0,c,tt);for(rt in c)tt=c[rt],it=o[rt],!c.hasOwnProperty(rt)||tt===it||tt===void 0&&it===void 0||Dm(n,s,rt,tt,c,it);return}}for(var Y in o)tt=o[Y],o.hasOwnProperty(Y)&&tt!=null&&!c.hasOwnProperty(Y)&&Ae(n,s,Y,null,c,tt);for(ut in c)tt=c[ut],it=o[ut],!c.hasOwnProperty(ut)||tt===it||tt==null&&it==null||Ae(n,s,ut,tt,c,it)}function yv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,w=p.initiatorType,I=p.duration;if(g&&I&&yv(w)){for(w=0,I=p.responseEnd,c+=1;c<o.length;c++){var U=o[c],$=U.startTime;if($>I)break;var rt=U.transferSize,ut=U.initiatorType;rt&&yv(ut)&&(U=U.responseEnd,w+=rt*(U<I?1:(I-$)/(U-$)))}if(--c,s+=8*(g+w)/(p.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Mm=null,km=null;function Hh(n){return n.nodeType===9?n:n.ownerDocument}function vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Vm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zm=null;function FS(){var n=window.event;return n&&n.type==="popstate"?n===zm?!1:(zm=n,!0):(zm=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(n){return bv.resolve(null).then(n).catch(ZS)}:Ev;function ZS(n){setTimeout(function(){throw n})}function Sa(n){return n==="head"}function wv(n,s){var o=s,c=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(p),ql(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Qu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Qu(o);for(var g=o.firstChild;g;){var w=g.nextSibling,I=g.nodeName;g[is]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Qu(n.ownerDocument.body);o=p}while(o);ql(s)}function Sv(n,s){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function Um(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Um(o),hr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function KS(n,s,o,c){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[is])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Xi(n.nextSibling),n===null)break}return null}function YS(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Xi(n.nextSibling),n===null))return null;return n}function Av(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Xi(n.nextSibling),n===null))return null;return n}function Bm(n){return n.data==="$?"||n.data==="$~"}function jm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function QS(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Xi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Hm=null;function xv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Xi(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function Cv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function Rv(n,s,o){switch(s=Hh(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Qu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);hr(n)}var Wi=new Map,Iv=new Set;function Fh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Dr=yt.d;yt.d={f:XS,r:WS,D:$S,C:JS,L:t1,m:e1,X:i1,S:n1,M:s1};function XS(){var n=Dr.f(),s=Dh();return n||s}function WS(n){var s=ss(n);s!==null&&s.tag===5&&s.type==="form"?Z_(s):Dr.r(n)}var jl=typeof document>"u"?null:document;function Ov(n,s,o){var c=jl;if(c&&typeof s=="string"&&s){var p=le(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Iv.has(p)||(Iv.add(p),n={rel:n,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Dn(s,"link",n),Be(s),c.head.appendChild(s)))}}function $S(n){Dr.D(n),Ov("dns-prefetch",n,null)}function JS(n,s){Dr.C(n,s),Ov("preconnect",n,s)}function t1(n,s,o){Dr.L(n,s,o);var c=jl;if(c&&n&&s){var p='link[rel="preload"][as="'+le(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+le(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+le(o.imageSizes)+'"]')):p+='[href="'+le(n)+'"]';var g=p;switch(s){case"style":g=Hl(n);break;case"script":g=Fl(n)}Wi.has(g)||(n=x({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Wi.set(g,n),c.querySelector(p)!==null||s==="style"&&c.querySelector(Xu(g))||s==="script"&&c.querySelector(Wu(g))||(s=c.createElement("link"),Dn(s,"link",n),Be(s),c.head.appendChild(s)))}}function e1(n,s){Dr.m(n,s);var o=jl;if(o&&n){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+le(c)+'"][href="'+le(n)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Fl(n)}if(!Wi.has(g)&&(n=x({rel:"modulepreload",href:n},s),Wi.set(g,n),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wu(g)))return}c=o.createElement("link"),Dn(c,"link",n),Be(c),o.head.appendChild(c)}}}function n1(n,s,o){Dr.S(n,s,o);var c=jl;if(c&&n){var p=Ii(c).hoistableStyles,g=Hl(n);s=s||"default";var w=p.get(g);if(!w){var I={loading:0,preload:null};if(w=c.querySelector(Xu(g)))I.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Wi.get(g))&&Fm(n,o);var U=w=c.createElement("link");Be(U),Dn(U,"link",n),U._p=new Promise(function($,rt){U.onload=$,U.onerror=rt}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,qh(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:I},p.set(g,w)}}}function i1(n,s){Dr.X(n,s);var o=jl;if(o&&n){var c=Ii(o).hoistableScripts,p=Fl(n),g=c.get(p);g||(g=o.querySelector(Wu(p)),g||(n=x({src:n,async:!0},s),(s=Wi.get(p))&&qm(n,s),g=o.createElement("script"),Be(g),Dn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function s1(n,s){Dr.M(n,s);var o=jl;if(o&&n){var c=Ii(o).hoistableScripts,p=Fl(n),g=c.get(p);g||(g=o.querySelector(Wu(p)),g||(n=x({src:n,async:!0,type:"module"},s),(s=Wi.get(p))&&qm(n,s),g=o.createElement("script"),Be(g),Dn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Nv(n,s,o,c){var p=(p=At.current)?Fh(p):null;if(!p)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Hl(o.href),o=Ii(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Hl(o.href);var g=Ii(p).hoistableStyles,w=g.get(n);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,w),(g=p.querySelector(Xu(n)))&&!g._p&&(w.instance=g,w.state.loading=5),Wi.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wi.set(n,o),g||r1(p,n,o,w.state))),s&&c===null)throw Error(r(528,""));return w}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Fl(o),o=Ii(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Hl(n){return'href="'+le(n)+'"'}function Xu(n){return'link[rel="stylesheet"]['+n+"]"}function Pv(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function r1(n,s,o,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Dn(s,"link",o),Be(s),n.head.appendChild(s))}function Fl(n){return'[src="'+le(n)+'"]'}function Wu(n){return"script[async]"+n}function Lv(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+le(o.href)+'"]');if(c)return s.instance=c,Be(c),c;var p=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Be(c),Dn(c,"style",p),qh(c,o.precedence,n),s.instance=c;case"stylesheet":p=Hl(o.href);var g=n.querySelector(Xu(p));if(g)return s.state.loading|=4,s.instance=g,Be(g),g;c=Pv(o),(p=Wi.get(p))&&Fm(c,p),g=(n.ownerDocument||n).createElement("link"),Be(g);var w=g;return w._p=new Promise(function(I,U){w.onload=I,w.onerror=U}),Dn(g,"link",c),s.state.loading|=4,qh(g,o.precedence,n),s.instance=g;case"script":return g=Fl(o.src),(p=n.querySelector(Wu(g)))?(s.instance=p,Be(p),p):(c=o,(p=Wi.get(g))&&(c=x({},o),qm(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),Be(p),Dn(p,"link",c),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,qh(c,o.precedence,n));return s.instance}function qh(n,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,w=0;w<c.length;w++){var I=c[w];if(I.dataset.precedence===s)g=I;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Fm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function qm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Gh=null;function Dv(n,s,o){if(Gh===null){var c=new Map,p=Gh=new Map;p.set(o,c)}else p=Gh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[is]||g[De]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=n+w;var I=c.get(w);I?I.push(g):c.set(w,[g])}}return c}function Mv(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function a1(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function kv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function o1(n,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Hl(c.href),g=s.querySelector(Xu(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Zh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,Be(g);return}g=s.ownerDocument||s,c=Pv(c),(p=Wi.get(p))&&Fm(c,p),g=g.createElement("link"),Be(g);var w=g;w._p=new Promise(function(I,U){w.onload=I,w.onerror=U}),Dn(g,"link",c),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Zh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Gm=0;function l1(n,s){return n.stylesheets&&n.count===0&&Yh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&Yh(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&Gm===0&&(Gm=62500*HS());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Yh(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Gm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Kh=null;function Yh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Kh=new Map,s.forEach(u1,n),Kh=null,Zh.call(n))}function u1(n,s){if(!(s.state.loading&4)){var o=Kh.get(n);if(o)var c=o.get(null);else{o=new Map,Kh.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var w=p[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}p=s.instance,w=p.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,p),o.set(w,p),this.count++,c=Zh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var $u={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function c1(n,s,o,c,p,g,w,I,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Vv(n,s,o,c,p,g,w,I,U,$,rt,ut){return n=new c1(n,s,o,w,U,$,rt,ut,I),s=1,g===!0&&(s|=24),g=Hn(3,null,null,s),n.current=g,g.stateNode=n,s=Sd(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Rd(g),n}function zv(n){return n?(n=Tr,n):Tr}function Uv(n,s,o,c,p,g){p=zv(p),c.context===null?c.context=p:c.pendingContext=p,c=da(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ma(n,c,s),o!==null&&(yi(o,n,s),Ou(o,n,s))}function Bv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Zm(n,s){Bv(n,s),(n=n.alternate)&&Bv(n,s)}function jv(n){if(n.tag===13||n.tag===31){var s=Ki(n,67108864);s!==null&&yi(s,n,67108864),Zm(n,67108864)}}function Hv(n){if(n.tag===13||n.tag===31){var s=ki();s=zn(s);var o=Ki(n,s);o!==null&&yi(o,n,s),Zm(n,s)}}var Qh=!0;function h1(n,s,o,c){var p=et.T;et.T=null;var g=yt.p;try{yt.p=2,Km(n,s,o,c)}finally{yt.p=g,et.T=p}}function f1(n,s,o,c){var p=et.T;et.T=null;var g=yt.p;try{yt.p=8,Km(n,s,o,c)}finally{yt.p=g,et.T=p}}function Km(n,s,o,c){if(Qh){var p=Ym(c);if(p===null)Lm(n,s,c,Xh,o),qv(n,c);else if(m1(p,n,s,o,c))c.stopPropagation();else if(qv(n,c),s&4&&-1<d1.indexOf(n)){for(;p!==null;){var g=ss(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Ai(g.pendingLanes);if(w!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;w;){var U=1<<31-Rn(w);I.entanglements[1]|=U,w&=~U}Ws(g),(_e&6)===0&&(Ph=fn()+500,Zu(0))}}break;case 31:case 13:I=Ki(g,2),I!==null&&yi(I,g,2),Dh(),Zm(g,2)}if(g=Ym(c),g===null&&Lm(n,s,c,Xh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else Lm(n,s,c,null,o)}}function Ym(n){return n=Ds(n),Qm(n)}var Xh=null;function Qm(n){if(Xh=null,n=ji(n),n!==null){var s=h(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=f(s),n!==null)return n;n=null}else if(o===31){if(n=_(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Xh=n,null}function Fv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sl()){case Ue:return 2;case Qe:return 8;case zi:case rl:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var Xm=!1,Aa=null,xa=null,Ca=null,Ju=new Map,tc=new Map,Ra=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(n,s){switch(n){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Ju.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(s.pointerId)}}function ec(n,s,o,c,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=ss(s),s!==null&&jv(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function m1(n,s,o,c,p){switch(s){case"focusin":return Aa=ec(Aa,n,s,o,c,p),!0;case"dragenter":return xa=ec(xa,n,s,o,c,p),!0;case"mouseover":return Ca=ec(Ca,n,s,o,c,p),!0;case"pointerover":var g=p.pointerId;return Ju.set(g,ec(Ju.get(g)||null,n,s,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,tc.set(g,ec(tc.get(g)||null,n,s,o,c,p)),!0}return!1}function Gv(n){var s=ji(n.target);if(s!==null){var o=h(s);if(o!==null){if(s=o.tag,s===13){if(s=f(o),s!==null){n.blockedOn=s,ro(n.priority,function(){Hv(o)});return}}else if(s===31){if(s=_(o),s!==null){n.blockedOn=s,ro(n.priority,function(){Hv(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Ym(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);mr=c,o.target.dispatchEvent(c),mr=null}else return s=ss(o),s!==null&&jv(s),n.blockedOn=o,!1;s.shift()}return!0}function Zv(n,s,o){Wh(n)&&o.delete(s)}function p1(){Xm=!1,Aa!==null&&Wh(Aa)&&(Aa=null),xa!==null&&Wh(xa)&&(xa=null),Ca!==null&&Wh(Ca)&&(Ca=null),Ju.forEach(Zv),tc.forEach(Zv)}function $h(n,s){n.blockedOn===s&&(n.blockedOn=null,Xm||(Xm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,p1)))}var Jh=null;function Kv(n){Jh!==n&&(Jh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jh===n&&(Jh=null);for(var s=0;s<n.length;s+=3){var o=n[s],c=n[s+1],p=n[s+2];if(typeof c!="function"){if(Qm(c||o)===null)continue;break}var g=ss(o);g!==null&&(n.splice(s,3),s-=3,Yd(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function ql(n){function s(U){return $h(U,n)}Aa!==null&&$h(Aa,n),xa!==null&&$h(xa,n),Ca!==null&&$h(Ca,n),Ju.forEach(s),tc.forEach(s);for(var o=0;o<Ra.length;o++){var c=Ra[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ra.length&&(o=Ra[0],o.blockedOn===null);)Gv(o),o.blockedOn===null&&Ra.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],w=p[Xe]||null;if(typeof g=="function")w||Kv(o);else if(w){var I=null;if(g&&g.hasAttribute("formAction")){if(p=g,w=g[Xe]||null)I=w.formAction;else if(Qm(p)!==null)continue}else I=w.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),Kv(o)}}}function Yv(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Wm(n){this._internalRoot=n}tf.prototype.render=Wm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=ki();Uv(o,c,n,s,null,null)},tf.prototype.unmount=Wm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Uv(n.current,2,null,n,null,null),Dh(),s[Ci]=null}};function tf(n){this._internalRoot=n}tf.prototype.unstable_scheduleHydration=function(n){if(n){var s=Bi();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Ra.length&&s!==0&&s<Ra[o].priority;o++);Ra.splice(o,0,n),o===0&&Gv(n)}};var Qv=t.version;if(Qv!=="19.2.0")throw Error(r(527,Qv,"19.2.0"));yt.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=T(s),n=n!==null?S(n):null,n=n===null?null:n.stateNode,n};var g1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{ts=ef.inject(g1),en=ef}catch{}}return ic.createRoot=function(n,s){if(!l(n))throw Error(r(299));var o=!1,c="",p=ny,g=iy,w=sy;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=Vv(n,1,!1,null,null,o,c,null,p,g,w,Yv),n[Ci]=s.current,Pm(n),new Wm(s)},ic.hydrateRoot=function(n,s,o){if(!l(n))throw Error(r(299));var c=!1,p="",g=ny,w=iy,I=sy,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),s=Vv(n,1,!0,s,o??null,c,p,U,g,w,I,Yv),s.context=zv(null),o=s.current,c=ki(),c=zn(c),p=da(c),p.callback=null,ma(o,p,c),o=c,s.current.lanes=o,Ui(s,o),Ws(s),n[Ci]=s.current,Pm(n),new tf(s)},ic.version="19.2.0",ic}var r0;function C1(){if(r0)return Jm.exports;r0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Jm.exports=x1(),Jm.exports}var R1=C1(),at=Jp();const Ef=v1(at),I1=y1({__proto__:null,default:Ef},[at]);var O1=lE();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Ec.apply(this,arguments)}var Ma;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Ma||(Ma={}));const a0="popstate";function N1(i){i===void 0&&(i={});function t(r,l){let{pathname:h,search:f,hash:_}=r.location;return yp("",{pathname:h,search:f,hash:_},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(r,l){return typeof l=="string"?l:bf(l)}return L1(t,e,null,i)}function hn(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function tg(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P1(){return Math.random().toString(36).substr(2,8)}function o0(i,t){return{usr:i.state,key:i.key,idx:t}}function yp(i,t,e,r){return e===void 0&&(e=null),Ec({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof t=="string"?cu(t):t,{state:e,key:t&&t.key||r||P1()})}function bf(i){let{pathname:t="/",search:e="",hash:r=""}=i;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cu(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substr(e),i=i.substr(0,e));let r=i.indexOf("?");r>=0&&(t.search=i.substr(r),i=i.substr(0,r)),i&&(t.pathname=i)}return t}function L1(i,t,e,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:h=!1}=r,f=l.history,_=Ma.Pop,y=null,T=S();T==null&&(T=0,f.replaceState(Ec({},f.state,{idx:T}),""));function S(){return(f.state||{idx:null}).idx}function x(){_=Ma.Pop;let K=S(),ht=K==null?null:K-T;T=K,y&&y({action:_,location:Z.location,delta:ht})}function C(K,ht){_=Ma.Push;let pt=yp(Z.location,K,ht);T=S()+1;let _t=o0(pt,T),wt=Z.createHref(pt);try{f.pushState(_t,"",wt)}catch(gt){if(gt instanceof DOMException&&gt.name==="DataCloneError")throw gt;l.location.assign(wt)}h&&y&&y({action:_,location:Z.location,delta:1})}function P(K,ht){_=Ma.Replace;let pt=yp(Z.location,K,ht);T=S();let _t=o0(pt,T),wt=Z.createHref(pt);f.replaceState(_t,"",wt),h&&y&&y({action:_,location:Z.location,delta:0})}function G(K){let ht=l.location.origin!=="null"?l.location.origin:l.location.href,pt=typeof K=="string"?K:bf(K);return pt=pt.replace(/ $/,"%20"),hn(ht,"No window.location.(origin|href) available to create URL for href: "+pt),new URL(pt,ht)}let Z={get action(){return _},get location(){return i(l,f)},listen(K){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(a0,x),y=K,()=>{l.removeEventListener(a0,x),y=null}},createHref(K){return t(l,K)},createURL:G,encodeLocation(K){let ht=G(K);return{pathname:ht.pathname,search:ht.search,hash:ht.hash}},push:C,replace:P,go(K){return f.go(K)}};return Z}var l0;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(l0||(l0={}));function D1(i,t,e){return e===void 0&&(e="/"),M1(i,t,e)}function M1(i,t,e,r){let l=typeof t=="string"?cu(t):t,h=eg(l.pathname||"/",e);if(h==null)return null;let f=uE(i);k1(f);let _=null;for(let y=0;_==null&&y<f.length;++y){let T=Y1(h);_=G1(f[y],T)}return _}function uE(i,t,e,r){t===void 0&&(t=[]),e===void 0&&(e=[]),r===void 0&&(r="");let l=(h,f,_)=>{let y={relativePath:_===void 0?h.path||"":_,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};y.relativePath.startsWith("/")&&(hn(y.relativePath.startsWith(r),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(r.length));let T=Va([r,y.relativePath]),S=e.concat(y);h.children&&h.children.length>0&&(hn(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+T+'".')),uE(h.children,t,S,T)),!(h.path==null&&!h.index)&&t.push({path:T,score:F1(T,h.index),routesMeta:S})};return i.forEach((h,f)=>{var _;if(h.path===""||!((_=h.path)!=null&&_.includes("?")))l(h,f);else for(let y of cE(h.path))l(h,f,y)}),t}function cE(i){let t=i.split("/");if(t.length===0)return[];let[e,...r]=t,l=e.endsWith("?"),h=e.replace(/\?$/,"");if(r.length===0)return l?[h,""]:[h];let f=cE(r.join("/")),_=[];return _.push(...f.map(y=>y===""?h:[h,y].join("/"))),l&&_.push(...f),_.map(y=>i.startsWith("/")&&y===""?"/":y)}function k1(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:q1(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}const V1=/^:[\w-]+$/,z1=3,U1=2,B1=1,j1=10,H1=-2,u0=i=>i==="*";function F1(i,t){let e=i.split("/"),r=e.length;return e.some(u0)&&(r+=H1),t&&(r+=U1),e.filter(l=>!u0(l)).reduce((l,h)=>l+(V1.test(h)?z1:h===""?B1:j1),r)}function q1(i,t){return i.length===t.length&&i.slice(0,-1).every((r,l)=>r===t[l])?i[i.length-1]-t[t.length-1]:0}function G1(i,t,e){let{routesMeta:r}=i,l={},h="/",f=[];for(let _=0;_<r.length;++_){let y=r[_],T=_===r.length-1,S=h==="/"?t:t.slice(h.length)||"/",x=Z1({path:y.relativePath,caseSensitive:y.caseSensitive,end:T},S),C=y.route;if(!x)return null;Object.assign(l,x.params),f.push({params:l,pathname:Va([h,x.pathname]),pathnameBase:J1(Va([h,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(h=Va([h,x.pathnameBase]))}return f}function Z1(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,r]=K1(i.path,i.caseSensitive,i.end),l=t.match(e);if(!l)return null;let h=l[0],f=h.replace(/(.)\/+$/,"$1"),_=l.slice(1);return{params:r.reduce((T,S,x)=>{let{paramName:C,isOptional:P}=S;if(C==="*"){let Z=_[x]||"";f=h.slice(0,h.length-Z.length).replace(/(.)\/+$/,"$1")}const G=_[x];return P&&!G?T[C]=void 0:T[C]=(G||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:f,pattern:i}}function K1(i,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),tg(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,_,y)=>(r.push({paramName:_,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Y1(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tg(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),i}}function eg(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=i.charAt(e);return r&&r!=="/"?null:i.slice(e)||"/"}const Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X1=i=>Q1.test(i);function W1(i,t){t===void 0&&(t="/");let{pathname:e,search:r="",hash:l=""}=typeof i=="string"?cu(i):i,h;if(e)if(X1(e))h=e;else{if(e.includes("//")){let f=e;e=e.replace(/\/\/+/g,"/"),tg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+e))}e.startsWith("/")?h=c0(e.substring(1),"/"):h=c0(e,t)}else h=t;return{pathname:h,search:tA(r),hash:eA(l)}}function c0(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function sp(i,t,e,r){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $1(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function hE(i,t){let e=$1(i);return t?e.map((r,l)=>l===e.length-1?r.pathname:r.pathnameBase):e.map(r=>r.pathnameBase)}function fE(i,t,e,r){r===void 0&&(r=!1);let l;typeof i=="string"?l=cu(i):(l=Ec({},i),hn(!l.pathname||!l.pathname.includes("?"),sp("?","pathname","search",l)),hn(!l.pathname||!l.pathname.includes("#"),sp("#","pathname","hash",l)),hn(!l.search||!l.search.includes("#"),sp("#","search","hash",l)));let h=i===""||l.pathname==="",f=h?"/":l.pathname,_;if(f==null)_=e;else{let x=t.length-1;if(!r&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),x-=1;l.pathname=C.join("/")}_=x>=0?t[x]:"/"}let y=W1(l,_),T=f&&f!=="/"&&f.endsWith("/"),S=(h||f===".")&&e.endsWith("/");return!y.pathname.endsWith("/")&&(T||S)&&(y.pathname+="/"),y}const Va=i=>i.join("/").replace(/\/\/+/g,"/"),J1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,eA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function nA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const dE=["post","put","patch","delete"];new Set(dE);const iA=["get",...dE];new Set(iA);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},bc.apply(this,arguments)}const ng=at.createContext(null),sA=at.createContext(null),Xo=at.createContext(null),Zf=at.createContext(null),Wo=at.createContext({outlet:null,matches:[],isDataRoute:!1}),mE=at.createContext(null);function rA(i,t){let{relative:e}=t===void 0?{}:t;Dc()||hn(!1);let{basename:r,navigator:l}=at.useContext(Xo),{hash:h,pathname:f,search:_}=gE(i,{relative:e}),y=f;return r!=="/"&&(y=f==="/"?r:Va([r,f])),l.createHref({pathname:y,search:_,hash:h})}function Dc(){return at.useContext(Zf)!=null}function Kf(){return Dc()||hn(!1),at.useContext(Zf).location}function pE(i){at.useContext(Xo).static||at.useLayoutEffect(i)}function Yf(){let{isDataRoute:i}=at.useContext(Wo);return i?yA():aA()}function aA(){Dc()||hn(!1);let i=at.useContext(ng),{basename:t,future:e,navigator:r}=at.useContext(Xo),{matches:l}=at.useContext(Wo),{pathname:h}=Kf(),f=JSON.stringify(hE(l,e.v7_relativeSplatPath)),_=at.useRef(!1);return pE(()=>{_.current=!0}),at.useCallback(function(T,S){if(S===void 0&&(S={}),!_.current)return;if(typeof T=="number"){r.go(T);return}let x=fE(T,JSON.parse(f),h,S.relative==="path");i==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Va([t,x.pathname])),(S.replace?r.replace:r.push)(x,S.state,S)},[t,r,f,h,i])}function gE(i,t){let{relative:e}=t===void 0?{}:t,{future:r}=at.useContext(Xo),{matches:l}=at.useContext(Wo),{pathname:h}=Kf(),f=JSON.stringify(hE(l,r.v7_relativeSplatPath));return at.useMemo(()=>fE(i,JSON.parse(f),h,e==="path"),[i,f,h,e])}function oA(i,t){return lA(i,t)}function lA(i,t,e,r){Dc()||hn(!1);let{navigator:l}=at.useContext(Xo),{matches:h}=at.useContext(Wo),f=h[h.length-1],_=f?f.params:{};f&&f.pathname;let y=f?f.pathnameBase:"/";f&&f.route;let T=Kf(),S;if(t){var x;let K=typeof t=="string"?cu(t):t;y==="/"||(x=K.pathname)!=null&&x.startsWith(y)||hn(!1),S=K}else S=T;let C=S.pathname||"/",P=C;if(y!=="/"){let K=y.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(K.length).join("/")}let G=D1(i,{pathname:P}),Z=dA(G&&G.map(K=>Object.assign({},K,{params:Object.assign({},_,K.params),pathname:Va([y,l.encodeLocation?l.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:Va([y,l.encodeLocation?l.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),h,e,r);return t&&Z?at.createElement(Zf.Provider,{value:{location:bc({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Ma.Pop}},Z):Z}function uA(){let i=_A(),t=nA(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return at.createElement(at.Fragment,null,at.createElement("h2",null,"Unexpected Application Error!"),at.createElement("h3",{style:{fontStyle:"italic"}},t),e?at.createElement("pre",{style:l},e):null,null)}const cA=at.createElement(uA,null);class hA extends at.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?at.createElement(Wo.Provider,{value:this.props.routeContext},at.createElement(mE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fA(i){let{routeContext:t,match:e,children:r}=i,l=at.useContext(ng);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),at.createElement(Wo.Provider,{value:t},r)}function dA(i,t,e,r){var l;if(t===void 0&&(t=[]),e===void 0&&(e=null),r===void 0&&(r=null),i==null){var h;if(!e)return null;if(e.errors)i=e.matches;else if((h=r)!=null&&h.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let f=i,_=(l=e)==null?void 0:l.errors;if(_!=null){let S=f.findIndex(x=>x.route.id&&(_==null?void 0:_[x.route.id])!==void 0);S>=0||hn(!1),f=f.slice(0,Math.min(f.length,S+1))}let y=!1,T=-1;if(e&&r&&r.v7_partialHydration)for(let S=0;S<f.length;S++){let x=f[S];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(T=S),x.route.id){let{loaderData:C,errors:P}=e,G=x.route.loader&&C[x.route.id]===void 0&&(!P||P[x.route.id]===void 0);if(x.route.lazy||G){y=!0,T>=0?f=f.slice(0,T+1):f=[f[0]];break}}}return f.reduceRight((S,x,C)=>{let P,G=!1,Z=null,K=null;e&&(P=_&&x.route.id?_[x.route.id]:void 0,Z=x.route.errorElement||cA,y&&(T<0&&C===0?(vA("route-fallback"),G=!0,K=null):T===C&&(G=!0,K=x.route.hydrateFallbackElement||null)));let ht=t.concat(f.slice(0,C+1)),pt=()=>{let _t;return P?_t=Z:G?_t=K:x.route.Component?_t=at.createElement(x.route.Component,null):x.route.element?_t=x.route.element:_t=S,at.createElement(fA,{match:x,routeContext:{outlet:S,matches:ht,isDataRoute:e!=null},children:_t})};return e&&(x.route.ErrorBoundary||x.route.errorElement||C===0)?at.createElement(hA,{location:e.location,revalidation:e.revalidation,component:Z,error:P,children:pt(),routeContext:{outlet:null,matches:ht,isDataRoute:!0}}):pt()},null)}var _E=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(_E||{}),yE=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(yE||{});function mA(i){let t=at.useContext(ng);return t||hn(!1),t}function pA(i){let t=at.useContext(sA);return t||hn(!1),t}function gA(i){let t=at.useContext(Wo);return t||hn(!1),t}function vE(i){let t=gA(),e=t.matches[t.matches.length-1];return e.route.id||hn(!1),e.route.id}function _A(){var i;let t=at.useContext(mE),e=pA(),r=vE();return t!==void 0?t:(i=e.errors)==null?void 0:i[r]}function yA(){let{router:i}=mA(_E.UseNavigateStable),t=vE(yE.UseNavigateStable),e=at.useRef(!1);return pE(()=>{e.current=!0}),at.useCallback(function(l,h){h===void 0&&(h={}),e.current&&(typeof l=="number"?i.navigate(l):i.navigate(l,bc({fromRouteId:t},h)))},[i,t])}const h0={};function vA(i,t,e){h0[i]||(h0[i]=!0)}function TA(i,t){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function ac(i){hn(!1)}function EA(i){let{basename:t="/",children:e=null,location:r,navigationType:l=Ma.Pop,navigator:h,static:f=!1,future:_}=i;Dc()&&hn(!1);let y=t.replace(/^\/*/,"/"),T=at.useMemo(()=>({basename:y,navigator:h,static:f,future:bc({v7_relativeSplatPath:!1},_)}),[y,_,h,f]);typeof r=="string"&&(r=cu(r));let{pathname:S="/",search:x="",hash:C="",state:P=null,key:G="default"}=r,Z=at.useMemo(()=>{let K=eg(S,y);return K==null?null:{location:{pathname:K,search:x,hash:C,state:P,key:G},navigationType:l}},[y,S,x,C,P,G,l]);return Z==null?null:at.createElement(Xo.Provider,{value:T},at.createElement(Zf.Provider,{children:e,value:Z}))}function bA(i){let{children:t,location:e}=i;return oA(vp(t),e)}new Promise(()=>{});function vp(i,t){t===void 0&&(t=[]);let e=[];return at.Children.forEach(i,(r,l)=>{if(!at.isValidElement(r))return;let h=[...t,l];if(r.type===at.Fragment){e.push.apply(e,vp(r.props.children,h));return}r.type!==ac&&hn(!1),!r.props.index||!r.props.children||hn(!1);let f={id:r.props.id||h.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=vp(r.props.children,h)),e.push(f)}),e}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Tp.apply(this,arguments)}function wA(i,t){if(i==null)return{};var e={},r=Object.keys(i),l,h;for(h=0;h<r.length;h++)l=r[h],!(t.indexOf(l)>=0)&&(e[l]=i[l]);return e}function SA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function AA(i,t){return i.button===0&&(!t||t==="_self")&&!SA(i)}const xA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CA="6";try{window.__reactRouterVersion=CA}catch{}const RA="startTransition",f0=I1[RA];function IA(i){let{basename:t,children:e,future:r,window:l}=i,h=at.useRef();h.current==null&&(h.current=N1({window:l,v5Compat:!0}));let f=h.current,[_,y]=at.useState({action:f.action,location:f.location}),{v7_startTransition:T}=r||{},S=at.useCallback(x=>{T&&f0?f0(()=>y(x)):y(x)},[y,T]);return at.useLayoutEffect(()=>f.listen(S),[f,S]),at.useEffect(()=>TA(r),[r]),at.createElement(EA,{basename:t,children:e,location:_.location,navigationType:_.action,navigator:f,future:r})}const OA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sc=at.forwardRef(function(t,e){let{onClick:r,relative:l,reloadDocument:h,replace:f,state:_,target:y,to:T,preventScrollReset:S,viewTransition:x}=t,C=wA(t,xA),{basename:P}=at.useContext(Xo),G,Z=!1;if(typeof T=="string"&&NA.test(T)&&(G=T,OA))try{let _t=new URL(window.location.href),wt=T.startsWith("//")?new URL(_t.protocol+T):new URL(T),gt=eg(wt.pathname,P);wt.origin===_t.origin&&gt!=null?T=gt+wt.search+wt.hash:Z=!0}catch{}let K=rA(T,{relative:l}),ht=PA(T,{replace:f,state:_,target:y,preventScrollReset:S,relative:l,viewTransition:x});function pt(_t){r&&r(_t),_t.defaultPrevented||ht(_t)}return at.createElement("a",Tp({},C,{href:G||K,onClick:Z||h?r:pt,ref:e,target:y}))});var d0;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(d0||(d0={}));var m0;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(m0||(m0={}));function PA(i,t){let{target:e,replace:r,state:l,preventScrollReset:h,relative:f,viewTransition:_}=t===void 0?{}:t,y=Yf(),T=Kf(),S=gE(i,{relative:f});return at.useCallback(x=>{if(AA(x,e)){x.preventDefault();let C=r!==void 0?r:bf(T)===bf(S);y(i,{replace:C,state:l,preventScrollReset:h,relative:f,viewTransition:_})}},[T,y,S,r,l,e,i,h,f,_])}const LA=(i,t,e,r)=>{var h,f,_,y;const l=[e,{code:t,...r||{}}];if((f=(h=i==null?void 0:i.services)==null?void 0:h.logger)!=null&&f.forward)return i.services.logger.forward(l,"warn","react-i18next::",!0);Ho(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(y=(_=i==null?void 0:i.services)==null?void 0:_.logger)!=null&&y.warn?i.services.logger.warn(...l):console!=null&&console.warn&&console.warn(...l)},p0={},Ep=(i,t,e,r)=>{Ho(e)&&p0[e]||(Ho(e)&&(p0[e]=new Date),LA(i,t,e,r))},TE=(i,t)=>()=>{if(i.isInitialized)t();else{const e=()=>{setTimeout(()=>{i.off("initialized",e)},0),t()};i.on("initialized",e)}},bp=(i,t,e)=>{i.loadNamespaces(t,TE(i,e))},g0=(i,t,e,r)=>{if(Ho(e)&&(e=[e]),i.options.preload&&i.options.preload.indexOf(t)>-1)return bp(i,e,r);e.forEach(l=>{i.options.ns.indexOf(l)<0&&i.options.ns.push(l)}),i.loadLanguages(t,TE(i,r))},DA=(i,t,e={})=>!t.languages||!t.languages.length?(Ep(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(i,{lng:e.lng,precheck:(r,l)=>{if(e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!l(r.isLanguageChangingTo,i))return!1}}),Ho=i=>typeof i=="string",MA=i=>typeof i=="object"&&i!==null,kA=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,VA={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},zA=i=>VA[i],UA=i=>i.replace(kA,zA);let wp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:UA};const BA=(i={})=>{wp={...wp,...i}},jA=()=>wp;let EE;const HA=i=>{EE=i},FA=()=>EE,qA={type:"3rdParty",init(i){BA(i.options.react),HA(i)}},GA=at.createContext();class ZA{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const KA=(i,t)=>{const e=at.useRef();return at.useEffect(()=>{e.current=i},[i,t]),e.current},bE=(i,t,e,r)=>i.getFixedT(t,e,r),YA=(i,t,e,r)=>at.useCallback(bE(i,t,e,r),[i,t,e,r]),Mc=(i,t={})=>{var wt,gt,xt,k;const{i18n:e}=t,{i18n:r,defaultNS:l}=at.useContext(GA)||{},h=e||r||FA();if(h&&!h.reportNamespaces&&(h.reportNamespaces=new ZA),!h){Ep(h,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(H,j)=>Ho(j)?j:MA(j)&&Ho(j.defaultValue)?j.defaultValue:Array.isArray(H)?H[H.length-1]:H,D=[N,{},!1];return D.t=N,D.i18n={},D.ready=!1,D}(wt=h.options.react)!=null&&wt.wait&&Ep(h,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...jA(),...h.options.react,...t},{useSuspense:_,keyPrefix:y}=f;let T=l||((gt=h.options)==null?void 0:gt.defaultNS);T=Ho(T)?[T]:T||["translation"],(k=(xt=h.reportNamespaces).addUsedNamespaces)==null||k.call(xt,T);const S=(h.isInitialized||h.initializedStoreOnce)&&T.every(N=>DA(N,h,f)),x=YA(h,t.lng||null,f.nsMode==="fallback"?T:T[0],y),C=()=>x,P=()=>bE(h,t.lng||null,f.nsMode==="fallback"?T:T[0],y),[G,Z]=at.useState(C);let K=T.join();t.lng&&(K=`${t.lng}${K}`);const ht=KA(K),pt=at.useRef(!0);at.useEffect(()=>{const{bindI18n:N,bindI18nStore:D}=f;pt.current=!0,!S&&!_&&(t.lng?g0(h,t.lng,T,()=>{pt.current&&Z(P)}):bp(h,T,()=>{pt.current&&Z(P)})),S&&ht&&ht!==K&&pt.current&&Z(P);const H=()=>{pt.current&&Z(P)};return N&&(h==null||h.on(N,H)),D&&(h==null||h.store.on(D,H)),()=>{pt.current=!1,h&&N&&(N==null||N.split(" ").forEach(j=>h.off(j,H))),D&&h&&D.split(" ").forEach(j=>h.store.off(j,H))}},[h,K]),at.useEffect(()=>{pt.current&&S&&Z(C)},[h,y,S]);const _t=[G,h,S];if(_t.t=G,_t.i18n=h,_t.ready=S,S||!S&&!_)return _t;throw new Promise(N=>{t.lng?g0(h,t.lng,T,()=>N()):bp(h,T,()=>N())})},QA=()=>{};var _0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},XA=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const l=i[e++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[e++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[e++],f=i[e++],_=i[e++],y=((l&7)<<18|(h&63)<<12|(f&63)<<6|_&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const h=i[e++],f=i[e++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|f&63)}}return t.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const h=i[l],f=l+1<i.length,_=f?i[l+1]:0,y=l+2<i.length,T=y?i[l+2]:0,S=h>>2,x=(h&3)<<4|_>>4;let C=(_&15)<<2|T>>6,P=T&63;y||(P=64,f||(C=64)),r.push(e[S],e[x],e[C],e[P])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(wE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):XA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const h=e[i.charAt(l++)],_=l<i.length?e[i.charAt(l)]:0;++l;const T=l<i.length?e[i.charAt(l)]:64;++l;const x=l<i.length?e[i.charAt(l)]:64;if(++l,h==null||_==null||T==null||x==null)throw new WA;const C=h<<2|_>>4;if(r.push(C),T!==64){const P=_<<4&240|T>>2;if(r.push(P),x!==64){const G=T<<6&192|x;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $A=function(i){const t=wE(i);return SE.encodeByteArray(t,!0)},wf=function(i){return $A(i).replace(/\./g,"")},AE=function(i){try{return SE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=()=>JA().__FIREBASE_DEFAULTS__,ex=()=>{if(typeof process>"u"||typeof _0>"u")return;const i=_0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},nx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&AE(i[1]);return t&&JSON.parse(t)},Qf=()=>{try{return QA()||tx()||ex()||nx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},xE=i=>{var t,e;return(e=(t=Qf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},ix=i=>{const t=xE(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},CE=()=>{var i;return(i=Qf())===null||i===void 0?void 0:i.config},RE=i=>{var t;return(t=Qf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},i);return[wf(JSON.stringify(e)),wf(JSON.stringify(f)),""].join(".")}const dc={};function ax(){const i={prod:[],emulator:[]};for(const t of Object.keys(dc))dc[t]?i.emulator.push(t):i.prod.push(t);return i}function ox(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let y0=!1;function OE(i,t){if(typeof window>"u"||typeof document>"u"||!hu(window.location.host)||dc[i]===t||dc[i]||y0)return;dc[i]=t;function e(C){return`__firebase__banner__${C}`}const r="__firebase__banner",h=ax().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function _(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function T(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{y0=!0,f()},C}function S(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function x(){const C=ox(r),P=e("text"),G=document.getElementById(P)||document.createElement("span"),Z=e("learnmore"),K=document.getElementById(Z)||document.createElement("a"),ht=e("preprendIcon"),pt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const _t=C.element;_(_t),S(K,Z);const wt=T();y(pt,ht),_t.append(pt,G,K,wt),document.body.appendChild(_t)}h?(G.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function ux(){var i;const t=(i=Qf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dx(){const i=Kn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function mx(){return!ux()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function px(){try{return typeof indexedDB=="object"}catch{return!1}}function gx(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="FirebaseError";class Hr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=_x,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kc.prototype.create)}}class kc{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},l=`${this.service}/${t}`,h=this.errors[t],f=h?yx(h,r):"Error",_=`${this.serviceName}: ${f} (${l}).`;return new Hr(l,_,r)}}function yx(i,t){return i.replace(vx,(e,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const vx=/\{\$([^}]+)}/g;function Tx(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Fo(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const l of e){if(!r.includes(l))return!1;const h=i[l],f=t[l];if(v0(h)&&v0(f)){if(!Fo(h,f))return!1}else if(h!==f)return!1}for(const l of r)if(!e.includes(l))return!1;return!0}function v0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(i){const t=[];for(const[e,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function oc(i){const t={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,h]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function lc(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function Ex(i,t){const e=new bx(i,t);return e.subscribe.bind(e)}class bx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let l;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");wx(t,["next","error","complete"])?l=t:l={next:t,error:e,complete:r},l.next===void 0&&(l.next=rp),l.error===void 0&&(l.error=rp),l.complete===void 0&&(l.complete=rp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wx(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(i){return i&&i._delegate?i._delegate:i}class qo{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new sx;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xx(t))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=Bo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bo){return this.instances.has(t)}getOptions(t=Bo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[h,f]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&f.resolve(l)}return l}onInit(t,e){var r;const l=this.normalizeInstanceIdentifier(e),h=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;h.add(t),this.onInitCallbacks.set(l,h);const f=this.instances.get(l);return f&&t(f,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const l of r)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ax(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Bo){return this.component?this.component.multipleInstances?t:Bo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ax(i){return i===Bo?void 0:i}function xx(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Sx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ae||(ae={}));const Rx={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Ix=ae.INFO,Ox={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Nx=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),l=Ox[t];if(l)console[l](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let ig=class{constructor(t){this.name=t,this._logLevel=Ix,this._logHandler=Nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}};const Px=(i,t)=>t.some(e=>i instanceof e);let T0,E0;function Lx(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dx(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,Sp=new WeakMap,PE=new WeakMap,ap=new WeakMap,sg=new WeakMap;function Mx(i){const t=new Promise((e,r)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",f)},h=()=>{e(za(i.result)),l()},f=()=>{r(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&NE.set(e,i)}).catch(()=>{}),sg.set(t,i),t}function kx(i){if(Sp.has(i))return;const t=new Promise((e,r)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",f),i.removeEventListener("abort",f)},h=()=>{e(),l()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",f),i.addEventListener("abort",f)});Sp.set(i,t)}let Ap={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Sp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||PE.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return za(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Vx(i){Ap=i(Ap)}function zx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(op(this),t,...e);return PE.set(r,t.sort?t.sort():[t]),za(r)}:Dx().includes(i)?function(...t){return i.apply(op(this),t),za(NE.get(this))}:function(...t){return za(i.apply(op(this),t))}}function Ux(i){return typeof i=="function"?zx(i):(i instanceof IDBTransaction&&kx(i),Px(i,Lx())?new Proxy(i,Ap):i)}function za(i){if(i instanceof IDBRequest)return Mx(i);if(ap.has(i))return ap.get(i);const t=Ux(i);return t!==i&&(ap.set(i,t),sg.set(t,i)),t}const op=i=>sg.get(i);function Bx(i,t,{blocked:e,upgrade:r,blocking:l,terminated:h}={}){const f=indexedDB.open(i,t),_=za(f);return r&&f.addEventListener("upgradeneeded",y=>{r(za(f.result),y.oldVersion,y.newVersion,za(f.transaction),y)}),e&&f.addEventListener("blocked",y=>e(y.oldVersion,y.newVersion,y)),_.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),_}const jx=["get","getKey","getAll","getAllKeys","count"],Hx=["put","add","delete","clear"],lp=new Map;function b0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(lp.get(t))return lp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,l=Hx.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(l||jx.includes(e)))return;const h=async function(f,..._){const y=this.transaction(f,l?"readwrite":"readonly");let T=y.store;return r&&(T=T.index(_.shift())),(await Promise.all([T[e](..._),l&&y.done]))[0]};return lp.set(t,h),h}Vx(i=>({...i,get:(t,e,r)=>b0(t,e)||i.get(t,e,r),has:(t,e)=>!!b0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(qx(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function qx(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xp="@firebase/app",w0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new ig("@firebase/app"),Gx="@firebase/app-compat",Zx="@firebase/analytics-compat",Kx="@firebase/analytics",Yx="@firebase/app-check-compat",Qx="@firebase/app-check",Xx="@firebase/auth",Wx="@firebase/auth-compat",$x="@firebase/database",Jx="@firebase/data-connect",tC="@firebase/database-compat",eC="@firebase/functions",nC="@firebase/functions-compat",iC="@firebase/installations",sC="@firebase/installations-compat",rC="@firebase/messaging",aC="@firebase/messaging-compat",oC="@firebase/performance",lC="@firebase/performance-compat",uC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",fC="@firebase/storage-compat",dC="@firebase/firestore",mC="@firebase/ai",pC="@firebase/firestore-compat",gC="firebase",_C="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",yC={[xp]:"fire-core",[Gx]:"fire-core-compat",[Kx]:"fire-analytics",[Zx]:"fire-analytics-compat",[Qx]:"fire-app-check",[Yx]:"fire-app-check-compat",[Xx]:"fire-auth",[Wx]:"fire-auth-compat",[$x]:"fire-rtdb",[Jx]:"fire-data-connect",[tC]:"fire-rtdb-compat",[eC]:"fire-fn",[nC]:"fire-fn-compat",[iC]:"fire-iid",[sC]:"fire-iid-compat",[rC]:"fire-fcm",[aC]:"fire-fcm-compat",[oC]:"fire-perf",[lC]:"fire-perf-compat",[uC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[fC]:"fire-gcs-compat",[dC]:"fire-fst",[pC]:"fire-fst-compat",[mC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,vC=new Map,Rp=new Map;function S0(i,t){try{i.container.addComponent(t)}catch(e){zr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function su(i){const t=i.name;if(Rp.has(t))return zr.debug(`There were multiple attempts to register component ${t}.`),!1;Rp.set(t,i);for(const e of Sf.values())S0(e,i);for(const e of vC.values())S0(e,i);return!0}function rg(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function $i(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new kc("app","Firebase",TC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=_C;function LE(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Cp,automaticDataCollectionEnabled:!0},t),l=r.name;if(typeof l!="string"||!l)throw Ua.create("bad-app-name",{appName:String(l)});if(e||(e=CE()),!e)throw Ua.create("no-options");const h=Sf.get(l);if(h){if(Fo(e,h.options)&&Fo(r,h.config))return h;throw Ua.create("duplicate-app",{appName:l})}const f=new Cx(l);for(const y of Rp.values())f.addComponent(y);const _=new EC(e,r,f);return Sf.set(l,_),_}function DE(i=Cp){const t=Sf.get(i);if(!t&&i===Cp&&CE())return LE();if(!t)throw Ua.create("no-app",{appName:i});return t}function Ba(i,t,e){var r;let l=(r=yC[i])!==null&&r!==void 0?r:i;e&&(l+=`-${e}`);const h=l.match(/\s|\//),f=t.match(/\s|\//);if(h||f){const _=[`Unable to register library "${l}" with version "${t}":`];h&&_.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&f&&_.push("and"),f&&_.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zr.warn(_.join(" "));return}su(new qo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firebase-heartbeat-database",wC=1,wc="firebase-heartbeat-store";let up=null;function ME(){return up||(up=Bx(bC,wC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(wc)}catch(e){console.warn(e)}}}}).catch(i=>{throw Ua.create("idb-open",{originalErrorMessage:i.message})})),up}async function SC(i){try{const e=(await ME()).transaction(wc),r=await e.objectStore(wc).get(kE(i));return await e.done,r}catch(t){if(t instanceof Hr)zr.warn(t.message);else{const e=Ua.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zr.warn(e.message)}}}async function A0(i,t){try{const r=(await ME()).transaction(wc,"readwrite");await r.objectStore(wc).put(t,kE(i)),await r.done}catch(e){if(e instanceof Hr)zr.warn(e.message);else{const r=Ua.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});zr.warn(r.message)}}}function kE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1024,xC=30;class CC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new IC(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=x0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(f=>f.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>xC){const f=OC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x0(),{heartbeatsToSend:r,unsentEntries:l}=RC(this._heartbeatsCache.heartbeats),h=wf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(e){return zr.warn(e),""}}}function x0(){return new Date().toISOString().substring(0,10)}function RC(i,t=AC){const e=[];let r=i.slice();for(const l of i){const h=e.find(f=>f.agent===l.agent);if(h){if(h.dates.push(l.date),C0(e)>t){h.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),C0(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class IC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return px()?gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await SC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return A0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return A0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function C0(i){return wf(JSON.stringify({version:2,heartbeats:i})).length}function OC(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(i){su(new qo("platform-logger",t=>new Fx(t),"PRIVATE")),su(new qo("heartbeat",t=>new CC(t),"PRIVATE")),Ba(xp,w0,i),Ba(xp,w0,"esm2017"),Ba("fire-js","")}NC("");function ag(i,t){var e={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.indexOf(r)<0&&(e[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(i,r[l])&&(e[r[l]]=i[r[l]]);return e}function VE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PC=VE,zE=new kc("auth","Firebase",VE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new ig("@firebase/auth");function LC(i,...t){Af.logLevel<=ae.WARN&&Af.warn(`Auth (${fu}): ${i}`,...t)}function hf(i,...t){Af.logLevel<=ae.ERROR&&Af.error(`Auth (${fu}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(i,...t){throw og(i,...t)}function tr(i,...t){return og(i,...t)}function UE(i,t,e){const r=Object.assign(Object.assign({},PC()),{[t]:e});return new kc("auth","Firebase",r).create(t,{appName:i.name})}function Vr(i){return UE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(i,...t){if(typeof i!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(e,...r)}return zE.create(i,...t)}function zt(i,t,...e){if(!i)throw og(t,...e)}function Mr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw hf(t),new Error(t)}function Ur(i,t){i||Mr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function DC(){return R0()==="http:"||R0()==="https:"}function R0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DC()||hx()||"connection"in navigator)?navigator.onLine:!0}function kC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ur(e>t,"Short delay should be less than long delay!"),this.isMobile=lx()||fx()}get(){return MC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,t){Ur(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UC=new zc(3e4,6e4);function Wa(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function $a(i,t,e,r,l={}){return jE(i,l,async()=>{let h={},f={};r&&(t==="GET"?f=r:h={body:JSON.stringify(r)});const _=Vc(Object.assign({key:i.config.apiKey},f)).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const T=Object.assign({method:t,headers:y},h);return cx()||(T.referrerPolicy="no-referrer"),i.emulatorConfig&&hu(i.emulatorConfig.host)&&(T.credentials="include"),BE.fetch()(await HE(i,i.config.apiHost,e,_),T)})}async function jE(i,t,e){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},VC),t);try{const l=new jC(i),h=await Promise.race([e(),l.promise]);l.clearNetworkTimeout();const f=await h.json();if("needConfirmation"in f)throw nf(i,"account-exists-with-different-credential",f);if(h.ok&&!("errorMessage"in f))return f;{const _=h.ok?f.errorMessage:f.error.message,[y,T]=_.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw nf(i,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw nf(i,"email-already-in-use",f);if(y==="USER_DISABLED")throw nf(i,"user-disabled",f);const S=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw UE(i,S,T);Ts(i,S)}}catch(l){if(l instanceof Hr)throw l;Ts(i,"network-request-failed",{message:String(l)})}}async function Uc(i,t,e,r,l={}){const h=await $a(i,t,e,r,l);return"mfaPendingCredential"in h&&Ts(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function HE(i,t,e,r){const l=`${t}${e}?${r}`,h=i,f=h.config.emulator?lg(i.config,l):`${i.config.apiScheme}://${l}`;return zC.includes(e)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(f).toString():f}function BC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),UC.get())})}}function nf(i,t,e){const r={appName:i.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const l=tr(i,t,r);return l.customData._tokenResponse=e,l}function I0(i){return i!==void 0&&i.enterprise!==void 0}class HC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return BC(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FC(i,t){return $a(i,"GET","/v2/recaptchaConfig",Wa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(i,t){return $a(i,"POST","/v1/accounts:delete",t)}async function xf(i,t){return $a(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GC(i,t=!1){const e=Cn(i),r=await e.getIdToken(t),l=ug(r);zt(l&&l.exp&&l.auth_time&&l.iat,e.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,f=h==null?void 0:h.sign_in_provider;return{claims:l,token:r,authTime:mc(cp(l.auth_time)),issuedAtTime:mc(cp(l.iat)),expirationTime:mc(cp(l.exp)),signInProvider:f||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function cp(i){return Number(i)*1e3}function ug(i){const[t,e,r]=i.split(".");if(t===void 0||e===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const l=AE(e);return l?JSON.parse(l):(hf("Failed to decode base64 JWT payload"),null)}catch(l){return hf("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function O0(i){const t=ug(i);return zt(t,"internal-error"),zt(typeof t.exp<"u","internal-error"),zt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(i,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Hr&&ZC(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function ZC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(i){var t;const e=i.auth,r=await i.getIdToken(),l=await Sc(i,xf(e,{idToken:r}));zt(l==null?void 0:l.users.length,e,"internal-error");const h=l.users[0];i._notifyReloadListener(h);const f=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?FE(h.providerUserInfo):[],_=QC(i.providerData,f),y=i.isAnonymous,T=!(i.email&&h.passwordHash)&&!(_!=null&&_.length),S=y?T:!1,x={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:_,metadata:new Op(h.createdAt,h.lastLoginAt),isAnonymous:S};Object.assign(i,x)}async function YC(i){const t=Cn(i);await Cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QC(i,t){return[...i.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function FE(i){return i.map(t=>{var{providerId:e}=t,r=ag(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(i,t){const e=await jE(i,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,f=await HE(i,l,"/v1/token",`key=${h}`),_=await i._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:_,body:r};return i.emulatorConfig&&hu(i.emulatorConfig.host)&&(y.credentials="include"),BE.fetch()(f,y)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function WC(i,t){return $a(i,"POST","/v2/accounts:revokeToken",Wa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){zt(t.idToken,"internal-error"),zt(typeof t.idToken<"u","internal-error"),zt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):O0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){zt(t.length!==0,"internal-error");const e=O0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:l,expiresIn:h}=await XC(t,e);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:l,expirationTime:h}=e,f=new $l;return r&&(zt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),l&&(zt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),h&&(zt(typeof h=="number","internal-error",{appName:t}),f.expirationTime=h),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(i,t){zt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ys{constructor(t){var{uid:e,auth:r,stsTokenManager:l}=t,h=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Op(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const e=await Sc(this,this.stsTokenManager.getToken(this.auth,t));return zt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return GC(this,t)}reload(){return YC(this)}_assign(t){this!==t&&(zt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ys(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($i(this.auth.app))return Promise.reject(Vr(this.auth));const t=await this.getIdToken();return await Sc(this,qC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,l,h,f,_,y,T,S;const x=(r=e.displayName)!==null&&r!==void 0?r:void 0,C=(l=e.email)!==null&&l!==void 0?l:void 0,P=(h=e.phoneNumber)!==null&&h!==void 0?h:void 0,G=(f=e.photoURL)!==null&&f!==void 0?f:void 0,Z=(_=e.tenantId)!==null&&_!==void 0?_:void 0,K=(y=e._redirectEventId)!==null&&y!==void 0?y:void 0,ht=(T=e.createdAt)!==null&&T!==void 0?T:void 0,pt=(S=e.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:_t,emailVerified:wt,isAnonymous:gt,providerData:xt,stsTokenManager:k}=e;zt(_t&&k,t,"internal-error");const N=$l.fromJSON(this.name,k);zt(typeof _t=="string",t,"internal-error"),Oa(x,t.name),Oa(C,t.name),zt(typeof wt=="boolean",t,"internal-error"),zt(typeof gt=="boolean",t,"internal-error"),Oa(P,t.name),Oa(G,t.name),Oa(Z,t.name),Oa(K,t.name),Oa(ht,t.name),Oa(pt,t.name);const D=new ys({uid:_t,auth:t,email:C,emailVerified:wt,displayName:x,isAnonymous:gt,photoURL:G,phoneNumber:P,tenantId:Z,stsTokenManager:N,createdAt:ht,lastLoginAt:pt});return xt&&Array.isArray(xt)&&(D.providerData=xt.map(H=>Object.assign({},H))),K&&(D._redirectEventId=K),D}static async _fromIdTokenResponse(t,e,r=!1){const l=new $l;l.updateFromServerResponse(e);const h=new ys({uid:e.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Cf(h),h}static async _fromGetAccountInfoResponse(t,e,r){const l=e.users[0];zt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?FE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),_=new $l;_.updateFromIdToken(r);const y=new ys({uid:l.localId,auth:t,stsTokenManager:_,isAnonymous:f}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Op(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(y,T),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function kr(i){Ur(i instanceof Function,"Expected a class definition");let t=N0.get(i);return t?(Ur(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,N0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}qE.type="NONE";const P0=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(i,t,e){return`firebase:${i}:${t}:${e}`}class Jl{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=ff(this.userKey,l.apiKey,h),this.fullPersistenceKey=ff("persistence",l.apiKey,h),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xf(this.auth,{idToken:t}).catch(()=>{});return e?ys._fromGetAccountInfoResponse(this.auth,e,t):null}return ys._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Jl(kr(P0),t,r);const l=(await Promise.all(e.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||kr(P0);const f=ff(r,t.config.apiKey,t.name);let _=null;for(const T of e)try{const S=await T._get(f);if(S){let x;if(typeof S=="string"){const C=await xf(t,{idToken:S}).catch(()=>{});if(!C)break;x=await ys._fromGetAccountInfoResponse(t,C,S)}else x=ys._fromJSON(t,S);T!==h&&(_=x),h=T;break}}catch{}const y=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Jl(h,t,r):(h=y[0],_&&await h._set(f,_.toJSON()),await Promise.all(e.map(async T=>{if(T!==h)try{await T._remove(f)}catch{}})),new Jl(h,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(GE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XE(t))return"Blackberry";if(WE(t))return"Webos";if(ZE(t))return"Safari";if((t.includes("chrome/")||KE(t))&&!t.includes("edge/"))return"Chrome";if(QE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GE(i=Kn()){return/firefox\//i.test(i)}function ZE(i=Kn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function KE(i=Kn()){return/crios\//i.test(i)}function YE(i=Kn()){return/iemobile/i.test(i)}function QE(i=Kn()){return/android/i.test(i)}function XE(i=Kn()){return/blackberry/i.test(i)}function WE(i=Kn()){return/webos/i.test(i)}function cg(i=Kn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function $C(i=Kn()){var t;return cg(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function JC(){return dx()&&document.documentMode===10}function $E(i=Kn()){return cg(i)||QE(i)||WE(i)||XE(i)||/windows phone/i.test(i)||YE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(i,t=[]){let e;switch(i){case"Browser":e=L0(Kn());break;case"Worker":e=`${L0(Kn())}-${i}`;break;default:e=i}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${fu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=h=>new Promise((f,_)=>{try{const y=t(h);f(y)}catch(y){_(y)}});r.onAbort=e,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const l of e)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(i,t={}){return $a(i,"GET","/v2/passwordPolicy",Wa(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=6;class iR{constructor(t){var e,r,l,h;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=f.minPasswordLength)!==null&&e!==void 0?e:nR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,l,h,f,_;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(e=y.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),y.isValid&&(y.isValid=(r=y.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsUppercaseLetter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(f=y.containsNumericCharacter)!==null&&f!==void 0?f:!0),y.isValid&&(y.isValid=(_=y.containsNonAlphanumericCharacter)!==null&&_!==void 0?_:!0),y}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),l&&(e.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,e,r,l){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D0(this),this.idTokenSubscription=new D0(this),this.beforeStateQueue=new tR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=kr(e)),this._initializationPromise=this.queue(async()=>{var r,l,h;if(!this._deleted&&(this.persistenceManager=await Jl.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xf(this,{idToken:t}),r=await ys._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if($i(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(_=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(_,_))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,_=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!f||f===_)&&(y!=null&&y.user)&&(l=y.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($i(this.app))return Promise.reject(Vr(this));const e=t?Cn(t):null;return e&&zt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&zt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $i(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $i(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eR(this),e=new iR(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kc("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await WC(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&kr(t)||this._popupRedirectResolver;zt(e,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[kr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,l){if(this._deleted)return()=>{};const h=typeof e=="function"?e:e.next.bind(e);let f=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(_,this,"internal-error"),_.then(()=>{f||h(this.currentUser)}),typeof e=="function"){const y=t.addObserver(e,r,l);return()=>{f=!0,y()}}else{const y=t.addObserver(e);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(e["X-Firebase-AppCheck"]=l),e}async _getAppCheckToken(){var t;if($i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&LC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $o(i){return Cn(i)}class D0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ex(e=>this.observer=e)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rR(i){Xf=i}function tb(i){return Xf.loadJS(i)}function aR(){return Xf.recaptchaEnterpriseScript}function oR(){return Xf.gapiScript}function lR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class uR{constructor(){this.enterprise=new cR}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class cR{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const hR="recaptcha-enterprise",eb="NO_RECAPTCHA";class fR{constructor(t){this.type=hR,this.auth=$o(t)}async verify(t="verify",e=!1){async function r(h){if(!e){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(f,_)=>{FC(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const T=new HC(y);return h.tenantId==null?h._agentRecaptchaConfig=T:h._tenantRecaptchaConfigs[h.tenantId]=T,f(T.siteKey)}}).catch(y=>{_(y)})})}function l(h,f,_){const y=window.grecaptcha;I0(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:t}).then(T=>{f(T)}).catch(()=>{f(eb)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uR().execute("siteKey",{action:"verify"}):new Promise((h,f)=>{r(this.auth).then(_=>{if(!e&&I0(window.grecaptcha))l(_,h,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=aR();y.length!==0&&(y+=_),tb(y).then(()=>{l(_,h,f)}).catch(T=>{f(T)})}}).catch(_=>{f(_)})})}}async function M0(i,t,e,r=!1,l=!1){const h=new fR(i);let f;if(l)f=eb;else try{f=await h.verify(e)}catch{f=await h.verify(e,!0)}const _=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const y=_.phoneEnrollmentInfo.phoneNumber,T=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:T,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const y=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return r?Object.assign(_,{captchaResp:f}):Object.assign(_,{captchaResponse:f}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function Np(i,t,e,r,l){var h;if(!((h=i._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await M0(i,t,e,e==="getOobCode");return r(i,f)}else return r(i,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const _=await M0(i,t,e,e==="getOobCode");return r(i,_)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(i,t){const e=rg(i,"auth");if(e.isInitialized()){const l=e.getImmediate(),h=e.getOptions();if(Fo(h,t??{}))return l;Ts(l,"already-initialized")}return e.initialize({options:t})}function mR(i,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(kr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function pR(i,t,e){const r=$o(i);zt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=nb(t),{host:f,port:_}=gR(t),y=_===null?"":`:${_}`,T={url:`${h}//${f}${y}/`},S=Object.freeze({host:f,port:_,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){zt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),zt(Fo(T,r.config.emulator)&&Fo(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=T,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,hu(f)?(IE(`${h}//${f}${y}`),OE("Auth",!0)):_R()}function nb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function gR(i){const t=nb(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:k0(r.substr(h.length+1))}}else{const[h,f]=r.split(":");return{host:h,port:k0(f)}}}function k0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function _R(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Mr("not implemented")}_getIdTokenResponse(t){return Mr("not implemented")}_linkToIdToken(t,e){return Mr("not implemented")}_getReauthenticationResolver(t){return Mr("not implemented")}}async function yR(i,t){return $a(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(i,t){return Uc(i,"POST","/v1/accounts:signInWithPassword",Wa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(i,t){return Uc(i,"POST","/v1/accounts:signInWithEmailLink",Wa(i,t))}async function ER(i,t){return Uc(i,"POST","/v1/accounts:signInWithEmailLink",Wa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends hg{constructor(t,e,r,l=null){super("password",r),this._email=t,this._password=e,this._tenantId=l}static _fromEmailAndPassword(t,e){return new Ac(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Ac(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(t,e,"signInWithPassword",vR);case"emailLink":return TR(t,{email:this._email,oobCode:this._password});default:Ts(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Np(t,r,"signUpPassword",yR);case"emailLink":return ER(t,{idToken:e,email:this._email,oobCode:this._password});default:Ts(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(i,t){return Uc(i,"POST","/v1/accounts:signInWithIdp",Wa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="http://localhost";class Go extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Go(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ts("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l}=e,h=ag(e,["providerId","signInMethod"]);if(!r||!l)return null;const f=new Go(r,l);return f.idToken=h.idToken||void 0,f.accessToken=h.accessToken||void 0,f.secret=h.secret,f.nonce=h.nonce,f.pendingToken=h.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return tu(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,tu(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,tu(t,e)}buildRequest(){const t={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Vc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SR(i){const t=oc(lc(i)).link,e=t?oc(lc(t)).deep_link_id:null,r=oc(lc(i)).deep_link_id;return(r?oc(lc(r)).link:null)||r||e||t||i}class fg{constructor(t){var e,r,l,h,f,_;const y=oc(lc(t)),T=(e=y.apiKey)!==null&&e!==void 0?e:null,S=(r=y.oobCode)!==null&&r!==void 0?r:null,x=wR((l=y.mode)!==null&&l!==void 0?l:null);zt(T&&S&&x,"argument-error"),this.apiKey=T,this.operation=x,this.code=S,this.continueUrl=(h=y.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(f=y.lang)!==null&&f!==void 0?f:null,this.tenantId=(_=y.tenantId)!==null&&_!==void 0?_:null}static parseLink(t){const e=SR(t);try{return new fg(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.providerId=du.PROVIDER_ID}static credential(t,e){return Ac._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=fg.parseLink(e);return zt(r,"argument-error"),Ac._fromEmailAndCode(t,r.code,r.tenantId)}}du.PROVIDER_ID="password";du.EMAIL_PASSWORD_SIGN_IN_METHOD="password";du.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends ib{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Bc{constructor(){super("facebook.com")}static credential(t){return Go._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Na.credentialFromTaggedObject(t)}static credentialFromError(t){return Na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Na.credential(t.oauthAccessToken)}catch{return null}}}Na.FACEBOOK_SIGN_IN_METHOD="facebook.com";Na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Bc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Go._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Pa.credential(e,r)}catch{return null}}}Pa.GOOGLE_SIGN_IN_METHOD="google.com";Pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Bc{constructor(){super("github.com")}static credential(t){return Go._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return La.credential(t.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Bc{constructor(){super("twitter.com")}static credential(t,e){return Go._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Da.credential(e,r)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(i,t){return Uc(i,"POST","/v1/accounts:signUp",Wa(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,l=!1){const h=await ys._fromIdTokenResponse(t,r,l),f=V0(r);return new Zo({user:h,providerId:f,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const l=V0(r);return new Zo({user:t,providerId:l,_tokenResponse:r,operationType:e})}}function V0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends Hr{constructor(t,e,r,l){var h;super(e.code,e.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,l){return new Rf(t,e,r,l)}}function sb(i,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(i,h,t,r):h})}async function xR(i,t,e=!1){const r=await Sc(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Zo._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(i,t,e=!1){const{auth:r}=i;if($i(r.app))return Promise.reject(Vr(r));const l="reauthenticate";try{const h=await Sc(i,sb(r,l,t,i),e);zt(h.idToken,r,"internal-error");const f=ug(h.idToken);zt(f,r,"internal-error");const{sub:_}=f;return zt(i.uid===_,r,"user-mismatch"),Zo._forOperation(i,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Ts(r,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(i,t,e=!1){if($i(i.app))return Promise.reject(Vr(i));const r="signIn",l=await sb(i,r,t),h=await Zo._fromIdTokenResponse(i,r,l);return e||await i._updateCurrentUser(h.user),h}async function RR(i,t){return rb($o(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(i){const t=$o(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function IR(i,t,e){if($i(i.app))return Promise.reject(Vr(i));const r=$o(i),f=await Np(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AR).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&ab(i),y}),_=await Zo._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(_.user),_}function OR(i,t,e){return $i(i.app)?Promise.reject(Vr(i)):RR(Cn(i),du.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ab(i),r})}function NR(i,t,e,r){return Cn(i).onIdTokenChanged(t,e,r)}function PR(i,t,e){return Cn(i).beforeAuthStateChanged(t,e)}function LR(i,t,e,r){return Cn(i).onAuthStateChanged(t,e,r)}function DR(i){return Cn(i).signOut()}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1e3,kR=10;class lb extends ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$E(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),l=this.localCache[e];r!==l&&t(e,l,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,_,y)=>{this.notifyListeners(f,y)});return}const r=t.key;e?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!e&&this.localCache[r]===f||this.notifyListeners(r,f)},h=this.storage.getItem(r);JC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,kR):l()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},MR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}lb.type="LOCAL";const VR=lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ub.type="SESSION";const cb=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(l=>l.isListeningto(t));if(e)return e;const r=new Wf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:l,data:h}=e.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const _=Array.from(f).map(async T=>T(e.origin,h)),y=await zR(_);e.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,f;return new Promise((_,y)=>{const T=dg("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(x){const C=x;if(C.data.eventId===T)switch(C.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),_(C.data.response);break;default:clearTimeout(S),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:T,data:e},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function BR(i){er().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function jR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HR(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function FR(){return hb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="firebaseLocalStorageDb",qR=1,Of="firebaseLocalStorage",db="fbase_key";class jc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function $f(i,t){return i.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function GR(){const i=indexedDB.deleteDatabase(fb);return new jc(i).toPromise()}function Pp(){const i=indexedDB.open(fb,qR);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Of,{keyPath:db})}catch(l){e(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Of)?t(r):(r.close(),await GR(),t(await Pp()))})})}async function z0(i,t,e){const r=$f(i,!0).put({[db]:t,value:e});return new jc(r).toPromise()}async function ZR(i,t){const e=$f(i,!1).get(t),r=await new jc(e).toPromise();return r===void 0?null:r.value}function U0(i,t){const e=$f(i,!0).delete(t);return new jc(e).toPromise()}const KR=800,YR=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>YR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(FR()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await jR(),!this.activeServiceWorker)return;this.sender=new UR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Pp();return await z0(t,If,"1"),await U0(t,If),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>z0(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>ZR(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>U0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=$f(l,!1).getAll();return new jc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),e.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),e.push(l));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const QR=mb;new zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(i,t){return t?kr(t):(zt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends hg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return tu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return tu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return tu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function WR(i){return rb(i.auth,new mg(i),i.bypassAuthState)}function $R(i){const{auth:t,user:e}=i;return zt(e,t,"internal-error"),CR(e,new mg(i),i.bypassAuthState)}async function JR(i){const{auth:t,user:e}=i;return zt(e,t,"internal-error"),xR(e,new mg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,e,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:l,tenantId:h,error:f,type:_}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:e,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(y))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WR;case"linkViaPopup":case"linkViaRedirect":return JR;case"reauthViaPopup":case"reauthViaRedirect":return $R;default:Ts(this.auth,"internal-error")}}resolve(t){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new zc(2e3,1e4);class Wl extends pb{constructor(t,e,r,l,h){super(t,e,l,h),this.provider=r,this.authWindow=null,this.pollId=null,Wl.currentPopupAction&&Wl.currentPopupAction.cancel(),Wl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return zt(t,this.auth,"internal-error"),t}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const t=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tI.get())};t()}}Wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="pendingRedirect",df=new Map;class nI extends pb{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=df.get(this.auth._key());if(!t){try{const r=await iI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}df.set(this.auth._key(),t)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iI(i,t){const e=aI(t),r=rI(i);if(!await r._isAvailable())return!1;const l=await r._get(e)==="true";return await r._remove(e),l}function sI(i,t){df.set(i._key(),t)}function rI(i){return kr(i._redirectPersistence)}function aI(i){return ff(eI,i.config.apiKey,i.name)}async function oI(i,t,e=!1){if($i(i.app))return Promise.reject(Vr(i));const r=$o(i),l=XR(r,t),f=await new nI(r,l,e).execute();return f&&!e&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=600*1e3;class uI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cI(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!gb(t)){const l=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(tr(this.auth,l))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lI&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(t))}saveEventToCache(t){this.cachedEventUids.add(B0(t)),this.lastProcessedEventTime=Date.now()}}function B0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function gb({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function cI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(i,t={}){return $a(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dI=/^https?/;async function mI(i){if(i.config.emulator)return;const{authorizedDomains:t}=await hI(i);for(const e of t)try{if(pI(e))return}catch{}Ts(i,"unauthorized-domain")}function pI(i){const t=Ip(),{protocol:e,hostname:r}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===r}if(!dI.test(e))return!1;if(fI.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new zc(3e4,6e4);function j0(){const i=er().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function _I(i){return new Promise((t,e)=>{var r,l,h;function f(){j0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{j0(),e(tr(i,"network-request-failed"))},timeout:gI.get()})}if(!((l=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=er().gapi)===null||h===void 0)&&h.load)f();else{const _=lR("iframefcb");return er()[_]=()=>{gapi.load?f():e(tr(i,"network-request-failed"))},tb(`${oR()}?onload=${_}`).catch(y=>e(y))}}).catch(t=>{throw mf=null,t})}let mf=null;function yI(i){return mf=mf||_I(i),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new zc(5e3,15e3),TI="__/auth/iframe",EI="emulator/auth/iframe",bI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SI(i){const t=i.config;zt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?lg(t,EI):`https://${i.config.authDomain}/${TI}`,r={apiKey:t.apiKey,appName:i.name,v:fu},l=wI.get(i.config.apiHost);l&&(r.eid=l);const h=i._getFrameworks();return h.length&&(r.fw=h.join(",")),`${e}?${Vc(r).slice(1)}`}async function AI(i){const t=await yI(i),e=er().gapi;return zt(e,i,"internal-error"),t.open({where:document.body,url:SI(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bI,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const f=tr(i,"network-request-failed"),_=er().setTimeout(()=>{h(f)},vI.get());function y(){er().clearTimeout(_),l(r)}r.ping(y).then(y,()=>{h(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CI=500,RI=600,II="_blank",OI="http://localhost";class H0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NI(i,t,e,r=CI,l=RI){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let _="";const y=Object.assign(Object.assign({},xI),{width:r.toString(),height:l.toString(),top:h,left:f}),T=Kn().toLowerCase();e&&(_=KE(T)?II:e),GE(T)&&(t=t||OI,y.scrollbars="yes");const S=Object.entries(y).reduce((C,[P,G])=>`${C}${P}=${G},`,"");if($C(T)&&_!=="_self")return PI(t||"",_),new H0(null);const x=window.open(t||"",_,S);zt(x,i,"popup-blocked");try{x.focus()}catch{}return new H0(x)}function PI(i,t){const e=document.createElement("a");e.href=i,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="__/auth/handler",DI="emulator/auth/handler",MI=encodeURIComponent("fac");async function F0(i,t,e,r,l,h){zt(i.config.authDomain,i,"auth-domain-config-required"),zt(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:r,v:fu,eventId:l};if(t instanceof ib){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",Tx(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,x]of Object.entries({}))f[S]=x}if(t instanceof Bc){const S=t.getScopes().filter(x=>x!=="");S.length>0&&(f.scopes=S.join(","))}i.tenantId&&(f.tid=i.tenantId);const _=f;for(const S of Object.keys(_))_[S]===void 0&&delete _[S];const y=await i._getAppCheckToken(),T=y?`#${MI}=${encodeURIComponent(y)}`:"";return`${kI(i)}?${Vc(_).slice(1)}${T}`}function kI({config:i}){return i.emulator?lg(i,DI):`https://${i.authDomain}/${LI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class VI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=oI,this._overrideRedirectResult=sI}async _openPopup(t,e,r,l){var h;Ur((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const f=await F0(t,e,r,Ip(),l);return NI(t,f,dg())}async _openRedirect(t,e,r,l){await this._originValidation(t);const h=await F0(t,e,r,Ip(),l);return BR(h),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:l,promise:h}=this.eventManagers[e];return l?Promise.resolve(l):(Ur(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await AI(t),r=new uI(t);return e.register("authEvent",l=>(zt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(hp,{type:hp},l=>{var h;const f=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[hp];f!==void 0&&e(!!f),Ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=mI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return $E()||ZE()||cg()}}const zI=VI;var q0="@firebase/auth",G0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jI(i){su(new qo("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:f,authDomain:_}=r.options;zt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:_,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(i)},T=new sR(r,l,h,y);return mR(T,e),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),su(new qo("auth-internal",t=>{const e=$o(t.getProvider("auth").getImmediate());return(r=>new UI(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(q0,G0,BI(i)),Ba(q0,G0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=300,FI=RE("authIdTokenMaxAge")||HI;let Z0=null;const qI=i=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>FI)return;const l=e==null?void 0:e.token;Z0!==l&&(Z0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GI(i=DE()){const t=rg(i,"auth");if(t.isInitialized())return t.getImmediate();const e=dR(i,{popupRedirectResolver:zI,persistence:[QR,VR,cb]}),r=RE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const f=qI(h.toString());PR(e,f,()=>f(e.currentUser)),NR(e,_=>f(_))}}const l=xE("auth");return l&&pR(e,`http://${l}`),e}function ZI(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}rR({loadJS(i){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=t,r.onerror=l=>{const h=tr("internal-error");h.customData=l,e(h)},r.type="text/javascript",r.charset="UTF-8",ZI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jI("Browser");var KI="firebase",YI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ba(KI,YI,"app");var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ja,_b;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,N){function D(){}D.prototype=N.prototype,k.D=N.prototype,k.prototype=new D,k.prototype.constructor=k,k.C=function(H,j,q){for(var z=Array(arguments.length-2),te=2;te<arguments.length;te++)z[te-2]=arguments[te];return N.prototype[j].apply(H,z)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,N,D){D||(D=0);var H=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)H[j]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(j=0;16>j;++j)H[j]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=k.g[0],D=k.g[1],j=k.g[2];var q=k.g[3],z=N+(q^D&(j^q))+H[0]+3614090360&4294967295;N=D+(z<<7&4294967295|z>>>25),z=q+(j^N&(D^j))+H[1]+3905402710&4294967295,q=N+(z<<12&4294967295|z>>>20),z=j+(D^q&(N^D))+H[2]+606105819&4294967295,j=q+(z<<17&4294967295|z>>>15),z=D+(N^j&(q^N))+H[3]+3250441966&4294967295,D=j+(z<<22&4294967295|z>>>10),z=N+(q^D&(j^q))+H[4]+4118548399&4294967295,N=D+(z<<7&4294967295|z>>>25),z=q+(j^N&(D^j))+H[5]+1200080426&4294967295,q=N+(z<<12&4294967295|z>>>20),z=j+(D^q&(N^D))+H[6]+2821735955&4294967295,j=q+(z<<17&4294967295|z>>>15),z=D+(N^j&(q^N))+H[7]+4249261313&4294967295,D=j+(z<<22&4294967295|z>>>10),z=N+(q^D&(j^q))+H[8]+1770035416&4294967295,N=D+(z<<7&4294967295|z>>>25),z=q+(j^N&(D^j))+H[9]+2336552879&4294967295,q=N+(z<<12&4294967295|z>>>20),z=j+(D^q&(N^D))+H[10]+4294925233&4294967295,j=q+(z<<17&4294967295|z>>>15),z=D+(N^j&(q^N))+H[11]+2304563134&4294967295,D=j+(z<<22&4294967295|z>>>10),z=N+(q^D&(j^q))+H[12]+1804603682&4294967295,N=D+(z<<7&4294967295|z>>>25),z=q+(j^N&(D^j))+H[13]+4254626195&4294967295,q=N+(z<<12&4294967295|z>>>20),z=j+(D^q&(N^D))+H[14]+2792965006&4294967295,j=q+(z<<17&4294967295|z>>>15),z=D+(N^j&(q^N))+H[15]+1236535329&4294967295,D=j+(z<<22&4294967295|z>>>10),z=N+(j^q&(D^j))+H[1]+4129170786&4294967295,N=D+(z<<5&4294967295|z>>>27),z=q+(D^j&(N^D))+H[6]+3225465664&4294967295,q=N+(z<<9&4294967295|z>>>23),z=j+(N^D&(q^N))+H[11]+643717713&4294967295,j=q+(z<<14&4294967295|z>>>18),z=D+(q^N&(j^q))+H[0]+3921069994&4294967295,D=j+(z<<20&4294967295|z>>>12),z=N+(j^q&(D^j))+H[5]+3593408605&4294967295,N=D+(z<<5&4294967295|z>>>27),z=q+(D^j&(N^D))+H[10]+38016083&4294967295,q=N+(z<<9&4294967295|z>>>23),z=j+(N^D&(q^N))+H[15]+3634488961&4294967295,j=q+(z<<14&4294967295|z>>>18),z=D+(q^N&(j^q))+H[4]+3889429448&4294967295,D=j+(z<<20&4294967295|z>>>12),z=N+(j^q&(D^j))+H[9]+568446438&4294967295,N=D+(z<<5&4294967295|z>>>27),z=q+(D^j&(N^D))+H[14]+3275163606&4294967295,q=N+(z<<9&4294967295|z>>>23),z=j+(N^D&(q^N))+H[3]+4107603335&4294967295,j=q+(z<<14&4294967295|z>>>18),z=D+(q^N&(j^q))+H[8]+1163531501&4294967295,D=j+(z<<20&4294967295|z>>>12),z=N+(j^q&(D^j))+H[13]+2850285829&4294967295,N=D+(z<<5&4294967295|z>>>27),z=q+(D^j&(N^D))+H[2]+4243563512&4294967295,q=N+(z<<9&4294967295|z>>>23),z=j+(N^D&(q^N))+H[7]+1735328473&4294967295,j=q+(z<<14&4294967295|z>>>18),z=D+(q^N&(j^q))+H[12]+2368359562&4294967295,D=j+(z<<20&4294967295|z>>>12),z=N+(D^j^q)+H[5]+4294588738&4294967295,N=D+(z<<4&4294967295|z>>>28),z=q+(N^D^j)+H[8]+2272392833&4294967295,q=N+(z<<11&4294967295|z>>>21),z=j+(q^N^D)+H[11]+1839030562&4294967295,j=q+(z<<16&4294967295|z>>>16),z=D+(j^q^N)+H[14]+4259657740&4294967295,D=j+(z<<23&4294967295|z>>>9),z=N+(D^j^q)+H[1]+2763975236&4294967295,N=D+(z<<4&4294967295|z>>>28),z=q+(N^D^j)+H[4]+1272893353&4294967295,q=N+(z<<11&4294967295|z>>>21),z=j+(q^N^D)+H[7]+4139469664&4294967295,j=q+(z<<16&4294967295|z>>>16),z=D+(j^q^N)+H[10]+3200236656&4294967295,D=j+(z<<23&4294967295|z>>>9),z=N+(D^j^q)+H[13]+681279174&4294967295,N=D+(z<<4&4294967295|z>>>28),z=q+(N^D^j)+H[0]+3936430074&4294967295,q=N+(z<<11&4294967295|z>>>21),z=j+(q^N^D)+H[3]+3572445317&4294967295,j=q+(z<<16&4294967295|z>>>16),z=D+(j^q^N)+H[6]+76029189&4294967295,D=j+(z<<23&4294967295|z>>>9),z=N+(D^j^q)+H[9]+3654602809&4294967295,N=D+(z<<4&4294967295|z>>>28),z=q+(N^D^j)+H[12]+3873151461&4294967295,q=N+(z<<11&4294967295|z>>>21),z=j+(q^N^D)+H[15]+530742520&4294967295,j=q+(z<<16&4294967295|z>>>16),z=D+(j^q^N)+H[2]+3299628645&4294967295,D=j+(z<<23&4294967295|z>>>9),z=N+(j^(D|~q))+H[0]+4096336452&4294967295,N=D+(z<<6&4294967295|z>>>26),z=q+(D^(N|~j))+H[7]+1126891415&4294967295,q=N+(z<<10&4294967295|z>>>22),z=j+(N^(q|~D))+H[14]+2878612391&4294967295,j=q+(z<<15&4294967295|z>>>17),z=D+(q^(j|~N))+H[5]+4237533241&4294967295,D=j+(z<<21&4294967295|z>>>11),z=N+(j^(D|~q))+H[12]+1700485571&4294967295,N=D+(z<<6&4294967295|z>>>26),z=q+(D^(N|~j))+H[3]+2399980690&4294967295,q=N+(z<<10&4294967295|z>>>22),z=j+(N^(q|~D))+H[10]+4293915773&4294967295,j=q+(z<<15&4294967295|z>>>17),z=D+(q^(j|~N))+H[1]+2240044497&4294967295,D=j+(z<<21&4294967295|z>>>11),z=N+(j^(D|~q))+H[8]+1873313359&4294967295,N=D+(z<<6&4294967295|z>>>26),z=q+(D^(N|~j))+H[15]+4264355552&4294967295,q=N+(z<<10&4294967295|z>>>22),z=j+(N^(q|~D))+H[6]+2734768916&4294967295,j=q+(z<<15&4294967295|z>>>17),z=D+(q^(j|~N))+H[13]+1309151649&4294967295,D=j+(z<<21&4294967295|z>>>11),z=N+(j^(D|~q))+H[4]+4149444226&4294967295,N=D+(z<<6&4294967295|z>>>26),z=q+(D^(N|~j))+H[11]+3174756917&4294967295,q=N+(z<<10&4294967295|z>>>22),z=j+(N^(q|~D))+H[2]+718787259&4294967295,j=q+(z<<15&4294967295|z>>>17),z=D+(q^(j|~N))+H[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(j+(z<<21&4294967295|z>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+q&4294967295}r.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var D=N-this.blockSize,H=this.B,j=this.h,q=0;q<N;){if(j==0)for(;q<=D;)l(this,k,q),q+=this.blockSize;if(typeof k=="string"){for(;q<N;)if(H[j++]=k.charCodeAt(q++),j==this.blockSize){l(this,H),j=0;break}}else for(;q<N;)if(H[j++]=k[q++],j==this.blockSize){l(this,H),j=0;break}}this.h=j,this.o+=N},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var D=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=D&255,D/=256;for(this.u(k),k=Array(16),N=D=0;4>N;++N)for(var H=0;32>H;H+=8)k[D++]=this.g[N]>>>H&255;return k};function h(k,N){var D=_;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=N(k)}function f(k,N){this.h=N;for(var D=[],H=!0,j=k.length-1;0<=j;j--){var q=k[j]|0;H&&q==N||(D[j]=q,H=!1)}this.g=D}var _={};function y(k){return-128<=k&&128>k?h(k,function(N){return new f([N|0],0>N?-1:0)}):new f([k|0],0>k?-1:0)}function T(k){if(isNaN(k)||!isFinite(k))return x;if(0>k)return K(T(-k));for(var N=[],D=1,H=0;k>=D;H++)N[H]=k/D|0,D*=4294967296;return new f(N,0)}function S(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return K(S(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=T(Math.pow(N,8)),H=x,j=0;j<k.length;j+=8){var q=Math.min(8,k.length-j),z=parseInt(k.substring(j,j+q),N);8>q?(q=T(Math.pow(N,q)),H=H.j(q).add(T(z))):(H=H.j(D),H=H.add(T(z)))}return H}var x=y(0),C=y(1),P=y(16777216);i=f.prototype,i.m=function(){if(Z(this))return-K(this).m();for(var k=0,N=1,D=0;D<this.g.length;D++){var H=this.i(D);k+=(0<=H?H:4294967296+H)*N,N*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(G(this))return"0";if(Z(this))return"-"+K(this).toString(k);for(var N=T(Math.pow(k,6)),D=this,H="";;){var j=wt(D,N).g;D=ht(D,j.j(N));var q=((0<D.g.length?D.g[0]:D.h)>>>0).toString(k);if(D=j,G(D))return q+H;for(;6>q.length;)q="0"+q;H=q+H}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function G(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function Z(k){return k.h==-1}i.l=function(k){return k=ht(this,k),Z(k)?-1:G(k)?0:1};function K(k){for(var N=k.g.length,D=[],H=0;H<N;H++)D[H]=~k.g[H];return new f(D,~k.h).add(C)}i.abs=function(){return Z(this)?K(this):this},i.add=function(k){for(var N=Math.max(this.g.length,k.g.length),D=[],H=0,j=0;j<=N;j++){var q=H+(this.i(j)&65535)+(k.i(j)&65535),z=(q>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);H=z>>>16,q&=65535,z&=65535,D[j]=z<<16|q}return new f(D,D[D.length-1]&-2147483648?-1:0)};function ht(k,N){return k.add(K(N))}i.j=function(k){if(G(this)||G(k))return x;if(Z(this))return Z(k)?K(this).j(K(k)):K(K(this).j(k));if(Z(k))return K(this.j(K(k)));if(0>this.l(P)&&0>k.l(P))return T(this.m()*k.m());for(var N=this.g.length+k.g.length,D=[],H=0;H<2*N;H++)D[H]=0;for(H=0;H<this.g.length;H++)for(var j=0;j<k.g.length;j++){var q=this.i(H)>>>16,z=this.i(H)&65535,te=k.i(j)>>>16,be=k.i(j)&65535;D[2*H+2*j]+=z*be,pt(D,2*H+2*j),D[2*H+2*j+1]+=q*be,pt(D,2*H+2*j+1),D[2*H+2*j+1]+=z*te,pt(D,2*H+2*j+1),D[2*H+2*j+2]+=q*te,pt(D,2*H+2*j+2)}for(H=0;H<N;H++)D[H]=D[2*H+1]<<16|D[2*H];for(H=N;H<2*N;H++)D[H]=0;return new f(D,0)};function pt(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function _t(k,N){this.g=k,this.h=N}function wt(k,N){if(G(N))throw Error("division by zero");if(G(k))return new _t(x,x);if(Z(k))return N=wt(K(k),N),new _t(K(N.g),K(N.h));if(Z(N))return N=wt(k,K(N)),new _t(K(N.g),N.h);if(30<k.g.length){if(Z(k)||Z(N))throw Error("slowDivide_ only works with positive integers.");for(var D=C,H=N;0>=H.l(k);)D=gt(D),H=gt(H);var j=xt(D,1),q=xt(H,1);for(H=xt(H,2),D=xt(D,2);!G(H);){var z=q.add(H);0>=z.l(k)&&(j=j.add(D),q=z),H=xt(H,1),D=xt(D,1)}return N=ht(k,j.j(N)),new _t(j,N)}for(j=x;0<=k.l(N);){for(D=Math.max(1,Math.floor(k.m()/N.m())),H=Math.ceil(Math.log(D)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),q=T(D),z=q.j(N);Z(z)||0<z.l(k);)D-=H,q=T(D),z=q.j(N);G(q)&&(q=C),j=j.add(q),k=ht(k,z)}return new _t(j,k)}i.A=function(k){return wt(this,k).h},i.and=function(k){for(var N=Math.max(this.g.length,k.g.length),D=[],H=0;H<N;H++)D[H]=this.i(H)&k.i(H);return new f(D,this.h&k.h)},i.or=function(k){for(var N=Math.max(this.g.length,k.g.length),D=[],H=0;H<N;H++)D[H]=this.i(H)|k.i(H);return new f(D,this.h|k.h)},i.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),D=[],H=0;H<N;H++)D[H]=this.i(H)^k.i(H);return new f(D,this.h^k.h)};function gt(k){for(var N=k.g.length+1,D=[],H=0;H<N;H++)D[H]=k.i(H)<<1|k.i(H-1)>>>31;return new f(D,k.h)}function xt(k,N){var D=N>>5;N%=32;for(var H=k.g.length-D,j=[],q=0;q<H;q++)j[q]=0<N?k.i(q+D)>>>N|k.i(q+D+1)<<32-N:k.i(q+D);return new f(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_b=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=T,f.fromString=S,ja=f}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yb,uc,vb,pf,Lp,Tb,Eb,bb;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,E,A){return d==Array.prototype||d==Object.prototype||(d[E]=A.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var E=0;E<d.length;++E){var A=d[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=e(this);function l(d,E){if(E)t:{var A=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var X=d[O];if(!(X in A))break t;A=A[X]}d=d[d.length-1],O=A[d],E=E(O),E!=O&&E!=null&&t(A,d,{configurable:!0,writable:!0,value:E})}}function h(d,E){d instanceof String&&(d+="");var A=0,O=!1,X={next:function(){if(!O&&A<d.length){var nt=A++;return{value:E(nt,d[nt]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}l("Array.prototype.values",function(d){return d||function(){return h(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},_=this||self;function y(d){var E=typeof d;return E=E!="object"?E:d?Array.isArray(d)?"array":E:"null",E=="array"||E=="object"&&typeof d.length=="number"}function T(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function S(d,E,A){return d.call.apply(d.bind,arguments)}function x(d,E,A){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),d.apply(E,X)}}return function(){return d.apply(E,arguments)}}function C(d,E,A){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:x,C.apply(null,arguments)}function P(d,E){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function G(d,E){function A(){}A.prototype=E.prototype,d.aa=E.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(O,X,nt){for(var vt=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)vt[fe-2]=arguments[fe];return E.prototype[X].apply(O,vt)}}function Z(d){const E=d.length;if(0<E){const A=Array(E);for(let O=0;O<E;O++)A[O]=d[O];return A}return[]}function K(d,E){for(let A=1;A<arguments.length;A++){const O=arguments[A];if(y(O)){const X=d.length||0,nt=O.length||0;d.length=X+nt;for(let vt=0;vt<nt;vt++)d[X+vt]=O[vt]}else d.push(O)}}class ht{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function pt(d){return/^[\s\xa0]*$/.test(d)}function _t(){var d=_.navigator;return d&&(d=d.userAgent)?d:""}function wt(d){return wt[" "](d),d}wt[" "]=function(){};var gt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function xt(d,E,A){for(const O in d)E.call(A,d[O],O,d)}function k(d,E){for(const A in d)E.call(void 0,d[A],A,d)}function N(d){const E={};for(const A in d)E[A]=d[A];return E}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(d,E){let A,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(A in O)d[A]=O[A];for(let nt=0;nt<D.length;nt++)A=D[nt],Object.prototype.hasOwnProperty.call(O,A)&&(d[A]=O[A])}}function j(d){var E=1;d=d.split(":");const A=[];for(;0<E&&d.length;)A.push(d.shift()),E--;return d.length&&A.push(d.join(":")),A}function q(d){_.setTimeout(()=>{throw d},0)}function z(){var d=Zt;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,A){const O=be.get();O.set(E,A),this.h?this.h.next=O:this.g=O,this.h=O}}var be=new ht(()=>new et,d=>d.reset());class et{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,ft=!1,Zt=new te,Et=()=>{const d=_.Promise.resolve(void 0);yt=()=>{d.then(B)}};var B=()=>{for(var d;d=z();){try{d.h.call(d.g)}catch(A){q(A)}var E=be;E.j(d),100>E.h&&(E.h++,d.next=E.g,E.g=d)}ft=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var Tt=(function(){if(!_.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};_.addEventListener("test",A,E),_.removeEventListener("test",A,E)}catch{}return d})();function St(d,E){if(mt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget){if(gt){t:{try{wt(E.nodeName);var X=!0;break t}catch{}X=!1}X||(E=null)}}else A=="mouseover"?E=d.fromElement:A=="mouseout"&&(E=d.toElement);this.relatedTarget=E,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:At[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&St.aa.h.call(this)}}G(St,mt);var At={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ne(d,E,A,O,X){this.listener=d,this.proxy=null,this.src=E,this.type=A,this.capture=!!O,this.ha=X,this.key=++Oe,this.da=this.fa=!1}function ii(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ei(d){this.src=d,this.g={},this.h=0}Ei.prototype.add=function(d,E,A,O,X){var nt=d.toString();d=this.g[nt],d||(d=this.g[nt]=[],this.h++);var vt=bs(d,E,O,X);return-1<vt?(E=d[vt],A||(E.fa=!1)):(E=new Ne(E,this.src,nt,!!O,X),E.fa=A,d.push(E)),E};function bi(d,E){var A=E.type;if(A in d.g){var O=d.g[A],X=Array.prototype.indexOf.call(O,E,void 0),nt;(nt=0<=X)&&Array.prototype.splice.call(O,X,1),nt&&(ii(E),d.g[A].length==0&&(delete d.g[A],d.h--))}}function bs(d,E,A,O){for(var X=0;X<d.length;++X){var nt=d[X];if(!nt.da&&nt.listener==E&&nt.capture==!!A&&nt.ha==O)return X}return-1}var wi="closure_lm_"+(1e6*Math.random()|0),ws={};function or(d,E,A,O,X){if(Array.isArray(E)){for(var nt=0;nt<E.length;nt++)or(d,E[nt],A,O,X);return null}return A=sl(A),d&&d[jt]?d.K(E,A,T(O)?!!O.capture:!1,X):eo(d,E,A,!1,O,X)}function eo(d,E,A,O,X,nt){if(!E)throw Error("Invalid event type");var vt=T(X)?!!X.capture:!!X,fe=qr(d);if(fe||(d[wi]=fe=new Ei(d)),A=fe.add(E,A,O,vt,nt),A.proxy)return A;if(O=lr(),A.proxy=O,O.src=d,O.listener=A,d.addEventListener)Tt||(X=vt),X===void 0&&(X=!1),d.addEventListener(E.toString(),O,X);else if(d.attachEvent)d.attachEvent(As(E.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return A}function lr(){function d(A){return E.call(d.src,d.listener,A)}const E=il;return d}function Fr(d,E,A,O,X){if(Array.isArray(E))for(var nt=0;nt<E.length;nt++)Fr(d,E[nt],A,O,X);else O=T(O)?!!O.capture:!!O,A=sl(A),d&&d[jt]?(d=d.i,E=String(E).toString(),E in d.g&&(nt=d.g[E],A=bs(nt,A,O,X),-1<A&&(ii(nt[A]),Array.prototype.splice.call(nt,A,1),nt.length==0&&(delete d.g[E],d.h--)))):d&&(d=qr(d))&&(E=d.g[E.toString()],d=-1,E&&(d=bs(E,A,O,X)),(A=-1<d?E[d]:null)&&Ss(A))}function Ss(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[jt])bi(E.i,d);else{var A=d.type,O=d.proxy;E.removeEventListener?E.removeEventListener(A,O,d.capture):E.detachEvent?E.detachEvent(As(A),O):E.addListener&&E.removeListener&&E.removeListener(O),(A=qr(E))?(bi(A,d),A.h==0&&(A.src=null,E[wi]=null)):ii(d)}}}function As(d){return d in ws?ws[d]:ws[d]="on"+d}function il(d,E){if(d.da)d=!0;else{E=new St(E,this);var A=d.listener,O=d.ha||d.src;d.fa&&Ss(d),d=A.call(O,E)}return d}function qr(d){return d=d[wi],d instanceof Ei?d:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function sl(d){return typeof d=="function"?d:(d[fn]||(d[fn]=function(E){return d.handleEvent(E)}),d[fn])}function Ue(){st.call(this),this.i=new Ei(this),this.M=this,this.F=null}G(Ue,st),Ue.prototype[jt]=!0,Ue.prototype.removeEventListener=function(d,E,A,O){Fr(this,d,E,A,O)};function Qe(d,E){var A,O=d.F;if(O)for(A=[];O;O=O.F)A.push(O);if(d=d.M,O=E.type||E,typeof E=="string")E=new mt(E,d);else if(E instanceof mt)E.target=E.target||d;else{var X=E;E=new mt(O,d),H(E,X)}if(X=!0,A)for(var nt=A.length-1;0<=nt;nt--){var vt=E.g=A[nt];X=zi(vt,O,!0,E)&&X}if(vt=E.g=d,X=zi(vt,O,!0,E)&&X,X=zi(vt,O,!1,E)&&X,A)for(nt=0;nt<A.length;nt++)vt=E.g=A[nt],X=zi(vt,O,!1,E)&&X}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var d=this.i,E;for(E in d.g){for(var A=d.g[E],O=0;O<A.length;O++)ii(A[O]);delete d.g[E],d.h--}}this.F=null},Ue.prototype.K=function(d,E,A,O){return this.i.add(String(d),E,!1,A,O)},Ue.prototype.L=function(d,E,A,O){return this.i.add(String(d),E,!0,A,O)};function zi(d,E,A,O){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();for(var X=!0,nt=0;nt<E.length;++nt){var vt=E[nt];if(vt&&!vt.da&&vt.capture==A){var fe=vt.listener,He=vt.ha||vt.src;vt.fa&&bi(d.i,vt),X=fe.call(He,O)!==!1&&X}}return X&&!O.defaultPrevented}function rl(d,E,A){if(typeof d=="function")A&&(d=C(d,A));else if(d&&typeof d.handleEvent=="function")d=C(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:_.setTimeout(d,E||0)}function Gr(d){d.g=rl(()=>{d.g=null,d.i&&(d.i=!1,Gr(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class al extends st{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Gr(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(d){st.call(this),this.h=d,this.g={}}G(ur,st);var ts=[];function en(d){xt(d.g,function(E,A){this.g.hasOwnProperty(A)&&Ss(E)},d),d.g={}}ur.prototype.N=function(){ur.aa.N.call(this),en(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=_.JSON.stringify,Rn=_.JSON.parse,cr=class{stringify(d){return _.JSON.stringify(d,void 0)}parse(d){return _.JSON.parse(d,void 0)}};function no(){}no.prototype.h=null;function ol(d){return d.h||(d.h=d.i())}function xs(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){mt.call(this,"d")}G(es,mt);function Ai(){mt.call(this,"c")}G(Ai,mt);var si={},Cs=null;function Zr(){return Cs=Cs||new Ue}si.La="serverreachability";function io(d){mt.call(this,si.La,d)}G(io,mt);function ns(d){const E=Zr();Qe(E,new io(E))}si.STAT_EVENT="statevent";function Ui(d,E){mt.call(this,si.STAT_EVENT,d),this.stat=E}G(Ui,mt);function dn(d){const E=Zr();Qe(E,new Ui(E,d))}si.Ma="timingevent";function so(d,E){mt.call(this,si.Ma,d),this.size=E}G(so,mt);function Rs(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){d()},E)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function zn(d,E,A,O,X,nt){d.info(function(){if(d.g)if(nt)for(var vt="",fe=nt.split("&"),He=0;He<fe.length;He++){var Qt=fe[He].split("=");if(1<Qt.length){var ye=Qt[0];Qt=Qt[1];var Me=ye.split("_");vt=2<=Me.length&&Me[1]=="type"?vt+(ye+"="+Qt+"&"):vt+(ye+"=redacted&")}}else vt=null;else vt=nt;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+E+`
`+A+`
`+vt})}function Ot(d,E,A,O,X,nt,vt){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+E+`
`+A+`
`+nt+" "+vt})}function Bi(d,E,A,O){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+xi(d,A)+(O?" "+O:"")})}function ro(d,E){d.info(function(){return"TIMEOUT: "+E})}Is.prototype.info=function(){};function xi(d,E){if(!d.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var O=A[d];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var nt=X[0];if(nt!="noop"&&nt!="stop"&&nt!="close")for(var vt=1;vt<X.length;vt++)X[vt]=""}}}}return Qn(A)}catch{return E}}var De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ci;function Xn(){}G(Xn,no),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Ci=new Xn;function Ri(d,E,A,O){this.j=d,this.i=E,this.l=A,this.R=O||1,this.U=new ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ll}function ll(){this.i=null,this.g="",this.h=!1}var ao={},is={};function hr(d,E,A){d.L=1,d.v=Wn(le(E)),d.m=A,d.P=!0,ji(d,null)}function ji(d,E){d.F=Date.now(),Ii(d),d.A=le(d.v);var A=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),os(A.i,"t",O),d.C=0,A=d.j.J,d.h=new ll,d.g=fl(d.j,A?E:null,!d.m),0<d.O&&(d.M=new al(C(d.Y,d,d.g),d.O)),E=d.U,A=d.g,O=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(ts[0]=X.toString()),X=ts);for(var nt=0;nt<X.length;nt++){var vt=or(A,X[nt],O||E.handleEvent,!1,E.h||E);if(!vt)break;E.g[vt.key]=vt}E=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,E)):(d.u="GET",d.g.ea(d.A,d.u,null,E)),ns(),zn(d.i,d.u,d.A,d.l,d.R,d.m)}Ri.prototype.ca=function(d){d=d.target;const E=this.M;E&&We(d)==3?E.j():this.Y(d)},Ri.prototype.Y=function(d){try{if(d==this.g)t:{const Me=We(this.g);var E=this.g.Ba();const js=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||Vs(this.g)))){this.J||Me!=4||E==7||(E==8||0>=js?ns(3):ns(2)),Kr(this);var A=this.g.Z();this.X=A;e:if(ss(this)){var O=Vs(this.g);d="";var X=O.length,nt=We(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Os(this);var vt="";break e}this.h.i=new _.TextDecoder}for(E=0;E<X;E++)this.h.h=!0,d+=this.h.i.decode(O[E],{stream:!(nt&&E==X-1)});O.length=0,this.h.g+=d,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=A==200,Ot(this.i,this.u,this.A,this.l,this.R,Me,A),this.o){if(this.T&&!this.K){e:{if(this.g){var fe,He=this.g;if((fe=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(fe)){var Qt=fe;break e}}Qt=null}if(A=Qt)Bi(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ri(this,A);else{this.o=!1,this.s=3,dn(12),In(this),Os(this);break t}}if(this.P){A=!0;let Ve;for(;!this.J&&this.C<vt.length;)if(Ve=Hi(this,vt),Ve==is){Me==4&&(this.s=4,dn(14),A=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ve==ao){this.s=4,dn(15),Bi(this.i,this.l,vt,"[Invalid Chunk]"),A=!1;break}else Bi(this.i,this.l,Ve,null),ri(this,Ve);if(ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||vt.length!=0||this.h.h||(this.s=1,dn(16),A=!1),this.o=this.o&&A,!A)Bi(this.i,this.l,vt,"[Invalid Chunked Response]"),In(this),Os(this);else if(0<vt.length&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.ba&&!ye.M&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),ea(ye),ye.M=!0,dn(11))}}else Bi(this.i,this.l,vt,null),ri(this,vt);Me==4&&In(this),this.o&&!this.J&&(Me==4?ho(this.j,this):(this.o=!1,Ii(this)))}else ul(this.g),A==400&&0<vt.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),In(this),Os(this)}}}catch{}finally{}};function ss(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Hi(d,E){var A=d.C,O=E.indexOf(`
`,A);return O==-1?is:(A=Number(E.substring(A,O)),isNaN(A)?ao:(O+=1,O+A>E.length?is:(E=E.slice(O,O+A),d.C=O+A,E)))}Ri.prototype.cancel=function(){this.J=!0,In(this)};function Ii(d){d.S=Date.now()+d.I,Be(d,d.I)}function Be(d,E){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Rs(C(d.ba,d),E)}function Kr(d){d.B&&(_.clearTimeout(d.B),d.B=null)}Ri.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ro(this.i,this.A),this.L!=2&&(ns(),dn(17)),In(this),this.s=2,Os(this)):Be(this,this.S-d)};function Os(d){d.j.G==0||d.J||ho(d.j,d)}function In(d){Kr(d);var E=d.M;E&&typeof E.ma=="function"&&E.ma(),d.M=null,en(d.U),d.g&&(E=d.g,d.g=null,E.abort(),E.ma())}function ri(d,E){try{var A=d.j;if(A.G!=0&&(A.g==d||Yt(A.h,d))){if(!d.K&&Yt(A.h,d)&&A.G==3){try{var O=A.Da.g.parse(E)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)Bs(A),zs(A);else break t;ta(A),dn(18)}}else A.za=X[1],0<A.za-A.T&&37500>X[2]&&A.F&&A.v==0&&!A.C&&(A.C=Rs(C(A.Za,A),6e3));if(1>=Ns(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else hs(A,11)}else if((d.K||A.g==d)&&Bs(A),!pt(E))for(X=A.Da.g.parse(E),E=0;E<X.length;E++){let Qt=X[E];if(A.T=Qt[0],Qt=Qt[1],A.G==2)if(Qt[0]=="c"){A.K=Qt[1],A.ia=Qt[2];const ye=Qt[3];ye!=null&&(A.la=ye,A.j.info("VER="+A.la));const Me=Qt[4];Me!=null&&(A.Aa=Me,A.j.info("SVER="+A.Aa));const js=Qt[5];js!=null&&typeof js=="number"&&0<js&&(O=1.5*js,A.L=O,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const Ve=d.g;if(Ve){const vr=Ve.g?Ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var nt=O.h;nt.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(ce(nt,nt.h),nt.h=null))}if(O.D){const Bn=Ve.g?Ve.g.getResponseHeader("X-HTTP-Session-Id"):null;Bn&&(O.ya=Bn,kt(O.I,O.D,Bn))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),O=A;var vt=d;if(O.qa=ia(O,O.J?O.ia:null,O.W),vt.K){On(O.h,vt);var fe=vt,He=O.L;He&&(fe.I=He),fe.B&&(Kr(fe),Ii(fe)),O.g=vt}else Ni(O);0<A.i.length&&Us(A)}else Qt[0]!="stop"&&Qt[0]!="close"||hs(A,7);else A.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?hs(A,7):$r(A):Qt[0]!="noop"&&A.l&&A.l.ta(Qt),A.v=0)}}ns(4)}catch{}}var fr=class{constructor(d,E){this.g=d,this.map=E}};function Yr(d){this.l=d||10,_.PerformanceNavigationTiming?(d=_.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ns(d){return d.h?1:d.g?d.g.size:0}function Yt(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function ce(d,E){d.g?d.g.add(E):d.h=E}function On(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}Yr.prototype.cancel=function(){if(this.i=Ge(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ge(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const A of d.g.values())E=E.concat(A.D);return E}return Z(d.i)}function rs(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(y(d)){for(var E=[],A=d.length,O=0;O<A;O++)E.push(d[O]);return E}E=[],A=0;for(O in d)E[A++]=d[O];return E}function oo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(y(d)||typeof d=="string"){var E=[];d=d.length;for(var A=0;A<d;A++)E.push(A);return E}E=[],A=0;for(const O in d)E[A++]=O;return E}}}function Bt(d,E){if(d.forEach&&typeof d.forEach=="function")d.forEach(E,void 0);else if(y(d)||typeof d=="string")Array.prototype.forEach.call(d,E,void 0);else for(var A=oo(d),O=rs(d),X=O.length,nt=0;nt<X;nt++)E.call(void 0,O[nt],A&&A[nt],d)}var Ce=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(d,E){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var O=d[A].indexOf("="),X=null;if(0<=O){var nt=d[A].substring(0,O);X=d[A].substring(O+1)}else nt=d[A];E(nt,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ai(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ai){this.h=d.h,Ls(this,d.j),this.o=d.o,this.g=d.g,Fi(this,d.s),this.l=d.l;var E=d.i,A=new ui;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),oi(this,A),this.m=d.m}else d&&(E=String(d).match(Ce))?(this.h=!1,Ls(this,E[1]||"",!0),this.o=li(E[2]||""),this.g=li(E[3]||"",!0),Fi(this,E[4]),this.l=li(E[5]||"",!0),oi(this,E[6]||"",!0),this.m=li(E[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}ai.prototype.toString=function(){var d=[],E=this.j;E&&d.push(vn(E,as,!0),":");var A=this.g;return(A||E=="file")&&(d.push("//"),(E=this.o)&&d.push(vn(E,as,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(vn(A,A.charAt(0)=="/"?dr:Xr,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",vn(A,uo)),d.join("")};function le(d){return new ai(d)}function Ls(d,E,A){d.j=A?li(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function Fi(d,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);d.s=E}else d.s=null}function oi(d,E,A){E instanceof ui?(d.i=E,$n(d.i,d.h)):(A||(E=vn(E,Wr)),d.i=new ui(E,d.h))}function kt(d,E,A){d.i.set(E,A)}function Wn(d){return kt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function li(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vn(d,E,A){return typeof d=="string"?(d=encodeURI(d).replace(E,lo),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function lo(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var as=/[#\/\?@]/g,Xr=/[#\?:]/g,dr=/[#\?]/g,Wr=/[#\?@]/g,uo=/#/g;function ui(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function je(d){d.g||(d.g=new Map,d.h=0,d.i&&Ps(d.i,function(E,A){d.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}i=ui.prototype,i.add=function(d,E){je(this),this.i=null,d=Lt(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(E),this.h+=1,this};function mr(d,E){je(d),E=Lt(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function Ds(d,E){return je(d),E=Lt(d,E),d.g.has(E)}i.forEach=function(d,E){je(this),this.g.forEach(function(A,O){A.forEach(function(X){d.call(E,X,O,this)},this)},this)},i.na=function(){je(this);const d=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let O=0;O<E.length;O++){const X=d[O];for(let nt=0;nt<X.length;nt++)A.push(E[O])}return A},i.V=function(d){je(this);let E=[];if(typeof d=="string")Ds(this,d)&&(E=E.concat(this.g.get(Lt(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)E=E.concat(d[A])}return E},i.set=function(d,E){return je(this),this.i=null,d=Lt(this,d),Ds(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},i.get=function(d,E){return d?(d=this.V(d),0<d.length?String(d[0]):E):E};function os(d,E,A){mr(d,E),0<A.length&&(d.i=null,d.g.set(Lt(d,E),Z(A)),d.h+=A.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var O=E[A];const nt=encodeURIComponent(String(O)),vt=this.V(O);for(O=0;O<vt.length;O++){var X=nt;vt[O]!==""&&(X+="="+encodeURIComponent(String(vt[O]))),d.push(X)}}return this.i=d.join("&")};function Lt(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function $n(d,E){E&&!d.j&&(je(d),d.i=null,d.g.forEach(function(A,O){var X=O.toLowerCase();O!=X&&(mr(this,O),os(this,X,A))},d)),d.j=E}function he(d,E){const A=new Is;if(_.Image){const O=new Image;O.onload=P(Tn,A,"TestLoadImage: loaded",!0,E,O),O.onerror=P(Tn,A,"TestLoadImage: error",!1,E,O),O.onabort=P(Tn,A,"TestLoadImage: abort",!1,E,O),O.ontimeout=P(Tn,A,"TestLoadImage: timeout",!1,E,O),_.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else E(!1)}function co(d,E){const A=new Is,O=new AbortController,X=setTimeout(()=>{O.abort(),Tn(A,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:O.signal}).then(nt=>{clearTimeout(X),nt.ok?Tn(A,"TestPingServer: ok",!0,E):Tn(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),Tn(A,"TestPingServer: error",!1,E)})}function Tn(d,E,A,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(A)}catch{}}function Jn(){this.g=new cr}function pr(d,E,A){const O=A||"";try{Bt(d,function(X,nt){let vt=X;T(X)&&(vt=Qn(X)),E.push(O+nt+"="+encodeURIComponent(vt))})}catch(X){throw E.push(O+"type="+encodeURIComponent("_badmap")),X}}function En(d){this.l=d.Ub||null,this.j=d.eb||!1}G(En,no),En.prototype.g=function(){return new Nn(this.l,this.j)},En.prototype.i=(function(d){return function(){return d}})({});function Nn(d,E){Ue.call(this),this.D=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(Nn,Ue),i=Nn.prototype,i.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=E,this.readyState=1,Un(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(E.body=d),(this.D||_).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,we(this)),this.readyState=0},i.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qi(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function qi(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}i.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?we(this):Un(this),this.readyState==3&&qi(this)}},i.Ra=function(d){this.g&&(this.response=this.responseText=d,we(this))},i.Qa=function(d){this.g&&(this.response=d,we(this))},i.ga=function(){this.g&&we(this)};function we(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Un(d)}i.setRequestHeader=function(d,E){this.u.append(d,E)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=E.next();return d.join(`\r
`)};function Un(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Nn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ms(d){let E="";return xt(d,function(A,O){E+=O,E+=":",E+=A,E+=`\r
`}),E}function ls(d,E,A){t:{for(O in A){var O=!1;break t}O=!0}O||(A=Ms(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):kt(d,E,A))}function Re(d){Ue.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Re,Ue);var mn=/^https?$/i,Oi=["POST","PUT"];i=Re.prototype,i.Ha=function(d){this.J=d},i.ea=function(d,E,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ci.g(),this.v=this.o?ol(this.o):ol(Ci),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(nt){gr(this,nt);return}if(d=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)A.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const nt of O.keys())A.set(nt,O.get(nt));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(A.keys()).find(nt=>nt.toLowerCase()=="content-type"),X=_.FormData&&d instanceof _.FormData,!(0<=Array.prototype.indexOf.call(Oi,E,void 0))||O||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,vt]of A)this.g.setRequestHeader(nt,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bn(this),this.u=!0,this.g.send(d),this.u=!1}catch(nt){gr(this,nt)}};function gr(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.m=5,us(d),ks(d)}function us(d){d.A||(d.A=!0,Qe(d,"complete"),Qe(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Qe(this,"complete"),Qe(this,"abort"),ks(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ks(this,!0)),Re.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},i.bb=function(){$t(this)};function $t(d){if(d.h&&typeof f<"u"&&(!d.v[1]||We(d)!=4||d.Z()!=2)){if(d.u&&We(d)==4)rl(d.Ea,0,d);else if(Qe(d,"readystatechange"),We(d)==4){d.h=!1;try{const vt=d.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var A;if(!(A=E)){var O;if(O=vt===0){var X=String(d.D).match(Ce)[1]||null;!X&&_.self&&_.self.location&&(X=_.self.location.protocol.slice(0,-1)),O=!mn.test(X?X.toLowerCase():"")}A=O}if(A)Qe(d,"complete"),Qe(d,"success");else{d.m=6;try{var nt=2<We(d)?d.g.statusText:""}catch{nt=""}d.l=nt+" ["+d.Z()+"]",us(d)}}finally{ks(d)}}}}function ks(d,E){if(d.g){bn(d);const A=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,E||Qe(d,"ready");try{A.onreadystatechange=O}catch{}}}function bn(d){d.I&&(_.clearTimeout(d.I),d.I=null)}i.isActive=function(){return!!this.g};function We(d){return d.g?d.g.readyState:0}i.Z=function(){try{return 2<We(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),Rn(E)}};function Vs(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ul(d){const E={};d=(d.g&&2<=We(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(pt(d[O]))continue;var A=j(d[O]);const X=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const nt=E[X]||[];E[X]=nt,nt.push(A)}k(E,function(O){return O.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(d,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||E}function cl(d){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,d),this.cb=cs("retryDelaySeedMs",1e4,d),this.Wa=cs("forwardChannelMaxRetries",2,d),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Yr(d&&d.concurrentRequestLimit),this.Da=new Jn,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=cl.prototype,i.la=8,i.G=1,i.connect=function(d,E,A,O){dn(0),this.W=d,this.H=E||{},A&&O!==void 0&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.I=ia(this,null,this.W),Us(this)};function $r(d){if(hl(d),d.G==3){var E=d.U++,A=le(d.I);if(kt(A,"SID",d.K),kt(A,"RID",E),kt(A,"TYPE","terminate"),_r(d,A),E=new Ri(d,d.j,E),E.L=2,E.v=Wn(le(A)),A=!1,_.navigator&&_.navigator.sendBeacon)try{A=_.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&_.Image&&(new Image().src=E.v,A=!0),A||(E.g=fl(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Ii(E)}mo(d)}function zs(d){d.g&&(ea(d),d.g.cancel(),d.g=null)}function hl(d){zs(d),d.u&&(_.clearTimeout(d.u),d.u=null),Bs(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&_.clearTimeout(d.s),d.s=null)}function Us(d){if(!Qr(d.h)&&!d.s){d.s=!0;var E=d.Ga;yt||Et(),ft||(yt(),ft=!0),Zt.add(E,d),d.B=0}}function vu(d,E){return Ns(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=E.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Rs(C(d.Ga,d,E),fo(d,d.B)),d.B++,!0)}i.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new Ri(this,this.j,d);let nt=this.o;if(this.S&&(nt?(nt=N(nt),H(nt,this.S)):nt=this.S),this.m!==null||this.O||(X.H=nt,nt=null),this.P)t:{for(var E=0,A=0;A<this.i.length;A++){e:{var O=this.i[A];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(E+=O,4096<E){E=A;break t}if(E===4096||A===this.i.length-1){E=A+1;break t}}E=1e3}else E=1e3;E=Jr(this,X,E),A=le(this.I),kt(A,"RID",d),kt(A,"CVER",22),this.D&&kt(A,"X-HTTP-Session-Id",this.D),_r(this,A),nt&&(this.O?E="headers="+encodeURIComponent(String(Ms(nt)))+"&"+E:this.m&&ls(A,this.m,nt)),ce(this.h,X),this.Ua&&kt(A,"TYPE","init"),this.P?(kt(A,"$req",E),kt(A,"SID","null"),X.T=!0,hr(X,A,null)):hr(X,A,E),this.G=2}}else this.G==3&&(d?ti(this,d):this.i.length==0||Qr(this.h)||ti(this))};function ti(d,E){var A;E?A=E.l:A=d.U++;const O=le(d.I);kt(O,"SID",d.K),kt(O,"RID",A),kt(O,"AID",d.T),_r(d,O),d.m&&d.o&&ls(O,d.m,d.o),A=new Ri(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),E&&(d.i=E.D.concat(d.i)),E=Jr(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ce(d.h,A),hr(A,O,E)}function _r(d,E){d.H&&xt(d.H,function(A,O){kt(E,O,A)}),d.l&&Bt({},function(A,O){kt(E,O,A)})}function Jr(d,E,A){A=Math.min(d.i.length,A);var O=d.l?C(d.l.Na,d.l,d):null;t:{var X=d.i;let nt=-1;for(;;){const vt=["count="+A];nt==-1?0<A?(nt=X[0].g,vt.push("ofs="+nt)):nt=0:vt.push("ofs="+nt);let fe=!0;for(let He=0;He<A;He++){let Qt=X[He].g;const ye=X[He].map;if(Qt-=nt,0>Qt)nt=Math.max(0,X[He].g-100),fe=!1;else try{pr(ye,vt,"req"+Qt+"_")}catch{O&&O(ye)}}if(fe){O=vt.join("&");break t}}}return d=d.i.splice(0,A),E.D=d,O}function Ni(d){if(!d.g&&!d.u){d.Y=1;var E=d.Fa;yt||Et(),ft||(yt(),ft=!0),Zt.add(E,d),d.v=0}}function ta(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Rs(C(d.Fa,d),fo(d,d.v)),d.v++,!0)}i.Fa=function(){if(this.u=null,na(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Rs(C(this.ab,this),d)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),zs(this),na(this))};function ea(d){d.A!=null&&(_.clearTimeout(d.A),d.A=null)}function na(d){d.g=new Ri(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var E=le(d.qa);kt(E,"RID","rpc"),kt(E,"SID",d.K),kt(E,"AID",d.T),kt(E,"CI",d.F?"0":"1"),!d.F&&d.ja&&kt(E,"TO",d.ja),kt(E,"TYPE","xmlhttp"),_r(d,E),d.m&&d.o&&ls(E,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=Wn(le(E)),A.m=null,A.P=!0,ji(A,d)}i.Za=function(){this.C!=null&&(this.C=null,zs(this),ta(this),dn(19))};function Bs(d){d.C!=null&&(_.clearTimeout(d.C),d.C=null)}function ho(d,E){var A=null;if(d.g==E){Bs(d),ea(d),d.g=null;var O=2}else if(Yt(d.h,E))A=E.D,On(d.h,E),O=1;else return;if(d.G!=0){if(E.o)if(O==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var X=d.B;O=Zr(),Qe(O,new so(O,A)),Us(d)}else Ni(d);else if(X=E.s,X==3||X==0&&0<E.X||!(O==1&&vu(d,E)||O==2&&ta(d)))switch(A&&0<A.length&&(E=d.h,E.i=E.i.concat(A)),X){case 1:hs(d,5);break;case 4:hs(d,10);break;case 3:hs(d,6);break;default:hs(d,2)}}}function fo(d,E){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*E}function hs(d,E){if(d.j.info("Error code "+E),E==2){var A=C(d.fb,d),O=d.Xa;const X=!O;O=new ai(O||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||Ls(O,"https"),Wn(O),X?he(O.toString(),A):co(O.toString(),A)}else dn(2);d.G=0,d.l&&d.l.sa(E),mo(d),hl(d)}i.fb=function(d){d?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function mo(d){if(d.G=0,d.ka=[],d.l){const E=Ge(d.h);(E.length!=0||d.i.length!=0)&&(K(d.ka,E),K(d.ka,d.i),d.h.i.length=0,Z(d.i),d.i.length=0),d.l.ra()}}function ia(d,E,A){var O=A instanceof ai?le(A):new ai(A);if(O.g!="")E&&(O.g=E+"."+O.g),Fi(O,O.s);else{var X=_.location;O=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;var nt=new ai(null);O&&Ls(nt,O),E&&(nt.g=E),X&&Fi(nt,X),A&&(nt.l=A),O=nt}return A=d.D,E=d.ya,A&&E&&kt(O,A,E),kt(O,"VER",d.la),_r(d,O),O}function fl(d,E,A){if(E&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Ca&&!d.pa?new Re(new En({eb:A})):new Re(d.pa),E.Ha(d.J),E}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function po(){}i=po.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function yr(){}yr.prototype.g=function(d,E){return new nn(d,E)};function nn(d,E){Ue.call(this),this.g=new cl(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(d?d["X-WebChannel-Client-Profile"]=E.va:d={"X-WebChannel-Client-Profile":E.va}),this.g.S=d,(d=E&&E.Sb)&&!pt(d)&&(this.g.m=d),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!pt(E)&&(this.g.D=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new ci(this)}G(nn,Ue),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){$r(this.g)},nn.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Qn(d),d=A);E.i.push(new fr(E.Ya++,d)),E.G==3&&Us(E)},nn.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,nn.aa.N.call(this)};function Gi(d){es.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){t:{for(const A in E){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}G(Gi,es);function dl(){Ai.call(this),this.status=1}G(dl,Ai);function ci(d){this.g=d}G(ci,po),ci.prototype.ua=function(){Qe(this.g,"a")},ci.prototype.ta=function(d){Qe(this.g,new Gi(d))},ci.prototype.sa=function(d){Qe(this.g,new dl)},ci.prototype.ra=function(){Qe(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,bb=function(){return new yr},Eb=function(){return Zr()},Tb=si,Lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,pf=De,Xe.COMPLETE="complete",vb=Xe,xs.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,uc=xs,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,yb=Re}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",Q0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new ig("@firebase/firestore");function Kl(){return Ko.logLevel}function Rt(i,...t){if(Ko.logLevel<=ae.DEBUG){const e=t.map(pg);Ko.debug(`Firestore (${mu}): ${i}`,...e)}}function Br(i,...t){if(Ko.logLevel<=ae.ERROR){const e=t.map(pg);Ko.error(`Firestore (${mu}): ${i}`,...e)}}function qa(i,...t){if(Ko.logLevel<=ae.WARN){const e=t.map(pg);Ko.warn(`Firestore (${mu}): ${i}`,...e)}}function pg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,wb(i,r,e)}function wb(i,t,e){let r=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Br(r),new Error(r)}function ve(i,t,e,r){let l="Unexpected state";typeof e=="string"?l=e:r=e,i||wb(t,l,r)}function Gt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Hr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Gn.UNAUTHENTICATED)))}shutdown(){}}class XI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class WI{constructor(t){this.t=t,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ve(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let h=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ha,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},_=y=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>_(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?_(y):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ha)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new Sb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ve(t===null||typeof t=="string",2055,{h:t}),new Gn(t)}}class $I{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JI{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new $I(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ve(this.o===void 0,3512);const r=h=>{h.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const f=h.token!==this.m;return this.m=h.token,Rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ve(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new X0(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=e2(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<e&&(r+=t.charAt(l[h]%62))}return r}}function Jt(i,t){return i<t?-1:i>t?1:0}function Dp(i,t){let e=0;for(;e<i.length&&e<t.length;){const r=i.codePointAt(e),l=t.codePointAt(e);if(r!==l){if(r<128&&l<128)return Jt(r,l);{const h=Ab(),f=n2(h.encode(W0(i,e)),h.encode(W0(t,e)));return f!==0?f:Jt(r,l)}}e+=r>65535?2:1}return Jt(i.length,t.length)}function W0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function n2(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Jt(i[e],t[e]);return Jt(i.length,t.length)}function ru(i,t,e){return i.length===t.length&&i.every(((r,l)=>e(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__name__";class $s{constructor(t,e,r){e===void 0?e=0:e>t.length&&Ut(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Ut(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return $s.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $s?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let l=0;l<r;l++){const h=$s.compareSegments(t.get(l),e.get(l));if(h!==0)return h}return Jt(t.length,e.length)}static compareSegments(t,e){const r=$s.isNumericId(t),l=$s.isNumericId(e);return r&&!l?-1:!r&&l?1:r&&l?$s.extractNumericId(t).compare($s.extractNumericId(e)):Dp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ja.fromString(t.substring(4,t.length-2))}}class Pe extends $s{construct(t,e,r){return new Pe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ct(ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((l=>l.length>0)))}return new Pe(e)}static emptyPath(){return new Pe([])}}const i2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends $s{construct(t,e,r){return new kn(t,e,r)}static isValidIdentifier(t){return i2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new kn([$0])}static fromServerFormat(t){const e=[];let r="",l=0;const h=()=>{if(r.length===0)throw new Ct(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let f=!1;for(;l<t.length;){const _=t[l];if(_==="\\"){if(l+1===t.length)throw new Ct(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ct(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else _==="`"?(f=!f,l++):_!=="."||f?(r+=_,l++):(h(),l++)}if(h(),f)throw new Ct(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kn(e)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(Pe.fromString(t))}static fromName(t){return new Mt(Pe.fromString(t).popFirst(5))}static empty(){return new Mt(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Pe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new Pe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(i,t,e){if(!e)throw new Ct(ct.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function s2(i,t,e,r){if(t===!0&&r===!0)throw new Ct(ct.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function J0(i){if(!Mt.isDocumentKey(i))throw new Ct(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tT(i){if(Mt.isDocumentKey(i))throw new Ct(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Cb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Jf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ut(12329,{type:typeof i})}function Yo(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Ct(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jf(i);throw new Ct(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(i,t){const e={typeString:i};return t&&(e.value=t),e}function Hc(i,t){if(!Cb(i))throw new Ct(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const f=i[r];if(l&&typeof f!==l){e=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&f!==h.value){e=`Expected '${r}' field to equal '${h.value}'`;break}}if(e)throw new Ct(ct.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=-62135596800,nT=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*nT);return new Le(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<eT)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nT}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hc(t,Le._jsonSchema))return new Le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-eT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:cn("string",Le._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new Le(0,0))}static max(){return new Ft(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function r2(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=Ft.fromTimestamp(r===1e9?new Le(e+1,0):new Le(e,r));return new Ga(l,Mt.empty(),t)}function a2(i){return new Ga(i.readTime,i.key,xc)}class Ga{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Ga(Ft.min(),Mt.empty(),xc)}static max(){return new Ga(Ft.max(),Mt.empty(),xc)}}function o2(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Mt.comparator(i.documentKey,t.documentKey),e!==0?e:Jt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(i){if(i.code!==ct.FAILED_PRECONDITION||i.message!==l2)throw i;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dt(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(e,h).next(r,l)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof dt?e:dt.resolve(e)}catch(e){return dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):dt.reject(e)}static resolve(t){return new dt(((e,r)=>{e(t)}))}static reject(t){return new dt(((e,r)=>{r(t)}))}static waitFor(t){return new dt(((e,r)=>{let l=0,h=0,f=!1;t.forEach((_=>{++l,_.next((()=>{++h,f&&h===l&&e()}),(y=>r(y)))})),f=!0,h===l&&e()}))}static or(t){let e=dt.resolve(!1);for(const r of t)e=e.next((l=>l?dt.resolve(l):r()));return e}static forEach(t,e){const r=[];return t.forEach(((l,h)=>{r.push(e.call(this,l,h))})),this.waitFor(r)}static mapArray(t,e){return new dt(((r,l)=>{const h=t.length,f=new Array(h);let _=0;for(let y=0;y<h;y++){const T=y;e(t[T]).next((S=>{f[T]=S,++_,_===h&&r(f)}),(S=>l(S)))}}))}static doWhile(t,e){return new dt(((r,l)=>{const h=()=>{t()===!0?e().next((()=>{h()}),l):r()};h()}))}}function c2(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function gu(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this._e(r),this.ae=r=>e.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}td.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function ed(i){return i==null}function Nf(i){return i===0&&1/i==-1/0}function h2(i){return typeof i=="number"&&Number.isInteger(i)&&!Nf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="";function f2(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=iT(t)),t=d2(i.get(e),t);return iT(t)}function d2(i,t){let e=t;const r=i.length;for(let l=0;l<r;l++){const h=i.charAt(l);switch(h){case"\0":e+="";break;case Rb:e+="";break;default:e+=h}}return e}function iT(i){return i+Rb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ja(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function Ib(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,e){this.comparator=t,this.root=e||Mn.EMPTY}insert(t,e){return new qe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return e+r.left.size;l<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rf(this.root,t,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rf(this.root,t,this.comparator,!0)}}class rf{constructor(t,e,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=e?r(t.key,e):1,e&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Mn{constructor(t,e,r,l,h){this.key=t,this.value=e,this.color=r??Mn.RED,this.left=l??Mn.EMPTY,this.right=h??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,l,h){return new Mn(t??this.key,e??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,e,r),null):h===0?l.copy(null,e,null,null,null):l.copy(null,null,null,null,l.right.insert(t,e,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,l=this;if(e(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,e),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),e(t,l.key)===0){if(l.right.isEmpty())return Mn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,e))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,e,r,l,h){return this}insert(t,e,r){return new Mn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;e(l.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(t){return new rT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof yn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new yn(this.comparator);return e.data=t,e}}class rT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.fields=t,t.sort(kn.comparator)}static empty(){return new Vi([])}unionWith(t){let e=new yn(kn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Vi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ru(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ob("Invalid base64 string: "+h):h}})(t);return new Vn(e)}static fromUint8Array(t){const e=(function(l){let h="";for(let f=0;f<l.length;++f)h+=String.fromCharCode(l[f]);return h})(t);return new Vn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let l=0;l<e.length;l++)r[l]=e.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(i){if(ve(!!i,39018),typeof i=="string"){let t=0;const e=m2.exec(i);if(ve(!!e,46558,{timestamp:i}),e[1]){let l=e[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tn(i.seconds),nanos:tn(i.nanos)}}function tn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ka(i){return typeof i=="string"?Vn.fromBase64String(i):Vn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="server_timestamp",Pb="__type__",Lb="__previous_value__",Db="__local_write_time__";function yg(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Pb])===null||e===void 0?void 0:e.stringValue)===Nb}function nd(i){const t=i.mapValue.fields[Lb];return yg(t)?nd(t):t}function Cc(i){const t=Za(i.mapValue.fields[Db].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,e,r,l,h,f,_,y,T,S){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.longPollingOptions=y,this.useFetchStreams=T,this.isUsingEmulator=S}}const Pf="(default)";class Rc{constructor(t,e){this.projectId=t,this.database=e||Pf}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(t){return t instanceof Rc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="__type__",g2="__max__",af={mapValue:{}},kb="__vector__",Lf="value";function Ya(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?yg(i)?4:y2(i)?9007199254740991:_2(i)?10:11:Ut(28295,{value:i})}function ar(i,t){if(i===t)return!0;const e=Ya(i);if(e!==Ya(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Cc(i).isEqual(Cc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const f=Za(l.timestampValue),_=Za(h.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(l,h){return Ka(l.bytesValue).isEqual(Ka(h.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(l,h){return tn(l.geoPointValue.latitude)===tn(h.geoPointValue.latitude)&&tn(l.geoPointValue.longitude)===tn(h.geoPointValue.longitude)})(i,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return tn(l.integerValue)===tn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const f=tn(l.doubleValue),_=tn(h.doubleValue);return f===_?Nf(f)===Nf(_):isNaN(f)&&isNaN(_)}return!1})(i,t);case 9:return ru(i.arrayValue.values||[],t.arrayValue.values||[],ar);case 10:case 11:return(function(l,h){const f=l.mapValue.fields||{},_=h.mapValue.fields||{};if(sT(f)!==sT(_))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(_[y]===void 0||!ar(f[y],_[y])))return!1;return!0})(i,t);default:return Ut(52216,{left:i})}}function Ic(i,t){return(i.values||[]).find((e=>ar(e,t)))!==void 0}function au(i,t){if(i===t)return 0;const e=Ya(i),r=Ya(t);if(e!==r)return Jt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(i.booleanValue,t.booleanValue);case 2:return(function(h,f){const _=tn(h.integerValue||h.doubleValue),y=tn(f.integerValue||f.doubleValue);return _<y?-1:_>y?1:_===y?0:isNaN(_)?isNaN(y)?0:-1:1})(i,t);case 3:return aT(i.timestampValue,t.timestampValue);case 4:return aT(Cc(i),Cc(t));case 5:return Dp(i.stringValue,t.stringValue);case 6:return(function(h,f){const _=Ka(h),y=Ka(f);return _.compareTo(y)})(i.bytesValue,t.bytesValue);case 7:return(function(h,f){const _=h.split("/"),y=f.split("/");for(let T=0;T<_.length&&T<y.length;T++){const S=Jt(_[T],y[T]);if(S!==0)return S}return Jt(_.length,y.length)})(i.referenceValue,t.referenceValue);case 8:return(function(h,f){const _=Jt(tn(h.latitude),tn(f.latitude));return _!==0?_:Jt(tn(h.longitude),tn(f.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return oT(i.arrayValue,t.arrayValue);case 10:return(function(h,f){var _,y,T,S;const x=h.fields||{},C=f.fields||{},P=(_=x[Lf])===null||_===void 0?void 0:_.arrayValue,G=(y=C[Lf])===null||y===void 0?void 0:y.arrayValue,Z=Jt(((T=P==null?void 0:P.values)===null||T===void 0?void 0:T.length)||0,((S=G==null?void 0:G.values)===null||S===void 0?void 0:S.length)||0);return Z!==0?Z:oT(P,G)})(i.mapValue,t.mapValue);case 11:return(function(h,f){if(h===af.mapValue&&f===af.mapValue)return 0;if(h===af.mapValue)return 1;if(f===af.mapValue)return-1;const _=h.fields||{},y=Object.keys(_),T=f.fields||{},S=Object.keys(T);y.sort(),S.sort();for(let x=0;x<y.length&&x<S.length;++x){const C=Dp(y[x],S[x]);if(C!==0)return C;const P=au(_[y[x]],T[S[x]]);if(P!==0)return P}return Jt(y.length,S.length)})(i.mapValue,t.mapValue);default:throw Ut(23264,{le:e})}}function aT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Jt(i,t);const e=Za(i),r=Za(t),l=Jt(e.seconds,r.seconds);return l!==0?l:Jt(e.nanos,r.nanos)}function oT(i,t){const e=i.values||[],r=t.values||[];for(let l=0;l<e.length&&l<r.length;++l){const h=au(e[l],r[l]);if(h)return h}return Jt(e.length,r.length)}function ou(i){return Mp(i)}function Mp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=Za(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return Ka(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return Mt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",l=!0;for(const h of e.values||[])l?l=!1:r+=",",r+=Mp(h);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let l="{",h=!0;for(const f of r)h?h=!1:l+=",",l+=`${f}:${Mp(e.fields[f])}`;return l+"}"})(i.mapValue):Ut(61005,{value:i})}function gf(i){switch(Ya(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nd(i);return t?16+gf(t):16;case 5:return 2*i.stringValue.length;case 6:return Ka(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+gf(h)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return Ja(r.fields,((h,f)=>{l+=h.length+gf(f)})),l})(i.mapValue);default:throw Ut(13486,{value:i})}}function lT(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function kp(i){return!!i&&"integerValue"in i}function vg(i){return!!i&&"arrayValue"in i}function uT(i){return!!i&&"nullValue"in i}function cT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function _f(i){return!!i&&"mapValue"in i}function _2(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Mb])===null||e===void 0?void 0:e.stringValue)===kb}function pc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Ja(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=pc(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=pc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function y2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t){this.value=t}static empty(){return new Ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!_f(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=pc(e)}setAll(t){let e=kn.emptyPath(),r={},l=[];t.forEach(((f,_)=>{if(!e.isImmediateParentOf(_)){const y=this.getFieldsMap(e);this.applyChanges(y,r,l),r={},l=[],e=_.popLast()}f?r[_.lastSegment()]=pc(f):l.push(_.lastSegment())}));const h=this.getFieldsMap(e);this.applyChanges(h,r,l)}delete(t){const e=this.field(t.popLast());_f(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ar(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=e.mapValue.fields[t.get(r)];_f(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=l),e=l}return e.mapValue.fields}applyChanges(t,e,r){Ja(e,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new Ti(pc(this.value))}}function Vb(i){const t=[];return Ja(i.fields,((e,r)=>{const l=new kn([e]);if(_f(r)){const h=Vb(r.mapValue).fields;if(h.length===0)t.push(l);else for(const f of h)t.push(l.child(f))}else t.push(l)})),new Vi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,e,r,l,h,f,_){this.key=t,this.documentType=e,this.version=r,this.readTime=l,this.createTime=h,this.data=f,this.documentState=_}static newInvalidDocument(t){return new Zn(t,0,Ft.min(),Ft.min(),Ft.min(),Ti.empty(),0)}static newFoundDocument(t,e,r,l){return new Zn(t,1,e,Ft.min(),r,l,0)}static newNoDocument(t,e){return new Zn(t,2,e,Ft.min(),Ft.min(),Ti.empty(),0)}static newUnknownDocument(t,e){return new Zn(t,3,e,Ft.min(),Ft.min(),Ti.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,e){this.position=t,this.inclusive=e}}function hT(i,t,e){let r=0;for(let l=0;l<i.position.length;l++){const h=t[l],f=i.position[l];if(h.field.isKeyField()?r=Mt.comparator(Mt.fromName(f.referenceValue),e.key):r=au(f,e.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function fT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!ar(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,e="asc"){this.field=t,this.dir=e}}function v2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{}class un extends zb{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new E2(t,e,r):e==="array-contains"?new S2(t,r):e==="in"?new A2(t,r):e==="not-in"?new x2(t,r):e==="array-contains-any"?new C2(t,r):new un(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new b2(t,r):new w2(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(au(e,this.value)):e!==null&&Ya(this.value)===Ya(e)&&this.matchesComparison(au(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends zb{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new Es(t,e)}matches(t){return Ub(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ub(i){return i.op==="and"}function Bb(i){return T2(i)&&Ub(i)}function T2(i){for(const t of i.filters)if(t instanceof Es)return!1;return!0}function Vp(i){if(i instanceof un)return i.field.canonicalString()+i.op.toString()+ou(i.value);if(Bb(i))return i.filters.map((t=>Vp(t))).join(",");{const t=i.filters.map((e=>Vp(e))).join(",");return`${i.op}(${t})`}}function jb(i,t){return i instanceof un?(function(r,l){return l instanceof un&&r.op===l.op&&r.field.isEqual(l.field)&&ar(r.value,l.value)})(i,t):i instanceof Es?(function(r,l){return l instanceof Es&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,f,_)=>h&&jb(f,l.filters[_])),!0):!1})(i,t):void Ut(19439)}function Hb(i){return i instanceof un?(function(e){return`${e.field.canonicalString()} ${e.op} ${ou(e.value)}`})(i):i instanceof Es?(function(e){return e.op.toString()+" {"+e.getFilters().map(Hb).join(" ,")+"}"})(i):"Filter"}class E2 extends un{constructor(t,e,r){super(t,e,r),this.key=Mt.fromName(r.referenceValue)}matches(t){const e=Mt.comparator(t.key,this.key);return this.matchesComparison(e)}}class b2 extends un{constructor(t,e){super(t,"in",e),this.keys=Fb("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class w2 extends un{constructor(t,e){super(t,"not-in",e),this.keys=Fb("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Fb(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map((r=>Mt.fromName(r.referenceValue)))}class S2 extends un{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vg(e)&&Ic(e.arrayValue,this.value)}}class A2 extends un{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ic(this.value.arrayValue,e)}}class x2 extends un{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ic(this.value.arrayValue,e)}}class C2 extends un{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Ic(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t,e=null,r=[],l=[],h=null,f=null,_=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=f,this.endAt=_,this.Pe=null}}function dT(i,t=null,e=[],r=[],l=null,h=null,f=null){return new R2(i,t,e,r,l,h,f)}function Tg(i){const t=Gt(i);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Vp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),ed(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>ou(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>ou(r))).join(",")),t.Pe=e}return t.Pe}function Eg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!v2(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!jb(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!fT(i.startAt,t.startAt)&&fT(i.endAt,t.endAt)}function zp(i){return Mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,e=null,r=[],l=[],h=null,f="F",_=null,y=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=f,this.startAt=_,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function I2(i,t,e,r,l,h,f,_){return new _u(i,t,e,r,l,h,f,_)}function qb(i){return new _u(i)}function mT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Gb(i){return i.collectionGroup!==null}function gc(i){const t=Gt(i);if(t.Te===null){t.Te=[];const e=new Set;for(const h of t.explicitOrderBy)t.Te.push(h),e.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let _=new yn(kn.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((T=>{T.isInequality()&&(_=_.add(T.field))}))})),_})(t).forEach((h=>{e.has(h.canonicalString())||h.isKeyField()||t.Te.push(new Oc(h,r))})),e.has(kn.keyField().canonicalString())||t.Te.push(new Oc(kn.keyField(),r))}return t.Te}function nr(i){const t=Gt(i);return t.Ie||(t.Ie=O2(t,gc(i))),t.Ie}function O2(i,t){if(i.limitType==="F")return dT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Oc(l.field,h)}));const e=i.endAt?new Df(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Df(i.startAt.position,i.startAt.inclusive):null;return dT(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function Up(i,t){const e=i.filters.concat([t]);return new _u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Bp(i,t,e){return new _u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function id(i,t){return Eg(nr(i),nr(t))&&i.limitType===t.limitType}function Zb(i){return`${Tg(nr(i))}|lt:${i.limitType}`}function Yl(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((l=>Hb(l))).join(", ")}]`),ed(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((l=>ou(l))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((l=>ou(l))).join(",")),`Target(${r})`})(nr(i))}; limitType=${i.limitType})`}function sd(i,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):Mt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(i,t)&&(function(r,l){for(const h of gc(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(i,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(i,t)&&(function(r,l){return!(r.startAt&&!(function(f,_,y){const T=hT(f,_,y);return f.inclusive?T<=0:T<0})(r.startAt,gc(r),l)||r.endAt&&!(function(f,_,y){const T=hT(f,_,y);return f.inclusive?T>=0:T>0})(r.endAt,gc(r),l))})(i,t)}function N2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Kb(i){return(t,e)=>{let r=!1;for(const l of gc(i)){const h=P2(l,t,e);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function P2(i,t,e){const r=i.field.isKeyField()?Mt.comparator(t.key,e.key):(function(h,f,_){const y=f.data.field(h),T=_.data.field(h);return y!==null&&T!==null?au(y,T):Ut(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,e]);l.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[e]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ja(this.inner,((e,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new qe(Mt.comparator);function jr(){return L2}const Yb=new qe(Mt.comparator);function cc(...i){let t=Yb;for(const e of i)t=t.insert(e.key,e);return t}function Qb(i){let t=Yb;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function jo(){return _c()}function Xb(){return _c()}function _c(){return new Jo((i=>i.toString()),((i,t)=>i.isEqual(t)))}const D2=new qe(Mt.comparator),M2=new yn(Mt.comparator);function oe(...i){let t=M2;for(const e of i)t=t.add(e);return t}const k2=new yn(Jt);function V2(){return k2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function Wb(i){return{integerValue:""+i}}function z2(i,t){return h2(t)?Wb(t):bg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function U2(i,t,e){return i instanceof Mf?(function(l,h){const f={fields:{[Pb]:{stringValue:Nb},[Db]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&yg(h)&&(h=nd(h)),h&&(f.fields[Lb]=h),{mapValue:f}})(e,t):i instanceof Nc?Jb(i,t):i instanceof Pc?tw(i,t):(function(l,h){const f=$b(l,h),_=pT(f)+pT(l.Ee);return kp(f)&&kp(l.Ee)?Wb(_):bg(l.serializer,_)})(i,t)}function B2(i,t,e){return i instanceof Nc?Jb(i,t):i instanceof Pc?tw(i,t):e}function $b(i,t){return i instanceof kf?(function(r){return kp(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Mf extends rd{}class Nc extends rd{constructor(t){super(),this.elements=t}}function Jb(i,t){const e=ew(t);for(const r of i.elements)e.some((l=>ar(l,r)))||e.push(r);return{arrayValue:{values:e}}}class Pc extends rd{constructor(t){super(),this.elements=t}}function tw(i,t){let e=ew(t);for(const r of i.elements)e=e.filter((l=>!ar(l,r)));return{arrayValue:{values:e}}}class kf extends rd{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function pT(i){return tn(i.integerValue||i.doubleValue)}function ew(i){return vg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function j2(i,t){return i.field.isEqual(t.field)&&(function(r,l){return r instanceof Nc&&l instanceof Nc||r instanceof Pc&&l instanceof Pc?ru(r.elements,l.elements,ar):r instanceof kf&&l instanceof kf?ar(r.Ee,l.Ee):r instanceof Mf&&l instanceof Mf})(i.transform,t.transform)}class H2{constructor(t,e){this.version=t,this.transformResults=e}}class vs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vs}static exists(t){return new vs(void 0,t)}static updateTime(t){return new vs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class ad{}function nw(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new wg(i.key,vs.none()):new Fc(i.key,i.data,vs.none());{const e=i.data,r=Ti.empty();let l=new yn(kn.comparator);for(let h of t.fields)if(!l.has(h)){let f=e.field(h);f===null&&h.length>1&&(h=h.popLast(),f=e.field(h)),f===null?r.delete(h):r.set(h,f),l=l.add(h)}return new to(i.key,r,new Vi(l.toArray()),vs.none())}}function F2(i,t,e){i instanceof Fc?(function(l,h,f){const _=l.value.clone(),y=_T(l.fieldTransforms,h,f.transformResults);_.setAll(y),h.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(i,t,e):i instanceof to?(function(l,h,f){if(!yf(l.precondition,h))return void h.convertToUnknownDocument(f.version);const _=_T(l.fieldTransforms,h,f.transformResults),y=h.data;y.setAll(iw(l)),y.setAll(_),h.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(i,t,e):(function(l,h,f){h.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function yc(i,t,e,r){return i instanceof Fc?(function(h,f,_,y){if(!yf(h.precondition,f))return _;const T=h.value.clone(),S=yT(h.fieldTransforms,y,f);return T.setAll(S),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),null})(i,t,e,r):i instanceof to?(function(h,f,_,y){if(!yf(h.precondition,f))return _;const T=yT(h.fieldTransforms,y,f),S=f.data;return S.setAll(iw(h)),S.setAll(T),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(i,t,e,r):(function(h,f,_){return yf(h.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):_})(i,t,e)}function q2(i,t){let e=null;for(const r of i.fieldTransforms){const l=t.data.field(r.field),h=$b(r.transform,l||null);h!=null&&(e===null&&(e=Ti.empty()),e.set(r.field,h))}return e||null}function gT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ru(r,l,((h,f)=>j2(h,f)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Fc extends ad{constructor(t,e,r,l=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class to extends ad{constructor(t,e,r,l,h=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function iw(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function _T(i,t,e){const r=new Map;ve(i.length===e.length,32656,{Ae:e.length,Re:i.length});for(let l=0;l<e.length;l++){const h=i[l],f=h.transform,_=t.data.field(h.field);r.set(h.field,B2(f,_,e[l]))}return r}function yT(i,t,e){const r=new Map;for(const l of i){const h=l.transform,f=e.data.field(l.field);r.set(l.field,U2(h,f,t))}return r}class wg extends ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends ad{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,e,r,l){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&F2(h,t,r[l])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=yc(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=yc(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Xb();return this.mutations.forEach((l=>{const h=t.get(l.key),f=h.overlayedDocument;let _=this.applyToLocalView(f,h.mutatedFields);_=e.has(l.key)?null:_;const y=nw(f,_);y!==null&&r.set(l.key,y),f.isValidDocument()||f.convertToNoDocument(Ft.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),oe())}isEqual(t){return this.batchId===t.batchId&&ru(this.mutations,t.mutations,((e,r)=>gT(e,r)))&&ru(this.baseMutations,t.baseMutations,((e,r)=>gT(e,r)))}}class Sg{constructor(t,e,r,l){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=l}static from(t,e,r){ve(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let l=(function(){return D2})();const h=t.mutations;for(let f=0;f<h.length;f++)l=l.insert(h[f].key,r[f].version);return new Sg(t,e,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,ue;function Q2(i){switch(i){case ct.OK:return Ut(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Ut(15467,{code:i})}}function sw(i){if(i===void 0)return Br("GRPC error has no .code"),ct.UNKNOWN;switch(i){case ln.OK:return ct.OK;case ln.CANCELLED:return ct.CANCELLED;case ln.UNKNOWN:return ct.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ct.INTERNAL;case ln.UNAVAILABLE:return ct.UNAVAILABLE;case ln.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case ln.NOT_FOUND:return ct.NOT_FOUND;case ln.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case ln.ABORTED:return ct.ABORTED;case ln.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case ln.DATA_LOSS:return ct.DATA_LOSS;default:return Ut(39323,{code:i})}}(ue=ln||(ln={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new ja([4294967295,4294967295],0);function vT(i){const t=Ab().encode(i),e=new _b;return e.update(t),new Uint8Array(e.digest())}function TT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new ja([e,r],0),new ja([l,h],0)]}class Ag{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new hc(`Invalid padding: ${e}`);if(r<0)throw new hc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new hc(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=ja.fromNumber(this.fe)}pe(t,e,r){let l=t.add(e.multiply(ja.fromNumber(r)));return l.compare(X2)===1&&(l=new ja([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=vT(t),[r,l]=TT(e);for(let h=0;h<this.hashCount;h++){const f=this.pe(r,l,h);if(!this.ye(f))return!1}return!0}static create(t,e,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),f=new Ag(h,l,e);return r.forEach((_=>f.insert(_))),f}insert(t){if(this.fe===0)return;const e=vT(t),[r,l]=TT(e);for(let h=0;h<this.hashCount;h++){const f=this.pe(r,l,h);this.we(f)}}we(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,e,r,l,h){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const l=new Map;return l.set(t,qc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new od(Ft.min(),l,new qe(Jt),jr(),oe())}}class qc{constructor(t,e,r,l,h){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new qc(r,e,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e,r,l){this.Se=t,this.removedTargetIds=e,this.key=r,this.be=l}}class rw{constructor(t,e){this.targetId=t,this.De=e}}class aw{constructor(t,e,r=Vn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=l}}class ET{constructor(){this.ve=0,this.Ce=bT(),this.Fe=Vn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=oe(),e=oe(),r=oe();return this.Ce.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:e=e.add(l);break;case 1:r=r.add(l);break;default:Ut(38017,{changeType:h})}})),new qc(this.Fe,this.Me,t,e,r)}ke(){this.xe=!1,this.Ce=bT()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class W2{constructor(t){this.We=t,this.Ge=new Map,this.ze=jr(),this.je=of(),this.Je=of(),this.He=new qe(Jt)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,(e=>{const r=this.tt(e);switch(t.state){case 0:this.nt(e)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),r.Be(t.resumeToken));break;default:Ut(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach(((r,l)=>{this.nt(l)&&e(l)}))}it(t){const e=t.targetId,r=t.De.count,l=this.st(e);if(l){const h=l.target;if(zp(h))if(r===0){const f=new Mt(h.path);this.Xe(e,f,Zn.newNoDocument(f,Ft.min()))}else ve(r===1,20013,{expectedCount:r});else{const f=this.ot(e);if(f!==r){const _=this._t(t),y=_?this.ut(_,t,f):1;if(y!==0){this.rt(e);const T=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,T)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=e;let f,_;try{f=Ka(r).toUint8Array()}catch(y){if(y instanceof Ob)return qa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{_=new Ag(f,l,h)}catch(y){return qa(y instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return _.fe===0?null:_}ut(t,e,r){return e.De.count===r-this.ht(t,e.targetId)?0:2}ht(t,e){const r=this.We.getRemoteKeysForTarget(e);let l=0;return r.forEach((h=>{const f=this.We.lt(),_=`projects/${f.projectId}/databases/${f.database}/documents/${h.path.canonicalString()}`;t.mightContain(_)||(this.Xe(e,h,null),l++)})),l}Pt(t){const e=new Map;this.Ge.forEach(((h,f)=>{const _=this.st(f);if(_){if(h.current&&zp(_.target)){const y=new Mt(_.target.path);this.Tt(y).has(f)||this.It(f,y)||this.Xe(f,y,Zn.newNoDocument(y,t))}h.Ne&&(e.set(f,h.Le()),h.ke())}}));let r=oe();this.Je.forEach(((h,f)=>{let _=!0;f.forEachWhile((y=>{const T=this.st(y);return!T||T.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.ze.forEach(((h,f)=>f.setReadTime(t)));const l=new od(t,e,this.He,this.ze,r);return this.ze=jr(),this.je=of(),this.Je=of(),this.He=new qe(Jt),l}Ze(t,e){if(!this.nt(t))return;const r=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,r),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,r){if(!this.nt(t))return;const l=this.tt(t);this.It(t,e)?l.qe(e,1):l.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),r&&(this.ze=this.ze.insert(e,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new ET,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new yn(Jt),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new yn(Jt),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||Rt("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new ET),this.We.getRemoteKeysForTarget(t).forEach((e=>{this.Xe(t,e,null)}))}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function of(){return new qe(Mt.comparator)}function bT(){return new qe(Mt.comparator)}const $2={asc:"ASCENDING",desc:"DESCENDING"},J2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tO={and:"AND",or:"OR"};class eO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function jp(i,t){return i.useProto3Json||ed(t)?t:{value:t}}function Vf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ow(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function nO(i,t){return Vf(i,t.toTimestamp())}function ir(i){return ve(!!i,49232),Ft.fromTimestamp((function(e){const r=Za(e);return new Le(r.seconds,r.nanos)})(i))}function xg(i,t){return Hp(i,t).canonicalString()}function Hp(i,t){const e=(function(l){return new Pe(["projects",l.projectId,"databases",l.database])})(i).child("documents");return t===void 0?e:e.child(t)}function lw(i){const t=Pe.fromString(i);return ve(dw(t),10190,{key:t.toString()}),t}function Fp(i,t){return xg(i.databaseId,t.path)}function fp(i,t){const e=lw(t);if(e.get(1)!==i.databaseId.projectId)throw new Ct(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Ct(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Mt(cw(e))}function uw(i,t){return xg(i.databaseId,t)}function iO(i){const t=lw(i);return t.length===4?Pe.emptyPath():cw(t)}function qp(i){return new Pe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cw(i){return ve(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function wT(i,t,e){return{name:Fp(i,t),fields:e.value.mapValue.fields}}function sO(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Ut(39313,{state:T})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(T,S){return T.useProto3Json?(ve(S===void 0||typeof S=="string",58123),Vn.fromBase64String(S||"")):(ve(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Vn.fromUint8Array(S||new Uint8Array))})(i,t.targetChange.resumeToken),f=t.targetChange.cause,_=f&&(function(T){const S=T.code===void 0?ct.UNKNOWN:sw(T.code);return new Ct(S,T.message||"")})(f);e=new aw(r,l,h,_||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=fp(i,r.document.name),h=ir(r.document.updateTime),f=r.document.createTime?ir(r.document.createTime):Ft.min(),_=new Ti({mapValue:{fields:r.document.fields}}),y=Zn.newFoundDocument(l,h,f,_),T=r.targetIds||[],S=r.removedTargetIds||[];e=new vf(T,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=fp(i,r.document),h=r.readTime?ir(r.readTime):Ft.min(),f=Zn.newNoDocument(l,h),_=r.removedTargetIds||[];e=new vf([],_,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=fp(i,r.document),h=r.removedTargetIds||[];e=new vf([],h,l,null)}else{if(!("filter"in t))return Ut(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,f=new Y2(l,h),_=r.targetId;e=new rw(_,f)}}return e}function rO(i,t){let e;if(t instanceof Fc)e={update:wT(i,t.key,t.value)};else if(t instanceof wg)e={delete:Fp(i,t.key)};else if(t instanceof to)e={update:wT(i,t.key,t.data),updateMask:mO(t.fieldMask)};else{if(!(t instanceof G2))return Ut(16599,{Rt:t.type});e={verify:Fp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(h,f){const _=f.transform;if(_ instanceof Mf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Nc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Pc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof kf)return{fieldPath:f.field.canonicalString(),increment:_.Ee};throw Ut(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:nO(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ut(27497)})(i,t.precondition)),e}function aO(i,t){return i&&i.length>0?(ve(t!==void 0,14353),i.map((e=>(function(l,h){let f=l.updateTime?ir(l.updateTime):ir(h);return f.isEqual(Ft.min())&&(f=ir(h)),new H2(f,l.transformResults||[])})(e,t)))):[]}function oO(i,t){return{documents:[uw(i,t.path)]}}function lO(i,t){const e={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=uw(i,l);const h=(function(T){if(T.length!==0)return fw(Es.create(T,"and"))})(t.filters);h&&(e.structuredQuery.where=h);const f=(function(T){if(T.length!==0)return T.map((S=>(function(C){return{field:Ql(C.field),direction:hO(C.dir)}})(S)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const _=jp(i,t.limit);return _!==null&&(e.structuredQuery.limit=_),t.startAt&&(e.structuredQuery.startAt=(function(T){return{before:T.inclusive,values:T.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(T){return{before:!T.inclusive,values:T.position}})(t.endAt)),{Vt:e,parent:l}}function uO(i){let t=iO(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let l=null;if(r>0){ve(r===1,65062);const S=e.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];e.where&&(h=(function(x){const C=hw(x);return C instanceof Es&&Bb(C)?C.getFilters():[C]})(e.where));let f=[];e.orderBy&&(f=(function(x){return x.map((C=>(function(G){return new Oc(Xl(G.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(C)))})(e.orderBy));let _=null;e.limit&&(_=(function(x){let C;return C=typeof x=="object"?x.value:x,ed(C)?null:C})(e.limit));let y=null;e.startAt&&(y=(function(x){const C=!!x.before,P=x.values||[];return new Df(P,C)})(e.startAt));let T=null;return e.endAt&&(T=(function(x){const C=!x.before,P=x.values||[];return new Df(P,C)})(e.endAt)),I2(t,l,f,h,_,"F",y,T)}function cO(i,t){const e=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:l})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function hw(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Xl(e.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Xl(e.unaryFilter.field);return un.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Xl(e.unaryFilter.field);return un.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xl(e.unaryFilter.field);return un.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}})(i):i.fieldFilter!==void 0?(function(e){return un.create(Xl(e.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return Es.create(e.compositeFilter.filters.map((r=>hw(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}})(e.compositeFilter.op))})(i):Ut(30097,{filter:i})}function hO(i){return $2[i]}function fO(i){return J2[i]}function dO(i){return tO[i]}function Ql(i){return{fieldPath:i.canonicalString()}}function Xl(i){return kn.fromServerFormat(i.fieldPath)}function fw(i){return i instanceof un?(function(e){if(e.op==="=="){if(cT(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NAN"}};if(uT(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(cT(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NAN"}};if(uT(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(e.field),op:fO(e.op),value:e.value}}})(i):i instanceof Es?(function(e){const r=e.getFilters().map((l=>fw(l)));return r.length===1?r[0]:{compositeFilter:{op:dO(e.op),filters:r}}})(i):Ut(54877,{filter:i})}function mO(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function dw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,e,r,l,h=Ft.min(),f=Ft.min(),_=Vn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_,this.expectedCount=y}withSequenceNumber(t){return new ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.gt=t}}function gO(i){const t=uO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.Dn=new yO}addToCollectionParentIndex(t,e){return this.Dn.add(e),dt.resolve()}getCollectionParents(t,e){return dt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return dt.resolve()}deleteFieldIndex(t,e){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,e){return dt.resolve()}getDocumentsMatchingTarget(t,e){return dt.resolve(null)}getIndexType(t,e){return dt.resolve(0)}getFieldIndexes(t,e){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,e){return dt.resolve(Ga.min())}getMinOffsetFromCollectionGroup(t,e){return dt.resolve(Ga.min())}updateCollectionGroup(t,e,r){return dt.resolve()}updateIndexEntries(t,e){return dt.resolve()}}class yO{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),l=this.index[e]||new yn(Pe.comparator),h=!l.has(r);return this.index[e]=l.add(r),h}has(t){const e=t.lastSegment(),r=t.popLast(),l=this.index[e];return l&&l.has(r)}getEntries(t){return(this.index[t]||new yn(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mw=41943040;class vi{static withCacheSize(t){return new vi(t,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(mw,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new lu(0)}static ur(){return new lu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="LruGarbageCollector",vO=1048576;function xT([i,t],[e,r]){const l=Jt(i,e);return l===0?Jt(t,r):l}class TO{constructor(t){this.Tr=t,this.buffer=new yn(xT),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();xT(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class EO{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){Rt(AT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){gu(e)?Rt(AT,"Ignoring IndexedDB error during garbage collection: ",e):await pu(e)}await this.Rr(3e5)}))}}class bO{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return dt.resolve(td.ue);const r=new TO(e);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.gr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(ST)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.pr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let r,l,h,f,_,y,T;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,f=Date.now(),this.nthSequenceNumber(t,l)))).next((x=>(r=x,_=Date.now(),this.removeTargets(t,r,e)))).next((x=>(h=x,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((x=>(T=Date.now(),Kl()<=ae.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${l} in `+(_-f)+`ms
	Removed ${h} targets in `+(y-_)+`ms
	Removed ${x} documents in `+(T-y)+`ms
Total Duration: ${T-S}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:x}))))}}function wO(i,t){return new bO(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.changes=new Jo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Zn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?dt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t,e,r,l){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,e)))).next((l=>(r!==null&&yc(r.mutation,l,Vi.empty(),Le.now()),l)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,oe()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=oe()){const l=jo();return this.populateOverlays(t,l,e).next((()=>this.computeViews(t,e,l,r).next((h=>{let f=cc();return h.forEach(((_,y)=>{f=f.insert(_,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const r=jo();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,oe())))}populateOverlays(t,e,r){const l=[];return r.forEach((h=>{e.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((f,_)=>{e.set(f,_)}))}))}computeViews(t,e,r,l){let h=jr();const f=_c(),_=(function(){return _c()})();return e.forEach(((y,T)=>{const S=r.get(T.key);l.has(T.key)&&(S===void 0||S.mutation instanceof to)?h=h.insert(T.key,T):S!==void 0?(f.set(T.key,S.mutation.getFieldMask()),yc(S.mutation,T,S.mutation.getFieldMask(),Le.now())):f.set(T.key,Vi.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((T,S)=>f.set(T,S))),e.forEach(((T,S)=>{var x;return _.set(T,new AO(S,(x=f.get(T))!==null&&x!==void 0?x:null))})),_)))}recalculateAndSaveOverlays(t,e){const r=_c();let l=new qe(((f,_)=>f-_)),h=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const _ of f)_.keys().forEach((y=>{const T=e.get(y);if(T===null)return;let S=r.get(y)||Vi.empty();S=_.applyToLocalView(T,S),r.set(y,S);const x=(l.get(_.batchId)||oe()).add(y);l=l.insert(_.batchId,x)}))})).next((()=>{const f=[],_=l.getReverseIterator();for(;_.hasNext();){const y=_.getNext(),T=y.key,S=y.value,x=Xb();S.forEach((C=>{if(!h.has(C)){const P=nw(e.get(C),r.get(C));P!==null&&x.set(C,P),h=h.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(t,T,x))}return dt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,l){return(function(f){return Mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Gb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,l):this.getDocumentsMatchingCollectionQuery(t,e,r,l)}getNextDocuments(t,e,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,l).next((h=>{const f=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,l-h.size):dt.resolve(jo());let _=xc,y=h;return f.next((T=>dt.forEach(T,((S,x)=>(_<x.largestBatchId&&(_=x.largestBatchId),h.get(S)?dt.resolve():this.remoteDocumentCache.getEntry(t,S).next((C=>{y=y.insert(S,C)}))))).next((()=>this.populateOverlays(t,T,h))).next((()=>this.computeViews(t,y,T,oe()))).next((S=>({batchId:_,changes:Qb(S)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Mt(e)).next((r=>{let l=cc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,l){const h=e.collectionGroup;let f=cc();return this.indexManager.getCollectionParents(t,h).next((_=>dt.forEach(_,(y=>{const T=(function(x,C){return new _u(C,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(e,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,r,l).next((S=>{S.forEach(((x,C)=>{f=f.insert(x,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((f=>(h=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,h,l)))).next((f=>{h.forEach(((y,T)=>{const S=T.getKey();f.get(S)===null&&(f=f.insert(S,Zn.newInvalidDocument(S)))}));let _=cc();return f.forEach(((y,T)=>{const S=h.get(y);S!==void 0&&yc(S.mutation,T,Vi.empty(),Le.now()),sd(e,T)&&(_=_.insert(y,T))})),_}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return dt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,(function(l){return{id:l.id,version:l.version,createTime:ir(l.createTime)}})(e)),dt.resolve()}getNamedQuery(t,e){return dt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,(function(l){return{name:l.name,query:gO(l.bundledQuery),readTime:ir(l.readTime)}})(e)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.overlays=new qe(Mt.comparator),this.kr=new Map}getOverlay(t,e){return dt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=jo();return dt.forEach(e,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((l,h)=>{this.wt(t,e,h)})),dt.resolve()}removeOverlaysForBatchId(t,e,r){const l=this.kr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.kr.delete(r)),dt.resolve()}getOverlaysForCollection(t,e,r){const l=jo(),h=e.length+1,f=new Mt(e.child("")),_=this.overlays.getIteratorFrom(f);for(;_.hasNext();){const y=_.getNext().value,T=y.getKey();if(!e.isPrefixOf(T.path))break;T.path.length===h&&y.largestBatchId>r&&l.set(y.getKey(),y)}return dt.resolve(l)}getOverlaysForCollectionGroup(t,e,r,l){let h=new qe(((T,S)=>T-S));const f=this.overlays.getIterator();for(;f.hasNext();){const T=f.getNext().value;if(T.getKey().getCollectionGroup()===e&&T.largestBatchId>r){let S=h.get(T.largestBatchId);S===null&&(S=jo(),h=h.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const _=jo(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((T,S)=>_.set(T,S))),!(_.size()>=l)););return dt.resolve(_)}wt(t,e,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.kr.get(l.largestBatchId).delete(r.key);this.kr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new K2(e,r));let h=this.kr.get(e);h===void 0&&(h=oe(),this.kr.set(e,h)),this.kr.set(e,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.qr=new yn(xn.Qr),this.$r=new yn(xn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const r=new xn(t,e);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new xn(t,e))}Gr(t,e){t.forEach((r=>this.removeReference(r,e)))}zr(t){const e=new Mt(new Pe([])),r=new xn(e,t),l=new xn(e,t+1),h=[];return this.$r.forEachInRange([r,l],(f=>{this.Wr(f),h.push(f.key)})),h}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new Mt(new Pe([])),r=new xn(e,t),l=new xn(e,t+1);let h=oe();return this.$r.forEachInRange([r,l],(f=>{h=h.add(f.key)})),h}containsKey(t){const e=new xn(t,0),r=this.qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class xn{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return Mt.comparator(t.key,e.key)||Jt(t.Hr,e.Hr)}static Ur(t,e){return Jt(t.Hr,e.Hr)||Mt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new yn(xn.Qr)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,l){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Z2(h,e,r,l);this.mutationQueue.push(f);for(const _ of l)this.Yr=this.Yr.add(new xn(_.key,h)),this.indexManager.addToCollectionParentIndex(t,_.key.path.popLast());return dt.resolve(f)}lookupMutationBatch(t,e){return dt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,l=this.Xr(r),h=l<0?0:l;return dt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?_g:this.er-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new xn(e,0),l=new xn(e,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([r,l],(f=>{const _=this.Zr(f.Hr);h.push(_)})),dt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new yn(Jt);return e.forEach((l=>{const h=new xn(l,0),f=new xn(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,f],(_=>{r=r.add(_.Hr)}))})),dt.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,l=r.length+1;let h=r;Mt.isDocumentKey(h)||(h=h.child(""));const f=new xn(new Mt(h),0);let _=new yn(Jt);return this.Yr.forEachWhile((y=>{const T=y.key.path;return!!r.isPrefixOf(T)&&(T.length===l&&(_=_.add(y.Hr)),!0)}),f),dt.resolve(this.ei(_))}ei(t){const e=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&e.push(l)})),e}removeMutationBatch(t,e){ve(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return dt.forEach(e.mutations,(l=>{const h=new xn(l.key,e.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Yr=r}))}rr(t){}containsKey(t,e){const r=new xn(e,0),l=this.Yr.firstAfterOrEqual(r);return dt.resolve(e.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t){this.ni=t,this.docs=(function(){return new qe(Mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,l=this.docs.get(r),h=l?l.size:0,f=this.ni(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:f}),this.size+=f-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return dt.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(e))}getEntries(t,e){let r=jr();return e.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Zn.newInvalidDocument(l))})),dt.resolve(r)}getDocumentsMatchingQuery(t,e,r,l){let h=jr();const f=e.path,_=new Mt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(_);for(;y.hasNext();){const{key:T,value:{document:S}}=y.getNext();if(!f.isPrefixOf(T.path))break;T.path.length>f.length+1||o2(a2(S),r)<=0||(l.has(S.key)||sd(e,S))&&(h=h.insert(S.key,S.mutableCopy()))}return dt.resolve(h)}getAllFromCollectionGroup(t,e,r,l){Ut(9500)}ri(t,e){return dt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new PO(this)}getSize(t){return dt.resolve(this.size)}}class PO extends SO{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?e.push(this.Or.addEntry(t,l)):this.Or.removeEntry(r)})),dt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.persistence=t,this.ii=new Jo((e=>Tg(e)),Eg),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.si=0,this.oi=new Cg,this.targetCount=0,this._i=lu.ar()}forEachTarget(t,e){return this.ii.forEach(((r,l)=>e(l))),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.si&&(this.si=e),dt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new lu(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,dt.resolve()}updateTargetData(t,e){return this.hr(e),dt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,e,r){let l=0;const h=[];return this.ii.forEach(((f,_)=>{_.sequenceNumber<=e&&r.get(_.targetId)===null&&(this.ii.delete(f),h.push(this.removeMatchingKeysForTargetId(t,_.targetId)),l++)})),dt.waitFor(h).next((()=>l))}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,e){const r=this.ii.get(e)||null;return dt.resolve(r)}addMatchingKeys(t,e,r){return this.oi.Kr(e,r),dt.resolve()}removeMatchingKeys(t,e,r){this.oi.Gr(e,r);const l=this.persistence.referenceDelegate,h=[];return l&&e.forEach((f=>{h.push(l.markPotentiallyOrphaned(t,f))})),dt.waitFor(h)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),dt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.oi.Jr(e);return dt.resolve(r)}containsKey(t,e){return dt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,e){this.ai={},this.overlays={},this.ui=new td(0),this.ci=!1,this.ci=!0,this.li=new IO,this.referenceDelegate=t(this),this.hi=new LO(this),this.indexManager=new _O,this.remoteDocumentCache=(function(l){return new NO(l)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new pO(e),this.Ti=new CO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new RO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ai[t.toKey()];return r||(r=new OO(e,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,r){Rt("MemoryPersistence","Starting transaction:",t);const l=new DO(this.ui.next());return this.referenceDelegate.Ii(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,e){return dt.or(Object.values(this.ai).map((r=>()=>r.containsKey(t,e))))}}class DO extends u2{constructor(t){super(),this.currentSequenceNumber=t}}class Rg{constructor(t){this.persistence=t,this.Ai=new Cg,this.Ri=null}static Vi(t){return new Rg(t)}get mi(){if(this.Ri)return this.Ri;throw Ut(60996)}addReference(t,e,r){return this.Ai.addReference(r,e),this.mi.delete(r.toString()),dt.resolve()}removeReference(t,e,r){return this.Ai.removeReference(r,e),this.mi.add(r.toString()),dt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),dt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach((l=>this.mi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((l=>{l.forEach((h=>this.mi.add(h.toString())))})).next((()=>r.removeTargetData(t,e)))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.mi,(r=>{const l=Mt.fromPath(r);return this.fi(t,l).next((h=>{h||e.removeEntry(l,Ft.min())}))})).next((()=>(this.Ri=null,e.apply(t))))}updateLimboDocument(t,e){return this.fi(t,e).next((r=>{r?this.mi.delete(e.toString()):this.mi.add(e.toString())}))}Pi(t){return 0}fi(t,e){return dt.or([()=>dt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class zf{constructor(t,e){this.persistence=t,this.gi=new Jo((r=>f2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=wO(this,e)}static Vi(t,e){return new zf(t,e)}Ii(){}di(t){return dt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((l=>r+l))))}yr(t){let e=0;return this.gr(t,(r=>{e++})).next((()=>e))}gr(t,e){return dt.forEach(this.gi,((r,l)=>this.Sr(t,r,l).next((h=>h?dt.resolve():e(l)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ri(t,(f=>this.Sr(t,f,e).next((_=>{_||(r++,h.removeEntry(f,Ft.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.gi.set(r,t.currentSequenceNumber),dt.resolve()}removeReference(t,e,r){return this.gi.set(r,t.currentSequenceNumber),dt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),dt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=gf(t.data.value)),e}Sr(t,e,r){return dt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const l=this.gi.get(e);return dt.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,e,r,l){this.targetId=t,this.fromCache=e,this.Is=r,this.ds=l}static Es(t,e){let r=oe(),l=oe();for(const h of e.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Ig(t,e.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return mx()?8:c2(Kn())>0?6:4})()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,r,l){const h={result:null};return this.ps(t,e).next((f=>{h.result=f})).next((()=>{if(!h.result)return this.ys(t,e,l,r).next((f=>{h.result=f}))})).next((()=>{if(h.result)return;const f=new MO;return this.ws(t,e,f).next((_=>{if(h.result=_,this.Rs)return this.Ss(t,e,f,_.size)}))})).next((()=>h.result))}Ss(t,e,r,l){return r.documentReadCount<this.Vs?(Kl()<=ae.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Yl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),dt.resolve()):(Kl()<=ae.DEBUG&&Rt("QueryEngine","Query:",Yl(e),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.fs*l?(Kl()<=ae.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Yl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,nr(e))):dt.resolve())}ps(t,e){if(mT(e))return dt.resolve(null);let r=nr(e);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(e.limit!==null&&l===1&&(e=Bp(e,null,"F"),r=nr(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const f=oe(...h);return this.gs.getDocuments(t,f).next((_=>this.indexManager.getMinOffset(t,r).next((y=>{const T=this.bs(e,_);return this.Ds(e,T,f,y.readTime)?this.ps(t,Bp(e,null,"F")):this.vs(t,T,e,y)}))))})))))}ys(t,e,r,l){return mT(e)||l.isEqual(Ft.min())?dt.resolve(null):this.gs.getDocuments(t,r).next((h=>{const f=this.bs(e,h);return this.Ds(e,f,r,l)?dt.resolve(null):(Kl()<=ae.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Yl(e)),this.vs(t,f,e,r2(l,xc)).next((_=>_)))}))}bs(t,e){let r=new yn(Kb(t));return e.forEach(((l,h)=>{sd(t,h)&&(r=r.add(h))})),r}Ds(t,e,r,l){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const h=t.limitType==="F"?e.last():e.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ws(t,e,r){return Kl()<=ae.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Yl(e)),this.gs.getDocumentsMatchingQuery(t,e,Ga.min(),r)}vs(t,e,r,l){return this.gs.getDocumentsMatchingQuery(t,r,l).next((h=>(e.forEach((f=>{h=h.insert(f.key,f)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="LocalStore",VO=3e8;class zO{constructor(t,e,r,l){this.persistence=t,this.Cs=e,this.serializer=l,this.Fs=new qe(Jt),this.Ms=new Jo((h=>Tg(h)),Eg),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Fs)))}}function UO(i,t,e,r){return new zO(i,t,e,r)}async function gw(i,t){const e=Gt(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return e.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,e.Ns(t),e.mutationQueue.getAllMutationBatches(r)))).next((h=>{const f=[],_=[];let y=oe();for(const T of l){f.push(T.batchId);for(const S of T.mutations)y=y.add(S.key)}for(const T of h){_.push(T.batchId);for(const S of T.mutations)y=y.add(S.key)}return e.localDocuments.getDocuments(r,y).next((T=>({Bs:T,removedBatchIds:f,addedBatchIds:_})))}))}))}function BO(i,t){const e=Gt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=e.Os.newChangeBuffer({trackRemovals:!0});return(function(_,y,T,S){const x=T.batch,C=x.keys();let P=dt.resolve();return C.forEach((G=>{P=P.next((()=>S.getEntry(y,G))).next((Z=>{const K=T.docVersions.get(G);ve(K!==null,48541),Z.version.compareTo(K)<0&&(x.applyToRemoteDocument(Z,T),Z.isValidDocument()&&(Z.setReadTime(T.commitVersion),S.addEntry(Z)))}))})),P.next((()=>_.mutationQueue.removeMutationBatch(y,x)))})(e,r,t,h).next((()=>h.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let y=oe();for(let T=0;T<_.mutationResults.length;++T)_.mutationResults[T].transformResults.length>0&&(y=y.add(_.batch.mutations[T].key));return y})(t)))).next((()=>e.localDocuments.getDocuments(r,l)))}))}function _w(i){const t=Gt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.hi.getLastRemoteSnapshotVersion(e)))}function jO(i,t){const e=Gt(i),r=t.snapshotVersion;let l=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const f=e.Os.newChangeBuffer({trackRemovals:!0});l=e.Fs;const _=[];t.targetChanges.forEach(((S,x)=>{const C=l.get(x);if(!C)return;_.push(e.hi.removeMatchingKeys(h,S.removedDocuments,x).next((()=>e.hi.addMatchingKeys(h,S.addedDocuments,x))));let P=C.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(x)!==null?P=P.withResumeToken(Vn.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):S.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(S.resumeToken,r)),l=l.insert(x,P),(function(Z,K,ht){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=VO?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(C,P,S)&&_.push(e.hi.updateTargetData(h,P))}));let y=jr(),T=oe();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&_.push(e.persistence.referenceDelegate.updateLimboDocument(h,S))})),_.push(HO(h,f,t.documentUpdates).next((S=>{y=S.Ls,T=S.ks}))),!r.isEqual(Ft.min())){const S=e.hi.getLastRemoteSnapshotVersion(h).next((x=>e.hi.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(S)}return dt.waitFor(_).next((()=>f.apply(h))).next((()=>e.localDocuments.getLocalViewOfDocuments(h,y,T))).next((()=>y))})).then((h=>(e.Fs=l,h)))}function HO(i,t,e){let r=oe(),l=oe();return e.forEach((h=>r=r.add(h))),t.getEntries(i,r).next((h=>{let f=jr();return e.forEach(((_,y)=>{const T=h.get(_);y.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(_)),y.isNoDocument()&&y.version.isEqual(Ft.min())?(t.removeEntry(_,y.readTime),f=f.insert(_,y)):!T.isValidDocument()||y.version.compareTo(T.version)>0||y.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(y),f=f.insert(_,y)):Rt(Og,"Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",y.version)})),{Ls:f,ks:l}}))}function FO(i,t){const e=Gt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=_g),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function qO(i,t){const e=Gt(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return e.hi.getTargetData(r,t).next((h=>h?(l=h,dt.resolve(l)):e.hi.allocateTargetId(r).next((f=>(l=new ka(t,f,"TargetPurposeListen",r.currentSequenceNumber),e.hi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=e.Fs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(r.targetId,r),e.Ms.set(t,r.targetId)),r}))}async function Gp(i,t,e){const r=Gt(i),l=r.Fs.get(t),h=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",h,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!gu(f))throw f;Rt(Og,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(l.target)}function CT(i,t,e){const r=Gt(i);let l=Ft.min(),h=oe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,T,S){const x=Gt(y),C=x.Ms.get(S);return C!==void 0?dt.resolve(x.Fs.get(C)):x.hi.getTargetData(T,S)})(r,f,nr(t)).next((_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(f,_.targetId).next((y=>{h=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,t,e?l:Ft.min(),e?h:oe()))).next((_=>(GO(r,N2(t),_),{documents:_,qs:h})))))}function GO(i,t,e){let r=i.xs.get(t)||Ft.min();e.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),i.xs.set(t,r)}class RT{constructor(){this.activeTargetIds=V2()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZO{constructor(){this.Fo=new RT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,r){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new RT,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="ConnectivityMonitor";class OT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Rt(IT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){Rt(IT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=null;function Zp(){return lf===null?lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():lf++,"0x"+lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="RestConnection",YO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QO{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.Ko=this.databaseId.database===Pf?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,e,r,l,h){const f=Zp(),_=this.Go(t,e.toUriEncodedString());Rt(dp,`Sending RPC '${t}' ${f}:`,_,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,l,h);const{host:T}=new URL(_),S=hu(T);return this.jo(t,_,y,r,S).then((x=>(Rt(dp,`Received RPC '${t}' ${f}: `,x),x)),(x=>{throw qa(dp,`RPC '${t}' ${f} failed with error: `,x,"url: ",_,"request:",r),x}))}Jo(t,e,r,l,h,f){return this.Wo(t,e,r,l,h)}zo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}Go(t,e){const r=YO[t];return`${this.$o}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class WO extends QO{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,r,l,h){const f=Zp();return new Promise(((_,y)=>{const T=new yb;T.setWithCredentials(!0),T.listenOnce(vb.COMPLETE,(()=>{try{switch(T.getLastErrorCode()){case pf.NO_ERROR:const x=T.getResponseJson();Rt(qn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(x)),_(x);break;case pf.TIMEOUT:Rt(qn,`RPC '${t}' ${f} timed out`),y(new Ct(ct.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const C=T.getStatus();if(Rt(qn,`RPC '${t}' ${f} failed with status:`,C,"response text:",T.getResponseText()),C>0){let P=T.getResponseJson();Array.isArray(P)&&(P=P[0]);const G=P==null?void 0:P.error;if(G&&G.status&&G.message){const Z=(function(ht){const pt=ht.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(pt)>=0?pt:ct.UNKNOWN})(G.status);y(new Ct(Z,G.message))}else y(new Ct(ct.UNKNOWN,"Server responded with status "+T.getStatus()))}else y(new Ct(ct.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{c_:t,streamId:f,l_:T.getLastErrorCode(),h_:T.getLastError()})}}finally{Rt(qn,`RPC '${t}' ${f} completed.`)}}));const S=JSON.stringify(l);Rt(qn,`RPC '${t}' ${f} sending request:`,l),T.send(e,"POST",S,r,15)}))}P_(t,e,r){const l=Zp(),h=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=bb(),_=Eb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(y.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,e,r),y.encodeInitMessageHeaders=!0;const S=h.join("");Rt(qn,`Creating RPC '${t}' stream ${l}: ${S}`,y);const x=f.createWebChannel(S,y);this.T_(x);let C=!1,P=!1;const G=new XO({Ho:K=>{P?Rt(qn,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(C||(Rt(qn,`Opening RPC '${t}' stream ${l} transport.`),x.open(),C=!0),Rt(qn,`RPC '${t}' stream ${l} sending:`,K),x.send(K))},Yo:()=>x.close()}),Z=(K,ht,pt)=>{K.listen(ht,(_t=>{try{pt(_t)}catch(wt){setTimeout((()=>{throw wt}),0)}}))};return Z(x,uc.EventType.OPEN,(()=>{P||(Rt(qn,`RPC '${t}' stream ${l} transport opened.`),G.s_())})),Z(x,uc.EventType.CLOSE,(()=>{P||(P=!0,Rt(qn,`RPC '${t}' stream ${l} transport closed`),G.__(),this.I_(x))})),Z(x,uc.EventType.ERROR,(K=>{P||(P=!0,qa(qn,`RPC '${t}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),G.__(new Ct(ct.UNAVAILABLE,"The operation could not be completed")))})),Z(x,uc.EventType.MESSAGE,(K=>{var ht;if(!P){const pt=K.data[0];ve(!!pt,16349);const _t=pt,wt=(_t==null?void 0:_t.error)||((ht=_t[0])===null||ht===void 0?void 0:ht.error);if(wt){Rt(qn,`RPC '${t}' stream ${l} received error:`,wt);const gt=wt.status;let xt=(function(D){const H=ln[D];if(H!==void 0)return sw(H)})(gt),k=wt.message;xt===void 0&&(xt=ct.INTERNAL,k="Unknown error status: "+gt+" with message "+wt.message),P=!0,G.__(new Ct(xt,k)),x.close()}else Rt(qn,`RPC '${t}' stream ${l} received:`,pt),G.a_(pt)}})),Z(_,Tb.STAT_EVENT,(K=>{K.stat===Lp.PROXY?Rt(qn,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===Lp.NOPROXY&&Rt(qn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.o_()}),0),G}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((e=>e===t))}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(i){return new eO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,e,r=1e3,l=1.5,h=6e4){this.Fi=t,this.timerId=e,this.d_=r,this.E_=l,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),l=Math.max(0,e-r);l>0&&Rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="PersistentStream";class vw{constructor(t,e,r,l,h,f,_,y){this.Fi=t,this.w_=r,this.S_=l,this.connection=h,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=_,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new yw(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(Br(e.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.b_===e&&this.W_(r,l)}),(r=>{t((()=>{const l=new Ct(ct.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(l)}))}))}W_(t,e){const r=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((l=>{r((()=>this.G_(l)))})),this.stream.onMessage((l=>{r((()=>++this.C_==1?this.j_(l):this.onNext(l)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return Rt(NT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget((()=>this.b_===t?e():(Rt(NT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $O extends vw{constructor(t,e,r,l,h,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,l,f),this.serializer=h}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=sO(this.serializer,t),r=(function(h){if(!("targetChange"in h))return Ft.min();const f=h.targetChange;return f.targetIds&&f.targetIds.length?Ft.min():f.readTime?ir(f.readTime):Ft.min()})(t);return this.listener.J_(e,r)}H_(t){const e={};e.database=qp(this.serializer),e.addTarget=(function(h,f){let _;const y=f.target;if(_=zp(y)?{documents:oO(h,y)}:{query:lO(h,y).Vt},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){_.resumeToken=ow(h,f.resumeToken);const T=jp(h,f.expectedCount);T!==null&&(_.expectedCount=T)}else if(f.snapshotVersion.compareTo(Ft.min())>0){_.readTime=Vf(h,f.snapshotVersion.toTimestamp());const T=jp(h,f.expectedCount);T!==null&&(_.expectedCount=T)}return _})(this.serializer,t);const r=cO(this.serializer,t);r&&(e.labels=r),this.k_(e)}Y_(t){const e={};e.database=qp(this.serializer),e.removeTarget=t,this.k_(e)}}class JO extends vw{constructor(t,e,r,l,h,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,l,f),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return ve(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ve(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){ve(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=aO(t.writeResults,t.commitTime),r=ir(t.commitTime);return this.listener.ta(r,e)}na(){const t={};t.database=qp(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>rO(this.serializer,r)))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{}class eN extends tN{constructor(t,e,r,l){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new Ct(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Wo(t,Hp(e,r),l,h,f))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ct(ct.UNKNOWN,h.toString())}))}Jo(t,e,r,l,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,_])=>this.connection.Jo(t,Hp(e,r),l,f,_,h))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ct(ct.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class nN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Br(e),this._a=!1):Rt("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class iN{constructor(t,e,r,l,h){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo((f=>{r.enqueueAndForget((async()=>{tl(this)&&(Rt(Qo,"Restarting streams for network reachability change."),await(async function(y){const T=Gt(y);T.Ia.add(4),await Gc(T),T.Aa.set("Unknown"),T.Ia.delete(4),await ud(T)})(this))}))})),this.Aa=new nN(r,l)}}async function ud(i){if(tl(i))for(const t of i.da)await t(!0)}async function Gc(i){for(const t of i.da)await t(!1)}function Tw(i,t){const e=Gt(i);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),Dg(e)?Lg(e):yu(e).x_()&&Pg(e,t))}function Ng(i,t){const e=Gt(i),r=yu(e);e.Ta.delete(t),r.x_()&&Ew(e,t),e.Ta.size===0&&(r.x_()?r.B_():tl(e)&&e.Aa.set("Unknown"))}function Pg(i,t){if(i.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}yu(i).H_(t)}function Ew(i,t){i.Ra.$e(t),yu(i).Y_(t)}function Lg(i){i.Ra=new W2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>i.Ta.get(t)||null,lt:()=>i.datastore.serializer.databaseId}),yu(i).start(),i.Aa.aa()}function Dg(i){return tl(i)&&!yu(i).M_()&&i.Ta.size>0}function tl(i){return Gt(i).Ia.size===0}function bw(i){i.Ra=void 0}async function sN(i){i.Aa.set("Online")}async function rN(i){i.Ta.forEach(((t,e)=>{Pg(i,t)}))}async function aN(i,t){bw(i),Dg(i)?(i.Aa.la(t),Lg(i)):i.Aa.set("Unknown")}async function oN(i,t,e){if(i.Aa.set("Online"),t instanceof aw&&t.state===2&&t.cause)try{await(async function(l,h){const f=h.cause;for(const _ of h.targetIds)l.Ta.has(_)&&(await l.remoteSyncer.rejectListen(_,f),l.Ta.delete(_),l.Ra.removeTarget(_))})(i,t)}catch(r){Rt(Qo,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Uf(i,r)}else if(t instanceof vf?i.Ra.Ye(t):t instanceof rw?i.Ra.it(t):i.Ra.et(t),!e.isEqual(Ft.min()))try{const r=await _w(i.localStore);e.compareTo(r)>=0&&await(function(h,f){const _=h.Ra.Pt(f);return _.targetChanges.forEach(((y,T)=>{if(y.resumeToken.approximateByteSize()>0){const S=h.Ta.get(T);S&&h.Ta.set(T,S.withResumeToken(y.resumeToken,f))}})),_.targetMismatches.forEach(((y,T)=>{const S=h.Ta.get(y);if(!S)return;h.Ta.set(y,S.withResumeToken(Vn.EMPTY_BYTE_STRING,S.snapshotVersion)),Ew(h,y);const x=new ka(S.target,y,T,S.sequenceNumber);Pg(h,x)})),h.remoteSyncer.applyRemoteEvent(_)})(i,e)}catch(r){Rt(Qo,"Failed to raise snapshot:",r),await Uf(i,r)}}async function Uf(i,t,e){if(!gu(t))throw t;i.Ia.add(1),await Gc(i),i.Aa.set("Offline"),e||(e=()=>_w(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Rt(Qo,"Retrying IndexedDB access"),await e(),i.Ia.delete(1),await ud(i)}))}function ww(i,t){return t().catch((e=>Uf(i,e,t)))}async function cd(i){const t=Gt(i),e=Qa(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:_g;for(;lN(t);)try{const l=await FO(t.localStore,r);if(l===null){t.Pa.length===0&&e.B_();break}r=l.batchId,uN(t,l)}catch(l){await Uf(t,l)}Sw(t)&&Aw(t)}function lN(i){return tl(i)&&i.Pa.length<10}function uN(i,t){i.Pa.push(t);const e=Qa(i);e.x_()&&e.Z_&&e.X_(t.mutations)}function Sw(i){return tl(i)&&!Qa(i).M_()&&i.Pa.length>0}function Aw(i){Qa(i).start()}async function cN(i){Qa(i).na()}async function hN(i){const t=Qa(i);for(const e of i.Pa)t.X_(e.mutations)}async function fN(i,t,e){const r=i.Pa.shift(),l=Sg.from(r,t,e);await ww(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await cd(i)}async function dN(i,t){t&&Qa(i).Z_&&await(async function(r,l){if((function(f){return Q2(f)&&f!==ct.ABORTED})(l.code)){const h=r.Pa.shift();Qa(r).N_(),await ww(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await cd(r)}})(i,t),Sw(i)&&Aw(i)}async function PT(i,t){const e=Gt(i);e.asyncQueue.verifyOperationInProgress(),Rt(Qo,"RemoteStore received new credentials");const r=tl(e);e.Ia.add(3),await Gc(e),r&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await ud(e)}async function mN(i,t){const e=Gt(i);t?(e.Ia.delete(2),await ud(e)):t||(e.Ia.add(2),await Gc(e),e.Aa.set("Unknown"))}function yu(i){return i.Va||(i.Va=(function(e,r,l){const h=Gt(e);return h.ia(),new $O(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Zo:sN.bind(null,i),e_:rN.bind(null,i),n_:aN.bind(null,i),J_:oN.bind(null,i)}),i.da.push((async t=>{t?(i.Va.N_(),Dg(i)?Lg(i):i.Aa.set("Unknown")):(await i.Va.stop(),bw(i))}))),i.Va}function Qa(i){return i.ma||(i.ma=(function(e,r,l){const h=Gt(e);return h.ia(),new JO(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:cN.bind(null,i),n_:dN.bind(null,i),ea:hN.bind(null,i),ta:fN.bind(null,i)}),i.da.push((async t=>{t?(i.ma.N_(),await cd(i)):(await i.ma.stop(),i.Pa.length>0&&(Rt(Qo,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,e,r,l,h){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,l,h){const f=Date.now()+r,_=new Mg(t,e,f,l,h);return _.start(r),_}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(i,t){if(Br("AsyncQueue",`${t}: ${i}`),gu(i))return new Ct(ct.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{static emptySet(t){return new eu(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Mt.comparator(e.key,r.key):(e,r)=>Mt.comparator(e.key,r.key),this.keyedMap=cc(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof eu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new eu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.fa=new qe(Mt.comparator)}track(t){const e=t.doc.key,r=this.fa.get(e);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(e,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(e):t.type===1&&r.type===2?this.fa=this.fa.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Ut(63341,{At:t,ga:r}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal(((e,r)=>{t.push(r)})),t}}class uu{constructor(t,e,r,l,h,f,_,y,T){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=y,this.hasCachedResults=T}static fromInitialDocuments(t,e,r,l,h){const f=[];return e.forEach((_=>{f.push({type:0,doc:_})})),new uu(t,e,eu.emptySet(e),f,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&id(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let l=0;l<e.length;l++)if(e[l].type!==r[l].type||!e[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class gN{constructor(){this.queries=DT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,r){const l=Gt(e),h=l.queries;l.queries=DT(),h.forEach(((f,_)=>{for(const y of _.wa)y.onError(r)}))})(this,new Ct(ct.ABORTED,"Firestore shutting down"))}}function DT(){return new Jo((i=>Zb(i)),id)}async function _N(i,t){const e=Gt(i);let r=3;const l=t.query;let h=e.queries.get(l);h?!h.Sa()&&t.ba()&&(r=2):(h=new pN,r=t.ba()?0:1);try{switch(r){case 0:h.ya=await e.onListen(l,!0);break;case 1:h.ya=await e.onListen(l,!1);break;case 2:await e.onFirstRemoteStoreListen(l)}}catch(f){const _=kg(f,`Initialization of query '${Yl(t.query)}' failed`);return void t.onError(_)}e.queries.set(l,h),h.wa.push(t),t.va(e.onlineState),h.ya&&t.Ca(h.ya)&&Vg(e)}async function yN(i,t){const e=Gt(i),r=t.query;let l=3;const h=e.queries.get(r);if(h){const f=h.wa.indexOf(t);f>=0&&(h.wa.splice(f,1),h.wa.length===0?l=t.ba()?0:1:!h.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function vN(i,t){const e=Gt(i);let r=!1;for(const l of t){const h=l.query,f=e.queries.get(h);if(f){for(const _ of f.wa)_.Ca(l)&&(r=!0);f.ya=l}}r&&Vg(e)}function TN(i,t,e){const r=Gt(i),l=r.queries.get(t);if(l)for(const h of l.wa)h.onError(e);r.queries.delete(t)}function Vg(i){i.Da.forEach((t=>{t.next()}))}var Kp,MT;(MT=Kp||(Kp={})).Fa="default",MT.Cache="cache";class EN{constructor(t,e,r){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new uu(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const r=e!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=uu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.key=t}}class Cw{constructor(t){this.key=t}}class bN{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=oe(),this.mutatedKeys=oe(),this.Xa=Kb(t),this.eu=new eu(this.Xa)}get tu(){return this.Ha}nu(t,e){const r=e?e.ru:new LT,l=e?e.eu:this.eu;let h=e?e.mutatedKeys:this.mutatedKeys,f=l,_=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,x)=>{const C=l.get(S),P=sd(this.query,x)?x:null,G=!!C&&this.mutatedKeys.has(C.key),Z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let K=!1;C&&P?C.data.isEqual(P.data)?G!==Z&&(r.track({type:3,doc:P}),K=!0):this.iu(C,P)||(r.track({type:2,doc:P}),K=!0,(y&&this.Xa(P,y)>0||T&&this.Xa(P,T)<0)&&(_=!0)):!C&&P?(r.track({type:0,doc:P}),K=!0):C&&!P&&(r.track({type:1,doc:C}),K=!0,(y||T)&&(_=!0)),K&&(P?(f=f.add(P),h=Z?h.add(S):h.delete(S)):(f=f.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{eu:f,ru:r,Ds:_,mutatedKeys:h}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,l){const h=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort(((S,x)=>(function(P,G){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{At:K})}};return Z(P)-Z(G)})(S.type,x.type)||this.Xa(S.doc,x.doc))),this.su(r),l=l!=null&&l;const _=e&&!l?this.ou():[],y=this.Za.size===0&&this.current&&!l?1:0,T=y!==this.Ya;return this.Ya=y,f.length!==0||T?{snapshot:new uu(this.query,t.eu,h,f,t.mutatedKeys,y===0,T,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:_}:{_u:_}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new LT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=oe(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const e=[];return t.forEach((r=>{this.Za.has(r)||e.push(new Cw(r))})),this.Za.forEach((r=>{t.has(r)||e.push(new xw(r))})),e}uu(t){this.Ha=t.qs,this.Za=oe();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return uu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const zg="SyncEngine";class wN{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class SN{constructor(t){this.key=t,this.lu=!1}}class AN{constructor(t,e,r,l,h,f){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Jo((_=>Zb(_)),id),this.Tu=new Map,this.Iu=new Set,this.du=new qe(Mt.comparator),this.Eu=new Map,this.Au=new Cg,this.Ru={},this.Vu=new Map,this.mu=lu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function xN(i,t,e=!0){const r=Lw(i);let l;const h=r.Pu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.cu()):l=await Rw(r,t,e,!0),l}async function CN(i,t){const e=Lw(i);await Rw(e,t,!0,!1)}async function Rw(i,t,e,r){const l=await qO(i.localStore,nr(t)),h=l.targetId,f=i.sharedClientState.addLocalQueryTarget(h,e);let _;return r&&(_=await RN(i,t,h,f==="current",l.resumeToken)),i.isPrimaryClient&&e&&Tw(i.remoteStore,l),_}async function RN(i,t,e,r,l){i.gu=(x,C,P)=>(async function(Z,K,ht,pt){let _t=K.view.nu(ht);_t.Ds&&(_t=await CT(Z.localStore,K.query,!1).then((({documents:k})=>K.view.nu(k,_t))));const wt=pt&&pt.targetChanges.get(K.targetId),gt=pt&&pt.targetMismatches.get(K.targetId)!=null,xt=K.view.applyChanges(_t,Z.isPrimaryClient,wt,gt);return VT(Z,K.targetId,xt._u),xt.snapshot})(i,x,C,P);const h=await CT(i.localStore,t,!0),f=new bN(t,h.qs),_=f.nu(h.documents),y=qc.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",l),T=f.applyChanges(_,i.isPrimaryClient,y);VT(i,e,T._u);const S=new wN(t,e,f);return i.Pu.set(t,S),i.Tu.has(e)?i.Tu.get(e).push(t):i.Tu.set(e,[t]),T.snapshot}async function IN(i,t,e){const r=Gt(i),l=r.Pu.get(t),h=r.Tu.get(l.targetId);if(h.length>1)return r.Tu.set(l.targetId,h.filter((f=>!id(f,t)))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Gp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),e&&Ng(r.remoteStore,l.targetId),Yp(r,l.targetId)})).catch(pu)):(Yp(r,l.targetId),await Gp(r.localStore,l.targetId,!0))}async function ON(i,t){const e=Gt(i),r=e.Pu.get(t),l=e.Tu.get(r.targetId);e.isPrimaryClient&&l.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Ng(e.remoteStore,r.targetId))}async function NN(i,t,e){const r=zN(i);try{const l=await(function(f,_){const y=Gt(f),T=Le.now(),S=_.reduce(((P,G)=>P.add(G.key)),oe());let x,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let G=jr(),Z=oe();return y.Os.getEntries(P,S).next((K=>{G=K,G.forEach(((ht,pt)=>{pt.isValidDocument()||(Z=Z.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(P,G))).next((K=>{x=K;const ht=[];for(const pt of _){const _t=q2(pt,x.get(pt.key).overlayedDocument);_t!=null&&ht.push(new to(pt.key,_t,Vb(_t.value.mapValue),vs.exists(!0)))}return y.mutationQueue.addMutationBatch(P,T,ht,_)})).next((K=>{C=K;const ht=K.applyToLocalDocumentSet(x,Z);return y.documentOverlayCache.saveOverlays(P,K.batchId,ht)}))})).then((()=>({batchId:C.batchId,changes:Qb(x)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(f,_,y){let T=f.Ru[f.currentUser.toKey()];T||(T=new qe(Jt)),T=T.insert(_,y),f.Ru[f.currentUser.toKey()]=T})(r,l.batchId,e),await Zc(r,l.changes),await cd(r.remoteStore)}catch(l){const h=kg(l,"Failed to persist write");e.reject(h)}}async function Iw(i,t){const e=Gt(i);try{const r=await jO(e.localStore,t);t.targetChanges.forEach(((l,h)=>{const f=e.Eu.get(h);f&&(ve(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.lu=!0:l.modifiedDocuments.size>0?ve(f.lu,14607):l.removedDocuments.size>0&&(ve(f.lu,42227),f.lu=!1))})),await Zc(e,r,t)}catch(r){await pu(r)}}function kT(i,t,e){const r=Gt(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const l=[];r.Pu.forEach(((h,f)=>{const _=f.view.va(t);_.snapshot&&l.push(_.snapshot)})),(function(f,_){const y=Gt(f);y.onlineState=_;let T=!1;y.queries.forEach(((S,x)=>{for(const C of x.wa)C.va(_)&&(T=!0)})),T&&Vg(y)})(r.eventManager,t),l.length&&r.hu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function PN(i,t,e){const r=Gt(i);r.sharedClientState.updateQueryState(t,"rejected",e);const l=r.Eu.get(t),h=l&&l.key;if(h){let f=new qe(Mt.comparator);f=f.insert(h,Zn.newNoDocument(h,Ft.min()));const _=oe().add(h),y=new od(Ft.min(),new Map,new qe(Jt),f,_);await Iw(r,y),r.du=r.du.remove(h),r.Eu.delete(t),Ug(r)}else await Gp(r.localStore,t,!1).then((()=>Yp(r,t,e))).catch(pu)}async function LN(i,t){const e=Gt(i),r=t.batch.batchId;try{const l=await BO(e.localStore,t);Nw(e,r,null),Ow(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Zc(e,l)}catch(l){await pu(l)}}async function DN(i,t,e){const r=Gt(i);try{const l=await(function(f,_){const y=Gt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(T=>{let S;return y.mutationQueue.lookupMutationBatch(T,_).next((x=>(ve(x!==null,37113),S=x.keys(),y.mutationQueue.removeMutationBatch(T,x)))).next((()=>y.mutationQueue.performConsistencyCheck(T))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(T,S,_))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,S))).next((()=>y.localDocuments.getDocuments(T,S)))}))})(r.localStore,t);Nw(r,t,e),Ow(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Zc(r,l)}catch(l){await pu(l)}}function Ow(i,t){(i.Vu.get(t)||[]).forEach((e=>{e.resolve()})),i.Vu.delete(t)}function Nw(i,t,e){const r=Gt(i);let l=r.Ru[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(e?h.reject(e):h.resolve(),l=l.remove(t)),r.Ru[r.currentUser.toKey()]=l}}function Yp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Tu.get(t))i.Pu.delete(r),e&&i.hu.pu(r,e);i.Tu.delete(t),i.isPrimaryClient&&i.Au.zr(t).forEach((r=>{i.Au.containsKey(r)||Pw(i,r)}))}function Pw(i,t){i.Iu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(Ng(i.remoteStore,e),i.du=i.du.remove(t),i.Eu.delete(e),Ug(i))}function VT(i,t,e){for(const r of e)r instanceof xw?(i.Au.addReference(r.key,t),MN(i,r)):r instanceof Cw?(Rt(zg,"Document no longer in limbo: "+r.key),i.Au.removeReference(r.key,t),i.Au.containsKey(r.key)||Pw(i,r.key)):Ut(19791,{yu:r})}function MN(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Iu.has(r)||(Rt(zg,"New document in limbo: "+e),i.Iu.add(r),Ug(i))}function Ug(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Iu.values().next().value;i.Iu.delete(t);const e=new Mt(Pe.fromString(t)),r=i.mu.next();i.Eu.set(r,new SN(e)),i.du=i.du.insert(e,r),Tw(i.remoteStore,new ka(nr(qb(e.path)),r,"TargetPurposeLimboResolution",td.ue))}}async function Zc(i,t,e){const r=Gt(i),l=[],h=[],f=[];r.Pu.isEmpty()||(r.Pu.forEach(((_,y)=>{f.push(r.gu(y,t,e).then((T=>{var S;if((T||e)&&r.isPrimaryClient){const x=T?!T.fromCache:(S=e==null?void 0:e.targetChanges.get(y.targetId))===null||S===void 0?void 0:S.current;r.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(T){l.push(T);const x=Ig.Es(y.targetId,T);h.push(x)}})))})),await Promise.all(f),r.hu.J_(l),await(async function(y,T){const S=Gt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>dt.forEach(T,(C=>dt.forEach(C.Is,(P=>S.persistence.referenceDelegate.addReference(x,C.targetId,P))).next((()=>dt.forEach(C.ds,(P=>S.persistence.referenceDelegate.removeReference(x,C.targetId,P)))))))))}catch(x){if(!gu(x))throw x;Rt(Og,"Failed to update sequence numbers: "+x)}for(const x of T){const C=x.targetId;if(!x.fromCache){const P=S.Fs.get(C),G=P.snapshotVersion,Z=P.withLastLimboFreeSnapshotVersion(G);S.Fs=S.Fs.insert(C,Z)}}})(r.localStore,h))}async function kN(i,t){const e=Gt(i);if(!e.currentUser.isEqual(t)){Rt(zg,"User change. New user:",t.toKey());const r=await gw(e.localStore,t);e.currentUser=t,(function(h,f){h.Vu.forEach((_=>{_.forEach((y=>{y.reject(new Ct(ct.CANCELLED,f))}))})),h.Vu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Zc(e,r.Bs)}}function VN(i,t){const e=Gt(i),r=e.Eu.get(t);if(r&&r.lu)return oe().add(r.key);{let l=oe();const h=e.Tu.get(t);if(!h)return l;for(const f of h){const _=e.Pu.get(f);l=l.unionWith(_.view.tu)}return l}}function Lw(i){const t=Gt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Iw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PN.bind(null,t),t.hu.J_=vN.bind(null,t.eventManager),t.hu.pu=TN.bind(null,t.eventManager),t}function zN(i){const t=Gt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DN.bind(null,t),t}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ld(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return UO(this.persistence,new kO,t.initialUser,this.serializer)}Du(t){return new pw(Rg.Vi,this.serializer)}bu(t){return new ZO}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class UN extends Bf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){ve(this.persistence.referenceDelegate instanceof zf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EO(r,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new pw((r=>zf.Vi(r,e)),this.serializer)}}class Qp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kN.bind(null,this.syncEngine),await mN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gN})()}createDatastore(t){const e=ld(t.databaseInfo.databaseId),r=(function(h){return new WO(h)})(t.databaseInfo);return(function(h,f,_,y){return new eN(h,f,_,y)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,l,h,f,_){return new iN(r,l,h,f,_)})(this.localStore,this.datastore,t.asyncQueue,(e=>kT(this.syncEngine,e,0)),(function(){return OT.C()?new OT:new KO})())}createSyncEngine(t,e){return(function(l,h,f,_,y,T,S){const x=new AN(l,h,f,_,y,T);return S&&(x.fu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(l){const h=Gt(l);Rt(Qo,"RemoteStore shutting down."),h.Ia.add(5),await Gc(h),h.Ea.shutdown(),h.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Qp.provider={build:()=>new Qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Br("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="FirestoreClient";class jN{constructor(t,e,r,l,h){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=l,this.user=Gn.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async f=>{Rt(Xa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(Rt(Xa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=kg(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function pp(i,t){i.asyncQueue.verifyOperationInProgress(),Rt(Xa,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await gw(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>{qa("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{Rt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((l=>{qa("Terminating Firestore due to IndexedDb database deletion failed",l)}))})),i._offlineComponents=t}async function zT(i,t){i.asyncQueue.verifyOperationInProgress();const e=await HN(i);Rt(Xa,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>PT(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>PT(t.remoteStore,l))),i._onlineComponents=t}async function HN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Rt(Xa,"Using user provided OfflineComponentProvider");try{await pp(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ct.FAILED_PRECONDITION||l.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(e))throw e;qa("Error using user provided cache. Falling back to memory cache: "+e),await pp(i,new Bf)}}else Rt(Xa,"Using default OfflineComponentProvider"),await pp(i,new UN(void 0));return i._offlineComponents}async function Dw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Rt(Xa,"Using user provided OnlineComponentProvider"),await zT(i,i._uninitializedComponentsProvider._online)):(Rt(Xa,"Using default OnlineComponentProvider"),await zT(i,new Qp))),i._onlineComponents}function FN(i){return Dw(i).then((t=>t.syncEngine))}async function qN(i){const t=await Dw(i),e=t.eventManager;return e.onListen=xN.bind(null,t.syncEngine),e.onUnlisten=IN.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=CN.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=ON.bind(null,t.syncEngine),e}function GN(i,t,e={}){const r=new Ha;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,_,y,T){const S=new BN({next:C=>{S.Ou(),f.enqueueAndForget((()=>yN(h,x))),C.fromCache&&y.source==="server"?T.reject(new Ct(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(C)},error:C=>T.reject(C)}),x=new EN(_,S,{includeMetadataChanges:!0,ka:!0});return _N(h,x)})(await qN(i),i.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firestore.googleapis.com",BT=!0;class jT{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kw,this.ssl=BT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:BT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vO)throw new Ct(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}s2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Ct(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hd{constructor(t,e,r,l){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QI;switch(r.type){case"firstParty":return new JI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=UT.get(e);r&&(Rt("ComponentProvider","Removing Datastore"),UT.delete(e),r.terminate())})(this),Promise.resolve()}}function ZN(i,t,e,r={}){var l;i=Yo(i,hd);const h=hu(t),f=i._getSettings(),_=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),y=`${t}:${e}`;h&&(IE(`https://${y}`),OE("Firestore",!0)),f.host!==kw&&f.host!==y&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T=Object.assign(Object.assign({},f),{host:y,ssl:h,emulatorOptions:r});if(!Fo(T,_)&&(i._setSettings(T),r.mockUserToken)){let S,x;if(typeof r.mockUserToken=="string")S=r.mockUserToken,x=Gn.MOCK_USER;else{S=rx(r.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Ct(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Gn(C)}i._authCredentials=new XI(new Sb(S,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new el(this.firestore,t,this._query)}}class _n{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}toJSON(){return{type:_n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Hc(e,_n._jsonSchema))return new _n(t,r||null,new Mt(Pe.fromString(e.referencePath)))}}_n._jsonSchemaVersion="firestore/documentReference/1.0",_n._jsonSchema={type:cn("string",_n._jsonSchemaVersion),referencePath:cn("string")};class Fa extends el{constructor(t,e,r){super(t,e,qb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new Mt(t))}withConverter(t){return new Fa(this.firestore,t,this._path)}}function Bg(i,t,...e){if(i=Cn(i),xb("collection","path",t),i instanceof hd){const r=Pe.fromString(t,...e);return tT(r),new Fa(i,null,r)}{if(!(i instanceof _n||i instanceof Fa))throw new Ct(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Pe.fromString(t,...e));return tT(r),new Fa(i.firestore,null,r)}}function jg(i,t,...e){if(i=Cn(i),arguments.length===1&&(t=gg.newId()),xb("doc","path",t),i instanceof hd){const r=Pe.fromString(t,...e);return J0(r),new _n(i,null,new Mt(r))}{if(!(i instanceof _n||i instanceof Fa))throw new Ct(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Pe.fromString(t,...e));return J0(r),new _n(i.firestore,i instanceof Fa?i.converter:null,new Mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="AsyncQueue";class FT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new yw(this,"async_queue_retry"),this.oc=()=>{const r=mp();r&&Rt(HT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const e=mp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=mp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const e=new Ha;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!gu(t))throw t;Rt(HT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const e=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,Br("INTERNAL UNHANDLED ERROR: ",qT(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=e,e}enqueueAfterDelay(t,e,r){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const l=Mg.createAndSchedule(this,t,e,r,(h=>this.lc(h)));return this.ec.push(l),l}ac(){this.tc&&Ut(47125,{hc:qT(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function qT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Kc extends hd{constructor(t,e,r,l){super(t,e,r,l),this.type="firestore",this._queue=new FT,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new FT(t),this._firestoreClient=void 0,await t}}}function KN(i,t){const e=typeof i=="object"?i:DE(),r=typeof i=="string"?i:Pf,l=rg(e,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=ix("firestore");h&&ZN(l,...h)}return l}function Vw(i){if(i._terminated)throw new Ct(ct.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YN(i),i._firestoreClient}function YN(i){var t,e,r;const l=i._freezeSettings(),h=(function(_,y,T,S){return new p2(_,y,T,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Mw(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((e=l.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new jN(i._authCredentials,i._appCheckCredentials,i._queue,h,i._componentsProvider&&(function(_){const y=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(y),_online:y}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ji(Vn.fromBase64String(t))}catch(e){throw new Ct(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ji(Vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hc(t,Ji._jsonSchema))return Ji.fromBase64String(t.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:cn("string",Ji._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sr._jsonSchemaVersion}}static fromJSON(t){if(Hc(t,sr._jsonSchema))return new sr(t.latitude,t.longitude)}}sr._jsonSchemaVersion="firestore/geoPoint/1.0",sr._jsonSchema={type:cn("string",sr._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hc(t,rr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new rr(t.vectorValues);throw new Ct(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:cn("string",rr._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class XN{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new to(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fc(t,this.data,e,this.fieldTransforms)}}class zw{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new to(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Uw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ec:i})}}class Fg{constructor(t,e,r,l,h,f){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Fg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.Rc({path:r,mc:!1});return l.fc(t),l}gc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.Rc({path:r,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return jf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(Uw(this.Ec)&&QN.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class WN{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||ld(t)}Dc(t,e,r,l=!1){return new Fg({Ec:t,methodName:e,bc:r,path:kn.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(i){const t=i._freezeSettings(),e=ld(i._databaseId);return new WN(i._databaseId,!!t.ignoreUndefinedProperties,e)}function $N(i,t,e,r,l,h={}){const f=i.Dc(h.merge||h.mergeFields?2:0,t,e,l);Gg("Data must be an object, but it was:",f,r);const _=Bw(r,f);let y,T;if(h.merge)y=new Vi(f.fieldMask),T=f.fieldTransforms;else if(h.mergeFields){const S=[];for(const x of h.mergeFields){const C=Xp(t,x,e);if(!f.contains(C))throw new Ct(ct.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);Hw(S,C)||S.push(C)}y=new Vi(S),T=f.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,T=f.fieldTransforms;return new XN(new Ti(_),y,T)}class dd extends Hg{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dd}}function JN(i,t,e,r){const l=i.Dc(1,t,e);Gg("Data must be an object, but it was:",l,r);const h=[],f=Ti.empty();Ja(r,((y,T)=>{const S=Zg(t,y,e);T=Cn(T);const x=l.gc(S);if(T instanceof dd)h.push(S);else{const C=Yc(T,x);C!=null&&(h.push(S),f.set(S,C))}}));const _=new Vi(h);return new zw(f,_,l.fieldTransforms)}function tP(i,t,e,r,l,h){const f=i.Dc(1,t,e),_=[Xp(t,r,e)],y=[l];if(h.length%2!=0)throw new Ct(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<h.length;C+=2)_.push(Xp(t,h[C])),y.push(h[C+1]);const T=[],S=Ti.empty();for(let C=_.length-1;C>=0;--C)if(!Hw(T,_[C])){const P=_[C];let G=y[C];G=Cn(G);const Z=f.gc(P);if(G instanceof dd)T.push(P);else{const K=Yc(G,Z);K!=null&&(T.push(P),S.set(P,K))}}const x=new Vi(T);return new zw(S,x,f.fieldTransforms)}function eP(i,t,e,r=!1){return Yc(e,i.Dc(r?4:3,t))}function Yc(i,t){if(jw(i=Cn(i)))return Gg("Unsupported field value:",t,i),Bw(i,t);if(i instanceof Hg)return(function(r,l){if(!Uw(l.Ec))throw l.wc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(r,l){const h=[];let f=0;for(const _ of r){let y=Yc(_,l.yc(f));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),f++}return{arrayValue:{values:h}}})(i,t)}return(function(r,l){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Le.fromDate(r);return{timestampValue:Vf(l.serializer,h)}}if(r instanceof Le){const h=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vf(l.serializer,h)}}if(r instanceof sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:ow(l.serializer,r._byteString)};if(r instanceof _n){const h=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(h))throw l.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:xg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof rr)return(function(f,_){return{mapValue:{fields:{[Mb]:{stringValue:kb},[Lf]:{arrayValue:{values:f.toArray().map((T=>{if(typeof T!="number")throw _.wc("VectorValues must only contain numeric values.");return bg(_.serializer,T)}))}}}}}})(r,l);throw l.wc(`Unsupported field value: ${Jf(r)}`)})(i,t)}function Bw(i,t){const e={};return Ib(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ja(i,((r,l)=>{const h=Yc(l,t.Vc(r));h!=null&&(e[r]=h)})),{mapValue:{fields:e}}}function jw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Le||i instanceof sr||i instanceof Ji||i instanceof _n||i instanceof Hg||i instanceof rr)}function Gg(i,t,e){if(!jw(e)||!Cb(e)){const r=Jf(e);throw r==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+r)}}function Xp(i,t,e){if((t=Cn(t))instanceof fd)return t._internalPath;if(typeof t=="string")return Zg(i,t);throw jf("Field path arguments must be of type string or ",i,!1,void 0,e)}const nP=new RegExp("[~\\*/\\[\\]]");function Zg(i,t,e){if(t.search(nP)>=0)throw jf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new fd(...t.split("."))._internalPath}catch{throw jf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function jf(i,t,e,r,l){const h=r&&!r.isEmpty(),f=l!==void 0;let _=`Function ${t}() called with invalid data`;e&&(_+=" (via `toFirestore()`)"),_+=". ";let y="";return(h||f)&&(y+=" (found",h&&(y+=` in field ${r}`),f&&(y+=` in document ${l}`),y+=")"),new Ct(ct.INVALID_ARGUMENT,_+i+y)}function Hw(i,t){return i.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,e,r,l,h){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(md("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class iP extends Fw{data(){return super.data()}}function md(i,t){return typeof t=="string"?Zg(i,t):t instanceof fd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ct(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class qw extends Kg{}function Gw(i,t,...e){let r=[];t instanceof Kg&&r.push(t),r=r.concat(e),(function(h){const f=h.filter((y=>y instanceof Yg)).length,_=h.filter((y=>y instanceof pd)).length;if(f>1||f>0&&_>0)throw new Ct(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class pd extends qw{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new pd(t,e,r)}_apply(t){const e=this._parse(t);return Zw(t._query,e),new el(t.firestore,t.converter,Up(t._query,e))}_parse(t){const e=qg(t.firestore);return(function(h,f,_,y,T,S,x){let C;if(T.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new Ct(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){ZT(x,S);const G=[];for(const Z of x)G.push(GT(y,h,Z));C={arrayValue:{values:G}}}else C=GT(y,h,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||ZT(x,S),C=eP(_,f,x,S==="in"||S==="not-in");return un.create(T,S,C)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function rP(i,t,e){const r=t,l=md("where",i);return pd._create(l,r,e)}class Yg extends Kg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Yg(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Es.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(l,h){let f=l;const _=h.getFlattenedFilters();for(const y of _)Zw(f,y),f=Up(f,y)})(t._query,e),new el(t.firestore,t.converter,Up(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qg extends qw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Qg(t,e)}_apply(t){const e=(function(l,h,f){if(l.startAt!==null)throw new Ct(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ct(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oc(h,f)})(t._query,this._field,this._direction);return new el(t.firestore,t.converter,(function(l,h){const f=l.explicitOrderBy.concat([h]);return new _u(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,e))}}function aP(i,t="asc"){const e=t,r=md("orderBy",i);return Qg._create(r,e)}function GT(i,t,e){if(typeof(e=Cn(e))=="string"){if(e==="")throw new Ct(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gb(t)&&e.indexOf("/")!==-1)throw new Ct(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Pe.fromString(e));if(!Mt.isDocumentKey(r))throw new Ct(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lT(i,new Mt(r))}if(e instanceof _n)return lT(i,e._key);throw new Ct(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(e)}.`)}function ZT(i,t){if(!Array.isArray(i)||i.length===0)throw new Ct(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Zw(i,t){const e=(function(l,h){for(const f of l)for(const _ of f.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Ct(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class oP{convertValue(t,e="none"){switch(Ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ka(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Ja(t,((l,h)=>{r[l]=this.convertValue(h,e)})),r}convertVectorValue(t){var e,r,l;const h=(l=(r=(e=t.fields)===null||e===void 0?void 0:e[Lf].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map((f=>tn(f.doubleValue)));return new rr(h)}convertGeoPoint(t){return new sr(tn(t.latitude),tn(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=nd(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Cc(t));default:return null}}convertTimestamp(t){const e=Za(t);return new Le(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Pe.fromString(t);ve(dw(r),9688,{name:t});const l=new Rc(r.get(1),r.get(3)),h=new Mt(r.popFirst(5));return l.isEqual(e)||Br(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(i,t,e){let r;return r=i?i.toFirestore(t):t,r}class uf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nu extends Fw{constructor(t,e,r,l,h,f){super(t,e,r,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(md("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=nu._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}nu._jsonSchemaVersion="firestore/documentSnapshot/1.0",nu._jsonSchema={type:cn("string",nu._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class Tf extends nu{data(t={}){return super.data(t)}}class iu{constructor(t,e,r,l){this._firestore=t,this._userDataWriter=e,this._snapshot=l,this.metadata=new uf(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Tf(this._firestore,this._userDataWriter,r.key,r,new uf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((_=>{const y=new Tf(l._firestore,l._userDataWriter,_.doc.key,_.doc,new uf(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const y=new Tf(l._firestore,l._userDataWriter,_.doc.key,_.doc,new uf(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,S=-1;return _.type!==0&&(T=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),_.type!==1&&(f=f.add(_.doc),S=f.indexOf(_.doc.key)),{type:uP(_.type),doc:y,oldIndex:T,newIndex:S}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=iu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(e.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function uP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:i})}}iu._jsonSchemaVersion="firestore/querySnapshot/1.0",iu._jsonSchema={type:cn("string",iu._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class cP extends oP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ji(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,e)}}function Kw(i){i=Yo(i,el);const t=Yo(i.firestore,Kc),e=Vw(t),r=new cP(t);return sP(i._query),GN(e,i._query).then((l=>new iu(t,r,i,l)))}function hP(i,t,e,...r){i=Yo(i,_n);const l=Yo(i.firestore,Kc),h=qg(l);let f;return f=typeof(t=Cn(t))=="string"||t instanceof fd?tP(h,"updateDoc",i._key,t,e,r):JN(h,"updateDoc",i._key,t),Xg(l,[f.toMutation(i._key,vs.exists(!0))])}function fP(i){return Xg(Yo(i.firestore,Kc),[new wg(i._key,vs.none())])}function dP(i,t){const e=Yo(i.firestore,Kc),r=jg(i),l=lP(i.converter,t);return Xg(e,[$N(qg(i.firestore),"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,vs.exists(!1))]).then((()=>r))}function Xg(i,t){return(function(r,l){const h=new Ha;return r.asyncQueue.enqueueAndForget((async()=>NN(await FN(r),l,h))),h.promise})(Vw(i),t)}(function(t,e=!0){(function(l){mu=l})(fu),su(new qo("firestore",((r,{instanceIdentifier:l,options:h})=>{const f=r.getProvider("app").getImmediate(),_=new Kc(new WI(r.getProvider("auth-internal")),new t2(f,r.getProvider("app-check-internal")),(function(T,S){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Ct(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(T.options.projectId,S)})(f,l),f);return h=Object.assign({useFetchStreams:e},h),_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),Ba(Y0,Q0,t),Ba(Y0,Q0,"esm2017")})();const mP={apiKey:"AIzaSyB1gh0YJDISj5u79YWpGbFIf5io2Fz6WCY",authDomain:"bookstore-map-a88bc.firebaseapp.com",projectId:"bookstore-map-a88bc",storageBucket:"bookstore-map-a88bc.firebasestorage.app",messagingSenderId:"350103866288",appId:"1:350103866288:web:09cc18d2664381420f6475"},Yw=LE(mP),Qc=GI(Yw),Xc=KN(Yw),pP=async(i,t)=>{try{const e=await IR(Qc,i,t);return{uid:e.user.uid,email:e.user.email,displayName:e.user.displayName||void 0}}catch(e){throw console.error(" :",e),e}},gP=async(i,t)=>{try{const e=await OR(Qc,i,t);return{uid:e.user.uid,email:e.user.email,displayName:e.user.displayName||void 0}}catch(e){throw console.error(" :",e),e}},_P=async()=>{try{await DR(Qc)}catch(i){throw console.error(" :",i),i}},yP=i=>LR(Qc,t=>{i(t?{uid:t.uid,email:t.email,displayName:t.displayName||void 0}:null)}),vc=()=>{const i=Qc.currentUser;return i?{uid:i.uid,email:i.email,displayName:i.displayName||void 0}:null};function vP(){const{t:i,i18n:t}=Mc(),[e,r]=at.useState(null);at.useEffect(()=>{const f=yP(_=>{r(_)});return()=>f()},[]);const l=async()=>{try{await _P()}catch(f){console.error(" :",f)}},h=()=>{const f=t.language==="ko"?"en":"ko";t.changeLanguage(f)};return V.jsx("nav",{className:"bg-blue-600 text-white shadow-lg",children:V.jsx("div",{className:"container mx-auto px-4",children:V.jsxs("div",{className:"flex justify-between items-center h-16",children:[V.jsx(sc,{to:"/",className:"text-xl font-bold hover:text-blue-200 transition",children:i("home.title")}),V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx(sc,{to:"/",className:"hover:text-blue-200 transition px-3 py-2 rounded-md hover:bg-blue-700",children:i("nav.home")}),e?V.jsxs(V.Fragment,{children:[V.jsx(sc,{to:"/add",className:"hover:text-blue-200 transition px-3 py-2 rounded-md hover:bg-blue-700",children:i("nav.addBookstore")}),V.jsx(sc,{to:"/mypage",className:"hover:text-blue-200 transition px-3 py-2 rounded-md hover:bg-blue-700",children:i("nav.myPage")}),V.jsx("button",{onClick:l,className:"hover:text-blue-200 transition px-3 py-2 rounded-md hover:bg-blue-700",children:i("nav.logout")}),V.jsx("span",{className:"text-sm text-blue-200",children:e.email})]}):V.jsx(sc,{to:"/login",className:"hover:text-blue-200 transition px-3 py-2 rounded-md hover:bg-blue-700",children:i("nav.login")}),V.jsx("button",{onClick:h,className:"px-3 py-2 rounded-md bg-blue-700 hover:bg-blue-800 transition text-sm font-medium",children:t.language==="ko"?"EN":"KO"})]})]})})})}const TP="https://api.kcisa.kr/API_CNV_045/request",EP="de281c02-f61e-421f-9b16-b752b0b289a0",KT=i=>{if(!i||i==="")return;const t=parseFloat(i);if(isNaN(t))return;const e=Math.floor(t*24),r=Math.floor((t*24-e)*60);return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},bP=i=>{if(!i)return;let t=i.replace(/[^0-9]/g,"");if(t.length!==0){if(t.startsWith("0")||(t="0"+t),t.startsWith("02")){if(t.length===9)return`${t.slice(0,2)}-${t.slice(2,5)}-${t.slice(5)}`;if(t.length===10)return`${t.slice(0,2)}-${t.slice(2,6)}-${t.slice(6)}`}else if(t.startsWith("010")){if(t.length===10)return`${t.slice(0,3)}-${t.slice(3,6)}-${t.slice(6)}`;if(t.length===11)return`${t.slice(0,3)}-${t.slice(3,7)}-${t.slice(7)}`}else{if(t.length===10)return`${t.slice(0,3)}-${t.slice(3,6)}-${t.slice(6)}`;if(t.length===11)return`${t.slice(0,3)}-${t.slice(3,7)}-${t.slice(7)}`}return i}},wP=i=>({id:i.ESNTL_ID,name:i.FCLTY_NM,address:i.FCLTY_ROAD_NM_ADDR,latitude:parseFloat(i.FCLTY_LA)||37.5665,longitude:parseFloat(i.FCLTY_LO)||126.978,category:i.MLSFC_NM||i.LCLAS_NM,phone:bP(i.TEL_NO),openTime:KT(i.WORKDAY_OPN_BSNS_TIME),closeTime:KT(i.WORKDAY_CLOS_TIME),closedDays:i.RSTDE_GUID_CN,description:i.ADIT_DC||i.OPTN_DC,isUserAdded:!1}),SP=async(i=1,t=100)=>{var e,r,l,h,f,_,y,T;try{const S=new URLSearchParams({serviceKey:EP,numOfRows:t.toString(),pageNo:i.toString()}),x=`${TP}?${S}`;console.log("API  URL:",x);const C=await fetch(x,{method:"GET",headers:{Accept:"application/json"}});if(!C.ok)throw console.error("API  :",C.status,C.statusText),new Error(`API  : ${C.status}`);const P=C.headers.get("content-type");if(!P||!P.includes("application/json")){console.error("  :",P);const K=await C.text();throw console.error(" :",K.substring(0,200)),new Error("API JSON  . API  .")}const G=await C.json();if(console.log("API :",G),((r=(e=G.response)==null?void 0:e.header)==null?void 0:r.resultCode)!=="0000")throw console.error("API   :",(l=G.response)==null?void 0:l.header),new Error(((f=(h=G.response)==null?void 0:h.header)==null?void 0:f.resultMsg)||"API ");const Z=((T=(y=(_=G.response)==null?void 0:_.body)==null?void 0:y.items)==null?void 0:T.item)||[];return Array.isArray(Z)?Z.map(wP):(console.warn("API   :",Z),[])}catch(S){return console.error("   :",S),[]}},Wc="userBookstores",AP=async(i,t)=>{try{const e={name:i.name,address:i.address,latitude:i.latitude,longitude:i.longitude,category:i.category||"",createdBy:t,createdAt:Le.now(),isUserAdded:!0};return i.phone&&(e.phone=i.phone),i.openTime&&(e.openTime=i.openTime),i.closeTime&&(e.closeTime=i.closeTime),i.closedDays&&(e.closedDays=i.closedDays),i.description&&(e.description=i.description),(await dP(Bg(Xc,Wc),e)).id}catch(e){throw console.error("  :",e),e}},xP=async()=>{try{const i=Gw(Bg(Xc,Wc),aP("createdAt","desc"));return(await Kw(i)).docs.map(e=>{var l;const r=e.data();return{id:e.id,name:r.name,address:r.address,latitude:r.latitude,longitude:r.longitude,category:r.category,phone:r.phone,openTime:r.openTime,closeTime:r.closeTime,closedDays:r.closedDays,description:r.description,isUserAdded:r.isUserAdded,createdBy:r.createdBy,createdAt:(l=r.createdAt)==null?void 0:l.toDate()}})}catch(i){throw console.error("   :",i),i}},CP=async i=>{try{const t=Gw(Bg(Xc,Wc),rP("createdBy","==",i));return(await Kw(t)).docs.map(l=>{var f;const h=l.data();return{id:l.id,name:h.name,address:h.address,latitude:h.latitude,longitude:h.longitude,category:h.category,phone:h.phone,openTime:h.openTime,closeTime:h.closeTime,closedDays:h.closedDays,description:h.description,isUserAdded:h.isUserAdded,createdBy:h.createdBy,createdAt:(f=h.createdAt)==null?void 0:f.toDate()}}).sort((l,h)=>!l.createdAt||!h.createdAt?0:h.createdAt.getTime()-l.createdAt.getTime())}catch(t){throw console.error("    :",t),t}},RP=async(i,t)=>{try{const e={};Object.entries(t).forEach(([l,h])=>{h!==void 0&&h!==""&&(e[l]=h)});const r=jg(Xc,Wc,i);await hP(r,e)}catch(e){throw console.error("  :",e),e}},IP=async i=>{try{const t=jg(Xc,Wc,i);await fP(t)}catch(t){throw console.error("  :",t),t}};function Qw(i,t){const e=at.useRef(t);at.useEffect(function(){t!==e.current&&i.attributionControl!=null&&(e.current!=null&&i.attributionControl.removeAttribution(e.current),t!=null&&i.attributionControl.addAttribution(t)),e.current=t},[i,t])}const OP=1;function NP(i){return Object.freeze({__version:OP,map:i})}function PP(i,t){return Object.freeze({...i,...t})}const Xw=at.createContext(null),Ww=Xw.Provider;function Wg(){const i=at.useContext(Xw);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function LP(i){function t(e,r){const{instance:l,context:h}=i(e).current;return at.useImperativeHandle(r,()=>l),e.children==null?null:Ef.createElement(Ww,{value:h},e.children)}return at.forwardRef(t)}function DP(i){function t(e,r){const[l,h]=at.useState(!1),{instance:f}=i(e,h).current;at.useImperativeHandle(r,()=>f),at.useEffect(function(){l&&f.update()},[f,l,e.children]);const _=f._contentNode;return _?O1.createPortal(e.children,_):null}return at.forwardRef(t)}function MP(i){function t(e,r){const{instance:l}=i(e).current;return at.useImperativeHandle(r,()=>l),null}return at.forwardRef(t)}function $w(i,t){const e=at.useRef();at.useEffect(function(){return t!=null&&i.instance.on(t),e.current=t,function(){e.current!=null&&i.instance.off(e.current),e.current=null}},[i,t])}function $g(i,t){const e=i.pane??t.pane;return e?{...i,pane:e}:i}function kP(i,t){return function(r,l){const h=Wg(),f=i($g(r,h),h);return Qw(h.map,r.attribution),$w(f.current,r.eventHandlers),t(f.current,h,r,l),f}}var fc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var VP=fc.exports,YT;function zP(){return YT||(YT=1,(function(i,t){(function(e,r){r(t)})(VP,(function(e){var r="1.9.4";function l(a){var u,m,v,b;for(m=1,v=arguments.length;m<v;m++){b=arguments[m];for(u in b)a[u]=b[u]}return a}var h=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function f(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var v=m.call(arguments,2);return function(){return a.apply(u,v.length?v.concat(m.call(arguments)):arguments)}}var _=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function T(a,u,m){var v,b,R,M;return M=function(){v=!1,b&&(R.apply(m,b),b=!1)},R=function(){v?b=arguments:(a.apply(m,arguments),setTimeout(M,u),v=!0)},R}function S(a,u,m){var v=u[1],b=u[0],R=v-b;return a===v&&m?a:((a-b)%R+R)%R+b}function x(){return!1}function C(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function G(a){return P(a).split(/\s+/)}function Z(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function K(a,u,m){var v=[];for(var b in a)v.push(encodeURIComponent(m?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var ht=/\{ *([\w_ -]+) *\}/g;function pt(a,u){return a.replace(ht,function(m,v){var b=u[v];if(b===void 0)throw new Error("No value provided for variable "+m);return typeof b=="function"&&(b=b(u)),b})}var _t=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function wt(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var gt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var k=0;function N(a){var u=+new Date,m=Math.max(0,16-(u-k));return k=u+m,window.setTimeout(a,m)}var D=window.requestAnimationFrame||xt("RequestAnimationFrame")||N,H=window.cancelAnimationFrame||xt("CancelAnimationFrame")||xt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function j(a,u,m){if(m&&D===N)a.call(u);else return D.call(window,f(a,u))}function q(a){a&&H.call(window,a)}var z={__proto__:null,extend:l,create:h,bind:f,get lastId(){return _},stamp:y,throttle:T,wrapNum:S,falseFn:x,formatNum:C,trim:P,splitWords:G,setOptions:Z,getParamString:K,template:pt,isArray:_t,indexOf:wt,emptyImageUrl:gt,requestFn:D,cancelFn:H,requestAnimFrame:j,cancelAnimFrame:q};function te(){}te.extend=function(a){var u=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,v=h(m);v.constructor=u,u.prototype=v;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return a.statics&&l(u,a.statics),a.includes&&(be(a.includes),l.apply(null,[v].concat(a.includes))),l(v,a),delete v.statics,delete v.includes,v.options&&(v.options=m.options?h(m.options):{},l(v.options,a.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,M=v._initHooks.length;R<M;R++)v._initHooks[R].call(this)}},u},te.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},te.mergeOptions=function(a){return l(this.prototype.options,a),this},te.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function be(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=_t(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var et={on:function(a,u,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],u);else{a=G(a);for(var b=0,R=a.length;b<R;b++)this._on(a[b],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var v in a)this._off(v,a[v],u);else{a=G(a);for(var b=arguments.length===1,R=0,M=a.length;R<M;R++)b?this._off(a[R]):this._off(a[R],u,m)}return this},_on:function(a,u,m,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var b={fn:u,ctx:m};v&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,u,m){var v,b,R;if(this._events&&(v=this._events[a],!!v)){if(arguments.length===1){if(this._firingCount)for(b=0,R=v.length;b<R;b++)v[b].fn=x;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var M=this._listens(a,u,m);if(M!==!1){var Q=v[M];this._firingCount&&(Q.fn=x,this._events[a]=v=v.slice()),v.splice(M,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var v=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var R=0,M=b.length;R<M;R++){var Q=b[R],J=Q.fn;Q.once&&this.off(a,J,Q.ctx),J.call(Q.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(a,u,m,v){typeof a!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(v=!!u,b=void 0,m=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,b,m)!==!1)return!0;if(v){for(var M in this._eventParents)if(this._eventParents[M].listens(a,u,m,v))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var v=this._events[a]||[];if(!u)return!!v.length;m===this&&(m=void 0);for(var b=0,R=v.length;b<R;b++)if(v[b].fn===u&&v[b].ctx===m)return b;return!1},once:function(a,u,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],u,!0);else{a=G(a);for(var b=0,R=a.length;b<R;b++)this._on(a[b],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};et.addEventListener=et.on,et.removeEventListener=et.clearAllEventListeners=et.off,et.addOneTimeEventListener=et.once,et.fireEvent=et.fire,et.hasEventListeners=et.listens;var yt=te.extend(et);function ft(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var Zt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ft.prototype={clone:function(){return new ft(this.x,this.y)},add:function(a){return this.clone()._add(Et(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Et(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ft(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ft(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Zt(this.x),this.y=Zt(this.y),this},distanceTo:function(a){a=Et(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=Et(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Et(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function Et(a,u,m){return a instanceof ft?a:_t(a)?new ft(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ft(a.x,a.y):new ft(a,u,m)}function B(a,u){if(a)for(var m=u?[a,u]:a,v=0,b=m.length;v<b;v++)this.extend(m[v])}B.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof ft||typeof a[0]=="number"||"x"in a)u=m=Et(a);else if(a=st(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return Et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Et(this.min.x,this.max.y)},getTopRight:function(){return Et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof ft?a=Et(a):a=st(a),a instanceof B?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=st(a);var u=this.min,m=this.max,v=a.min,b=a.max,R=b.x>=u.x&&v.x<=m.x,M=b.y>=u.y&&v.y<=m.y;return R&&M},overlaps:function(a){a=st(a);var u=this.min,m=this.max,v=a.min,b=a.max,R=b.x>u.x&&v.x<m.x,M=b.y>u.y&&v.y<m.y;return R&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,v=Math.abs(u.x-m.x)*a,b=Math.abs(u.y-m.y)*a;return st(Et(u.x-v,u.y-b),Et(m.x+v,m.y+b))},equals:function(a){return a?(a=st(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function st(a,u){return!a||a instanceof B?a:new B(a,u)}function mt(a,u){if(a)for(var m=u?[a,u]:a,v=0,b=m.length;v<b;v++)this.extend(m[v])}mt.prototype={extend:function(a){var u=this._southWest,m=this._northEast,v,b;if(a instanceof St)v=a,b=a;else if(a instanceof mt){if(v=a._southWest,b=a._northEast,!v||!b)return this}else return a?this.extend(At(a)||Tt(a)):this;return!u&&!m?(this._southWest=new St(v.lat,v.lng),this._northEast=new St(b.lat,b.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),m.lat=Math.max(b.lat,m.lat),m.lng=Math.max(b.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,v=Math.abs(u.lat-m.lat)*a,b=Math.abs(u.lng-m.lng)*a;return new mt(new St(u.lat-v,u.lng-b),new St(m.lat+v,m.lng+b))},getCenter:function(){return new St((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new St(this.getNorth(),this.getWest())},getSouthEast:function(){return new St(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof St||"lat"in a?a=At(a):a=Tt(a);var u=this._southWest,m=this._northEast,v,b;return a instanceof mt?(v=a.getSouthWest(),b=a.getNorthEast()):v=b=a,v.lat>=u.lat&&b.lat<=m.lat&&v.lng>=u.lng&&b.lng<=m.lng},intersects:function(a){a=Tt(a);var u=this._southWest,m=this._northEast,v=a.getSouthWest(),b=a.getNorthEast(),R=b.lat>=u.lat&&v.lat<=m.lat,M=b.lng>=u.lng&&v.lng<=m.lng;return R&&M},overlaps:function(a){a=Tt(a);var u=this._southWest,m=this._northEast,v=a.getSouthWest(),b=a.getNorthEast(),R=b.lat>u.lat&&v.lat<m.lat,M=b.lng>u.lng&&v.lng<m.lng;return R&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=Tt(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Tt(a,u){return a instanceof mt?a:new mt(a,u)}function St(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}St.prototype={equals:function(a,u){if(!a)return!1;a=At(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return Oe.distance(this,At(a))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return Tt([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new St(this.lat,this.lng,this.alt)}};function At(a,u,m){return a instanceof St?a:_t(a)&&typeof a[0]!="object"?a.length===3?new St(a[0],a[1],a[2]):a.length===2?new St(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new St(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new St(a,u,m)}var jt={latLngToPoint:function(a,u){var m=this.projection.project(a),v=this.scale(u);return this.transformation._transform(m,v)},pointToLatLng:function(a,u){var m=this.scale(u),v=this.transformation.untransform(a,m);return this.projection.unproject(v)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),v=this.transformation.transform(u.min,m),b=this.transformation.transform(u.max,m);return new B(v,b)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,v=a.alt;return new St(m,u,v)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),v=u.lat-m.lat,b=u.lng-m.lng;if(v===0&&b===0)return a;var R=a.getSouthWest(),M=a.getNorthEast(),Q=new St(R.lat-v,R.lng-b),J=new St(M.lat-v,M.lng-b);return new mt(Q,J)}},Oe=l({},jt,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,v=a.lat*m,b=u.lat*m,R=Math.sin((u.lat-a.lat)*m/2),M=Math.sin((u.lng-a.lng)*m/2),Q=R*R+Math.cos(v)*Math.cos(b)*M*M,J=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*J}}),Ne=6378137,ii={R:Ne,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,a.lat),-m),b=Math.sin(v*u);return new ft(this.R*a.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var u=180/Math.PI;return new St((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Ne*Math.PI;return new B([-a,-a],[a,a])})()};function Ei(a,u,m,v){if(_t(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=v}Ei.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ft((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function bi(a,u,m,v){return new Ei(a,u,m,v)}var bs=l({},Oe,{code:"EPSG:3857",projection:ii,transformation:(function(){var a=.5/(Math.PI*ii.R);return bi(a,.5,-a,.5)})()}),wi=l({},bs,{code:"EPSG:900913"});function ws(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function or(a,u){var m="",v,b,R,M,Q,J;for(v=0,R=a.length;v<R;v++){for(Q=a[v],b=0,M=Q.length;b<M;b++)J=Q[b],m+=(b?"L":"M")+J.x+" "+J.y;m+=u?Ot.svg?"z":"x":""}return m||"M0 0"}var eo=document.documentElement.style,lr="ActiveXObject"in window,Fr=lr&&!document.addEventListener,Ss="msLaunchUri"in navigator&&!("documentMode"in document),As=zn("webkit"),il=zn("android"),qr=zn("android 2")||zn("android 3"),fn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),sl=il&&zn("Google")&&fn<537&&!("AudioNode"in window),Ue=!!window.opera,Qe=!Ss&&zn("chrome"),zi=zn("gecko")&&!As&&!Ue&&!lr,rl=!Qe&&zn("safari"),Gr=zn("phantom"),al="OTransition"in eo,ur=navigator.platform.indexOf("Win")===0,ts=lr&&"transition"in eo,en="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qr,Qn="MozPerspective"in eo,Rn=!window.L_DISABLE_3D&&(ts||en||Qn)&&!al&&!Gr,cr=typeof orientation<"u"||zn("mobile"),no=cr&&As,ol=cr&&en,xs=!window.PointerEvent&&window.MSPointerEvent,Si=!!(window.PointerEvent||xs),es="ontouchstart"in window||!!window.TouchEvent,Ai=!window.L_NO_TOUCH&&(es||Si),si=cr&&Ue,Cs=cr&&zi,Zr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,io=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",x,u),window.removeEventListener("testPassiveEventSupport",x,u)}catch{}return a})(),ns=(function(){return!!document.createElement("canvas").getContext})(),Ui=!!(document.createElementNS&&ws("svg").createSVGRect),dn=!!Ui&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),so=!Ui&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Rs=navigator.platform.indexOf("Mac")===0,Is=navigator.platform.indexOf("Linux")===0;function zn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ot={ie:lr,ielt9:Fr,edge:Ss,webkit:As,android:il,android23:qr,androidStock:sl,opera:Ue,chrome:Qe,gecko:zi,safari:rl,phantom:Gr,opera12:al,win:ur,ie3d:ts,webkit3d:en,gecko3d:Qn,any3d:Rn,mobile:cr,mobileWebkit:no,mobileWebkit3d:ol,msPointer:xs,pointer:Si,touch:Ai,touchNative:es,mobileOpera:si,mobileGecko:Cs,retina:Zr,passiveEvents:io,canvas:ns,svg:Ui,vml:so,inlineSvg:dn,mac:Rs,linux:Is},Bi=Ot.msPointer?"MSPointerDown":"pointerdown",ro=Ot.msPointer?"MSPointerMove":"pointermove",xi=Ot.msPointer?"MSPointerUp":"pointerup",De=Ot.msPointer?"MSPointerCancel":"pointercancel",Xe={touchstart:Bi,touchmove:ro,touchend:xi,touchcancel:De},Ci={touchstart:Ii,touchmove:Hi,touchend:Hi,touchcancel:Hi},Xn={},Ri=!1;function ll(a,u,m){return u==="touchstart"&&ss(),Ci[u]?(m=Ci[u].bind(this,m),a.addEventListener(Xe[u],m,!1),m):(console.warn("wrong event specified:",u),x)}function ao(a,u,m){if(!Xe[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Xe[u],m,!1)}function is(a){Xn[a.pointerId]=a}function hr(a){Xn[a.pointerId]&&(Xn[a.pointerId]=a)}function ji(a){delete Xn[a.pointerId]}function ss(){Ri||(document.addEventListener(Bi,is,!0),document.addEventListener(ro,hr,!0),document.addEventListener(xi,ji,!0),document.addEventListener(De,ji,!0),Ri=!0)}function Hi(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in Xn)u.touches.push(Xn[m]);u.changedTouches=[u],a(u)}}function Ii(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&we(u),Hi(a,u)}function Be(a){var u={},m,v;for(v in a)m=a[v],u[v]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Kr=200;function Os(a,u){a.addEventListener("dblclick",u);var m=0,v;function b(R){if(R.detail!==1){v=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var M=Ms(R);if(!(M.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})&&!M.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement}))){var Q=Date.now();Q-m<=Kr?(v++,v===2&&u(Be(R))):v=1,m=Q}}}return a.addEventListener("click",b),{dblclick:u,simDblclick:b}}function In(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ri=Fi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fr=Fi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yr=fr==="webkitTransition"||fr==="OTransition"?fr+"End":"transitionend";function Qr(a){return typeof a=="string"?document.getElementById(a):a}function Ns(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(a,null);m=v?v[u]:null}return m==="auto"?null:m}function Yt(a,u,m){var v=document.createElement(a);return v.className=u||"",m&&m.appendChild(v),v}function ce(a){var u=a.parentNode;u&&u.removeChild(a)}function On(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ge(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function rs(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function oo(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=ai(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function Bt(a,u){if(a.classList!==void 0)for(var m=G(u),v=0,b=m.length;v<b;v++)a.classList.add(m[v]);else if(!oo(a,u)){var R=ai(a);Ps(a,(R?R+" ":"")+u)}}function Ce(a,u){a.classList!==void 0?a.classList.remove(u):Ps(a,P((" "+ai(a)+" ").replace(" "+u+" "," ")))}function Ps(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function ai(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function le(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Ls(a,u)}function Ls(a,u){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+v+"(opacity="+u+")"}function Fi(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function oi(a,u,m){var v=u||new ft(0,0);a.style[ri]=(Ot.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function kt(a,u){a._leaflet_pos=u,Ot.any3d?oi(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Wn(a){return a._leaflet_pos||new ft(0,0)}var li,vn,lo;if("onselectstart"in document)li=function(){Lt(window,"selectstart",we)},vn=function(){he(window,"selectstart",we)};else{var as=Fi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);li=function(){if(as){var a=document.documentElement.style;lo=a[as],a[as]="none"}},vn=function(){as&&(document.documentElement.style[as]=lo,lo=void 0)}}function Xr(){Lt(window,"dragstart",we)}function dr(){he(window,"dragstart",we)}var Wr,uo;function ui(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(je(),Wr=a,uo=a.style.outlineStyle,a.style.outlineStyle="none",Lt(window,"keydown",je))}function je(){Wr&&(Wr.style.outlineStyle=uo,Wr=void 0,uo=void 0,he(window,"keydown",je))}function mr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ds(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var os={__proto__:null,TRANSFORM:ri,TRANSITION:fr,TRANSITION_END:Yr,get:Qr,getStyle:Ns,create:Yt,remove:ce,empty:On,toFront:Ge,toBack:rs,hasClass:oo,addClass:Bt,removeClass:Ce,setClass:Ps,getClass:ai,setOpacity:le,testProp:Fi,setTransform:oi,setPosition:kt,getPosition:Wn,get disableTextSelection(){return li},get enableTextSelection(){return vn},disableImageDrag:Xr,enableImageDrag:dr,preventOutline:ui,restoreOutline:je,getSizedParentNode:mr,getScale:Ds};function Lt(a,u,m,v){if(u&&typeof u=="object")for(var b in u)Jn(a,b,u[b],m);else{u=G(u);for(var R=0,M=u.length;R<M;R++)Jn(a,u[R],m,v)}return this}var $n="_leaflet_events";function he(a,u,m,v){if(arguments.length===1)co(a),delete a[$n];else if(u&&typeof u=="object")for(var b in u)pr(a,b,u[b],m);else if(u=G(u),arguments.length===2)co(a,function(Q){return wt(u,Q)!==-1});else for(var R=0,M=u.length;R<M;R++)pr(a,u[R],m,v);return this}function co(a,u){for(var m in a[$n]){var v=m.split(/\d/)[0];(!u||u(v))&&pr(a,v,null,null,m)}}var Tn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Jn(a,u,m,v){var b=u+y(m)+(v?"_"+y(v):"");if(a[$n]&&a[$n][b])return this;var R=function(Q){return m.call(v||a,Q||window.event)},M=R;!Ot.touchNative&&Ot.pointer&&u.indexOf("touch")===0?R=ll(a,u,R):Ot.touch&&u==="dblclick"?R=Os(a,R):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Tn[u]||u,R,Ot.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function(Q){Q=Q||window.event,Oi(a,Q)&&M(Q)},a.addEventListener(Tn[u],R,!1)):a.addEventListener(u,M,!1):a.attachEvent("on"+u,R),a[$n]=a[$n]||{},a[$n][b]=R}function pr(a,u,m,v,b){b=b||u+y(m)+(v?"_"+y(v):"");var R=a[$n]&&a[$n][b];if(!R)return this;!Ot.touchNative&&Ot.pointer&&u.indexOf("touch")===0?ao(a,u,R):Ot.touch&&u==="dblclick"?In(a,R):"removeEventListener"in a?a.removeEventListener(Tn[u]||u,R,!1):a.detachEvent("on"+u,R),a[$n][b]=null}function En(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Nn(a){return Jn(a,"wheel",En),this}function qi(a){return Lt(a,"mousedown touchstart dblclick contextmenu",En),a._leaflet_disable_click=!0,this}function we(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Un(a){return we(a),En(a),this}function Ms(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function ls(a,u){if(!u)return new ft(a.clientX,a.clientY);var m=Ds(u),v=m.boundingClientRect;return new ft((a.clientX-v.left)/m.x-u.clientLeft,(a.clientY-v.top)/m.y-u.clientTop)}var Re=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mn(a){return Ot.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Re:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Oi(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var gr={__proto__:null,on:Lt,off:he,stopPropagation:En,disableScrollPropagation:Nn,disableClickPropagation:qi,preventDefault:we,stop:Un,getPropagationPath:Ms,getMousePosition:ls,getWheelDelta:mn,isExternalTarget:Oi,addListener:Lt,removeListener:he},us=yt.extend({run:function(a,u,m,v){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Wn(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=j(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),kt(this._el,m),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),$t=yt.extend({options:{crs:bs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=Z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(At(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,Yr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(At(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var v=this.getZoomScale(u),b=this.getSize().divideBy(2),R=a instanceof ft?a:this.latLngToContainerPoint(a),M=R.subtract(b).multiplyBy(1-1/v),Q=this.containerPointToLatLng(b.add(M));return this.setView(Q,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():Tt(a);var m=Et(u.paddingTopLeft||u.padding||[0,0]),v=Et(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(a,!1,m.add(v));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var R=v.subtract(m).divideBy(2),M=this.project(a.getSouthWest(),b),Q=this.project(a.getNorthEast(),b),J=this.unproject(M.add(Q).divideBy(2).add(R),b);return{center:J,zoom:b}},fitBounds:function(a,u){if(a=Tt(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=Et(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Bt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!Ot.any3d)return this.setView(a,u,m);this._stop();var v=this.project(this.getCenter()),b=this.project(a),R=this.getSize(),M=this._zoom;a=At(a),u=u===void 0?M:u;var Q=Math.max(R.x,R.y),J=Q*this.getZoomScale(M,u),lt=b.distanceTo(v)||1,bt=1.42,Pt=bt*bt;function Xt(Fe){var ms=Fe?-1:1,br=Fe?J:Q,Au=J*J-Q*Q+ms*Pt*Pt*lt*lt,Io=2*br*Pt*lt,Oo=Au/Io,Qs=Math.sqrt(Oo*Oo+1)-Oo,ps=Qs<1e-9?-18:Math.log(Qs);return ps}function pn(Fe){return(Math.exp(Fe)-Math.exp(-Fe))/2}function Ze(Fe){return(Math.exp(Fe)+Math.exp(-Fe))/2}function ei(Fe){return pn(Fe)/Ze(Fe)}var de=Xt(0);function me(Fe){return Q*(Ze(de)/Ze(de+bt*Fe))}function ee(Fe){return Q*(Ze(de)*ei(de+bt*Fe)-pn(de))/Pt}function Ks(Fe){return 1-Math.pow(1-Fe,1.5)}var di=Date.now(),wl=(Xt(1)-de)/bt,Ys=m.duration?1e3*m.duration:1e3*wl*.8;function Su(){var Fe=(Date.now()-di)/Ys,ms=Ks(Fe)*wl;Fe<=1?(this._flyToFrame=j(Su,this),this._move(this.unproject(v.add(b.subtract(v).multiplyBy(ee(ms)/lt)),M),this.getScaleZoom(Q/me(ms),M),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Su.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=Tt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,Tt(a));return m.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=Et(u.paddingTopLeft||u.padding||[0,0]),v=Et(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),R=this.project(a),M=this.getPixelBounds(),Q=st([M.min.add(m),M.max.subtract(v)]),J=Q.getSize();if(!Q.contains(R)){this._enforcingBounds=!0;var lt=R.subtract(Q.getCenter()),bt=Q.extend(R).getSize().subtract(J);b.x+=lt.x<0?-bt.x:bt.x,b.y+=lt.y<0?-bt.y:bt.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=u.divideBy(2).round(),b=m.divideBy(2).round(),R=v.subtract(b);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,v=new St(u,m),b=v.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var M=this.getBoundsZoom(b);this.setView(v,R.maxZoom?Math.min(M,R.maxZoom):M)}var Q={latlng:v,bounds:b,timestamp:a.timestamp};for(var J in a.coords)typeof a.coords[J]=="number"&&(Q[J]=a.coords[J]);this.fire("locationfound",Q)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ce(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),v=Yt("div",m,u||this._mapPane);return a&&(this._panes[a]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new mt(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=Tt(a),m=Et(m||[0,0]);var v=this.getZoom()||0,b=this.getMinZoom(),R=this.getMaxZoom(),M=a.getNorthWest(),Q=a.getSouthEast(),J=this.getSize().subtract(m),lt=st(this.project(Q,v),this.project(M,v)).getSize(),bt=Ot.any3d?this.options.zoomSnap:1,Pt=J.x/lt.x,Xt=J.y/lt.y,pn=u?Math.max(Pt,Xt):Math.min(Pt,Xt);return v=this.getScaleZoom(pn,v),bt&&(v=Math.round(v/(bt/100))*(bt/100),v=u?Math.ceil(v/bt)*bt:Math.floor(v/bt)*bt),Math.max(b,Math.min(R,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ft(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new B(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var v=m.zoom(a*m.scale(u));return isNaN(v)?1/0:v},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(At(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(Et(a),u)},layerPointToLatLng:function(a){var u=Et(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(At(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(At(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Tt(a))},distance:function(a,u){return this.options.crs.distance(At(a),At(u))},containerPointToLayerPoint:function(a){return Et(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Et(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(Et(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(At(a)))},mouseEventToContainerPoint:function(a){return ls(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Qr(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Bt(a,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ns(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kt(this._mapPane,new ft(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Bt(a.markerPane,"leaflet-zoom-hide"),Bt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){kt(this._mapPane,new ft(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,m)._move(a,u)._moveEnd(b),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,v){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),v?m&&m.pinch&&this.fire("zoom",m):((b||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){kt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var u=a?he:Lt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=j(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],v,b=u==="mouseout"||u==="mouseover",R=a.target||a.srcElement,M=!1;R;){if(v=this._targets[y(R)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){M=!0;break}if(v&&v.listens(u,!0)&&(b&&!Oi(R,a)||(m.push(v),b))||R===this._container)break;R=R.parentNode}return!m.length&&!M&&!b&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&ui(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var v=l({},a);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var b=this._findEventTargets(a,u);if(m){for(var R=[],M=0;M<m.length;M++)m[M].listens(u,!0)&&R.push(m[M]);b=R.concat(b)}if(b.length){u==="contextmenu"&&we(a);var Q=b[0],J={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var lt=Q.getLatLng&&(!Q._radius||Q._radius<=10);J.containerPoint=lt?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(a),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=lt?Q.getLatLng():this.layerPointToLatLng(J.layerPoint)}for(M=0;M<b.length;M++)if(b[M].fire(u,J,!0),J.originalEvent._stopped||b[M].options.bubblingMouseEvents===!1&&wt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Wn(this._mapPane)||new ft(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var v=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(a,u,m){var v=this._getNewPixelOrigin(m,u);return st([this.project(a.getSouthWest(),u)._subtract(v),this.project(a.getNorthWest(),u)._subtract(v),this.project(a.getSouthEast(),u)._subtract(v),this.project(a.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var v=this.project(a,u),b=this.getSize().divideBy(2),R=new B(v.subtract(b),v.add(b)),M=this._getBoundsOffset(R,m,u);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?a:this.unproject(v.add(M),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),v=new B(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(a,u,m){var v=st(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),b=v.min.subtract(a.min),R=v.max.subtract(a.max),M=this._rebound(b.x,-R.x),Q=this._rebound(b.y,-R.y);return new ft(M,Q)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),v=Ot.any3d?this.options.zoomSnap:1;return v&&(a=Math.round(a/v)*v),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=ri,v=this._proxy.style[m];oi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();oi(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),b=this._getCenterOffset(a)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(b)?!1:(j(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ks(a,u){return new $t(a,u)}var bn=te.extend({options:{position:"topright"},initialize:function(a){Z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),v=a._controlCorners[m];return Bt(u,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),We=function(a){return new bn(a)};$t.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=Yt("div",u+"control-container",this._container);function v(b,R){var M=u+b+" "+u+R;a[b+R]=Yt("div",M,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ce(this._controlCorners[a]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vs=bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,v){return m<v?-1:v<m?1:0}},initialize:function(a,u,m){Z(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in a)this._addLayer(a[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return bn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Yt("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),qi(u),Nn(u);var v=this._section=Yt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Lt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Yt("a",a+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Lt(b,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){we(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Yt("div",a+"-base",v),this._separator=Yt("div",a+"-separator",v),this._overlaysList=Yt("div",a+"-overlays",v),u.appendChild(v)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(v,b){return this.options.sortFunction(v.layer,b.layer,v.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;On(this._baseLayersList),On(this._overlaysList),this._layerControlInputs=[];var a,u,m,v,b=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),u=u||v.overlay,a=a||!v.overlay,b+=v.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(y(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),v;a.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+y(this),m),this._layerControlInputs.push(v),v.layerId=y(a.layer),Lt(v,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(v),R.appendChild(b);var M=a.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,v=[],b=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)u=a[R],m=this._getLayer(u.layerId).layer,u.checked?v.push(m):u.checked||b.push(m);for(R=0;R<b.length;R++)this._map.hasLayer(b[R])&&this._map.removeLayer(b[R]);for(R=0;R<v.length;R++)this._map.hasLayer(v[R])||this._map.addLayer(v[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,v=this._map.getZoom(),b=a.length-1;b>=0;b--)u=a[b],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Lt(a,"click",we),this.expand();var u=this;setTimeout(function(){he(a,"click",we),u._preventClick=!1})}}),ul=function(a,u,m){return new Vs(a,u,m)},cs=bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=Yt("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,v,b){var R=Yt("a",m,v);return R.innerHTML=a,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),qi(R),Lt(R,"click",Un),Lt(R,"click",b,this),Lt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Ce(this._zoomInButton,u),Ce(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Bt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Bt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});$t.mergeOptions({zoomControl:!0}),$t.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cs,this.addControl(this.zoomControl))});var cl=function(a){return new cs(a)},$r=bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=Yt("div",u),v=this.options;return this._addScales(v,u+"-line",m),a.on(v.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=Yt("div",u,m)),a.imperial&&(this._iScale=Yt("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,v,b;u>5280?(m=u/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),zs=function(a){return new $r(a)},hl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Us=bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?hl+" ":"")+"Leaflet</a>"},initialize:function(a){Z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),qi(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});$t.mergeOptions({attributionControl:!0}),$t.addInitHook(function(){this.options.attributionControl&&new Us().addTo(this)});var vu=function(a){return new Us(a)};bn.Layers=Vs,bn.Zoom=cs,bn.Scale=$r,bn.Attribution=Us,We.layers=ul,We.zoom=cl,We.scale=zs,We.attribution=vu;var ti=te.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ti.addTo=function(a,u){return a.addHandler(u,this),this};var _r={Events:et},Jr=Ot.touch?"touchstart mousedown":"mousedown",Ni=yt.extend({options:{clickTolerance:3},initialize:function(a,u,m,v){Z(this,v),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Lt(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ni._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!oo(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ni._dragging===this&&this.finishDrag();return}if(!(Ni._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ni._dragging=this,this._preventOutline&&ui(this._element),Xr(),li(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=mr(this._element);this._startPoint=new ft(u.clientX,u.clientY),this._startPos=Wn(this._element),this._parentScale=Ds(m);var v=a.type==="mousedown";Lt(document,v?"mousemove":"touchmove",this._onMove,this),Lt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new ft(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,we(a),this._moved||(this.fire("dragstart"),this._moved=!0,Bt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),kt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),dr(),vn();var u=this._moved&&this._moving;this._moving=!1,Ni._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function ta(a,u,m){var v,b=[1,4,2,8],R,M,Q,J,lt,bt,Pt,Xt;for(R=0,bt=a.length;R<bt;R++)a[R]._code=Gi(a[R],u);for(Q=0;Q<4;Q++){for(Pt=b[Q],v=[],R=0,bt=a.length,M=bt-1;R<bt;M=R++)J=a[R],lt=a[M],J._code&Pt?lt._code&Pt||(Xt=nn(lt,J,Pt,u,m),Xt._code=Gi(Xt,u),v.push(Xt)):(lt._code&Pt&&(Xt=nn(lt,J,Pt,u,m),Xt._code=Gi(Xt,u),v.push(Xt)),v.push(J));a=v}return a}function ea(a,u){var m,v,b,R,M,Q,J,lt,bt;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pt=At([0,0]),Xt=Tt(a),pn=Xt.getNorthWest().distanceTo(Xt.getSouthWest())*Xt.getNorthEast().distanceTo(Xt.getNorthWest());pn<1700&&(Pt=na(a));var Ze=a.length,ei=[];for(m=0;m<Ze;m++){var de=At(a[m]);ei.push(u.project(At([de.lat-Pt.lat,de.lng-Pt.lng])))}for(Q=J=lt=0,m=0,v=Ze-1;m<Ze;v=m++)b=ei[m],R=ei[v],M=b.y*R.x-R.y*b.x,J+=(b.x+R.x)*M,lt+=(b.y+R.y)*M,Q+=M*3;Q===0?bt=ei[0]:bt=[J/Q,lt/Q];var me=u.unproject(Et(bt));return At([me.lat+Pt.lat,me.lng+Pt.lng])}function na(a){for(var u=0,m=0,v=0,b=0;b<a.length;b++){var R=At(a[b]);u+=R.lat,m+=R.lng,v++}return At([u/v,m/v])}var Bs={__proto__:null,clipPolygon:ta,polygonCenter:ea,centroid:na};function ho(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=fl(a,m),a=mo(a,m),a}function fo(a,u,m){return Math.sqrt(ci(a,u,m,!0))}function hs(a,u,m){return ci(a,u,m)}function mo(a,u){var m=a.length,v=typeof Uint8Array<"u"?Uint8Array:Array,b=new v(m);b[0]=b[m-1]=1,ia(a,b,u,0,m-1);var R,M=[];for(R=0;R<m;R++)b[R]&&M.push(a[R]);return M}function ia(a,u,m,v,b){var R=0,M,Q,J;for(Q=v+1;Q<=b-1;Q++)J=ci(a[Q],a[v],a[b],!0),J>R&&(M=Q,R=J);R>m&&(u[M]=1,ia(a,u,m,v,M),ia(a,u,m,M,b))}function fl(a,u){for(var m=[a[0]],v=1,b=0,R=a.length;v<R;v++)dl(a[v],a[b])>u&&(m.push(a[v]),b=v);return b<R-1&&m.push(a[R-1]),m}var po;function yr(a,u,m,v,b){var R=v?po:Gi(a,m),M=Gi(u,m),Q,J,lt;for(po=M;;){if(!(R|M))return[a,u];if(R&M)return!1;Q=R||M,J=nn(a,u,Q,m,b),lt=Gi(J,m),Q===R?(a=J,R=lt):(u=J,M=lt)}}function nn(a,u,m,v,b){var R=u.x-a.x,M=u.y-a.y,Q=v.min,J=v.max,lt,bt;return m&8?(lt=a.x+R*(J.y-a.y)/M,bt=J.y):m&4?(lt=a.x+R*(Q.y-a.y)/M,bt=Q.y):m&2?(lt=J.x,bt=a.y+M*(J.x-a.x)/R):m&1&&(lt=Q.x,bt=a.y+M*(Q.x-a.x)/R),new ft(lt,bt,b)}function Gi(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function dl(a,u){var m=u.x-a.x,v=u.y-a.y;return m*m+v*v}function ci(a,u,m,v){var b=u.x,R=u.y,M=m.x-b,Q=m.y-R,J=M*M+Q*Q,lt;return J>0&&(lt=((a.x-b)*M+(a.y-R)*Q)/J,lt>1?(b=m.x,R=m.y):lt>0&&(b+=M*lt,R+=Q*lt)),M=a.x-b,Q=a.y-R,v?M*M+Q*Q:new ft(b,R)}function d(a){return!_t(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function E(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(a)}function A(a,u){var m,v,b,R,M,Q,J,lt;if(!a||a.length===0)throw new Error("latlngs not passed");d(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var bt=At([0,0]),Pt=Tt(a),Xt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Xt<1700&&(bt=na(a));var pn=a.length,Ze=[];for(m=0;m<pn;m++){var ei=At(a[m]);Ze.push(u.project(At([ei.lat-bt.lat,ei.lng-bt.lng])))}for(m=0,v=0;m<pn-1;m++)v+=Ze[m].distanceTo(Ze[m+1])/2;if(v===0)lt=Ze[0];else for(m=0,R=0;m<pn-1;m++)if(M=Ze[m],Q=Ze[m+1],b=M.distanceTo(Q),R+=b,R>v){J=(R-v)/b,lt=[Q.x-J*(Q.x-M.x),Q.y-J*(Q.y-M.y)];break}var de=u.unproject(Et(lt));return At([de.lat+bt.lat,de.lng+bt.lng])}var O={__proto__:null,simplify:ho,pointToSegmentDistance:fo,closestPointOnSegment:hs,clipSegment:yr,_getEdgeIntersection:nn,_getBitCode:Gi,_sqClosestPointOnSegment:ci,isFlat:d,_flat:E,polylineCenter:A},X={project:function(a){return new ft(a.lng,a.lat)},unproject:function(a){return new St(a.y,a.x)},bounds:new B([-180,-90],[180,90])},nt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,v=a.lat*u,b=this.R_MINOR/m,R=Math.sqrt(1-b*b),M=R*Math.sin(v),Q=Math.tan(Math.PI/4-v/2)/Math.pow((1-M)/(1+M),R/2);return v=-m*Math.log(Math.max(Q,1e-10)),new ft(a.lng*u*m,v)},unproject:function(a){for(var u=180/Math.PI,m=this.R,v=this.R_MINOR/m,b=Math.sqrt(1-v*v),R=Math.exp(-a.y/m),M=Math.PI/2-2*Math.atan(R),Q=0,J=.1,lt;Q<15&&Math.abs(J)>1e-7;Q++)lt=b*Math.sin(M),lt=Math.pow((1-lt)/(1+lt),b/2),J=Math.PI/2-2*Math.atan(R*lt)-M,M+=J;return new St(M*u,a.x*u/m)}},vt={__proto__:null,LonLat:X,Mercator:nt,SphericalMercator:ii},fe=l({},Oe,{code:"EPSG:3395",projection:nt,transformation:(function(){var a=.5/(Math.PI*nt.R);return bi(a,.5,-a,.5)})()}),He=l({},Oe,{code:"EPSG:4326",projection:X,transformation:bi(1/180,1,-1/180,.5)}),Qt=l({},jt,{projection:X,transformation:bi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,v=u.lat-a.lat;return Math.sqrt(m*m+v*v)},infinite:!0});jt.Earth=Oe,jt.EPSG3395=fe,jt.EPSG3857=bs,jt.EPSG900913=wi,jt.EPSG4326=He,jt.Simple=Qt;var ye=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});$t.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=y(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?_t(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=y(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var b=this._zoomBoundLayers[v].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Me=ye.extend({initialize:function(a,u){Z(this,u),this._layers={};var m,v;if(a)for(m=0,v=a.length;m<v;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[a]&&v[a].apply(v,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),js=function(a,u){return new Me(a,u)},Ve=Me.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Me.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Me.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new mt;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),vr=function(a,u){return new Ve(a,u)},Bn=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){Z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(a,u){var m=this.options,v=m[u+"Size"];typeof v=="number"&&(v=[v,v]);var b=Et(v),R=Et(u==="shadow"&&m.shadowAnchor||m.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Ot.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function go(a){return new Bn(a)}var _o=Bn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof _o.imagePath!="string"&&(_o.imagePath=this._detectIconPath()),(this.options.imagePath||_o.imagePath)+Bn.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,v,b){var R=v.exec(m);return R&&R[b]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Yt("div","leaflet-default-icon-path",document.body),u=Ns(a,"background-image")||Ns(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),yo=ti.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ni(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Bt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,v=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,R=Wn(u._icon),M=m.getPixelBounds(),Q=m.getPixelOrigin(),J=st(M.min._subtract(Q).add(b),M.max._subtract(Q).subtract(b));if(!J.contains(R)){var lt=Et((Math.max(J.max.x,R.x)-J.max.x)/(M.max.x-J.max.x)-(Math.min(J.min.x,R.x)-J.min.x)/(M.min.x-J.min.x),(Math.max(J.max.y,R.y)-J.max.y)/(M.max.y-J.max.y)-(Math.min(J.min.y,R.y)-J.min.y)/(M.min.y-J.min.y)).multiplyBy(v);m.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),kt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=j(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=j(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,v=Wn(u._icon),b=u._map.layerPointToLatLng(v);m&&kt(m,v),u._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),vo=ye.extend({options:{icon:new _o,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){Z(this,u),this._latlng=At(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=At(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Bt(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(m,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),R=!1;b!==this._shadow&&(this._removeShadow(),R=!0),b&&(Bt(b,u),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&kt(this._icon,a),this._shadow&&kt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yo)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yo(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&le(this._icon,a),this._shadow&&le(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?Et(u.iconSize):Et(0,0),v=u.iconAnchor?Et(u.iconAnchor):Et(0,0);a.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $c(a,u){return new vo(a,u)}var Zi=ye.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return Z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sa=Zi.extend({options:{fill:!0,radius:10},initialize:function(a,u){Z(this,u),this._latlng=At(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=At(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Zi.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),v=[a+m,u+m];this._pxBounds=new B(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jc(a,u){return new sa(a,u)}var ml=sa.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=l({},m,{radius:u})),Z(this,u),this._latlng=At(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Zi.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===Oe.distance){var b=Math.PI/180,R=this._mRadius/Oe.R/b,M=m.project([u+R,a]),Q=m.project([u-R,a]),J=M.add(Q).divideBy(2),lt=m.unproject(J).lat,bt=Math.acos((Math.cos(R*b)-Math.sin(u*b)*Math.sin(lt*b))/(Math.cos(u*b)*Math.cos(lt*b)))/b;(isNaN(bt)||bt===0)&&(bt=R/Math.cos(Math.PI/180*u)),this._point=J.subtract(m.getPixelOrigin()),this._radius=isNaN(bt)?0:J.x-m.project([lt,a-bt]).x,this._radiusY=J.y-M.y}else{var Pt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Pt).x}this._updateBounds()}});function th(a,u,m){return new ml(a,u,m)}var fs=Zi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){Z(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,v=ci,b,R,M=0,Q=this._parts.length;M<Q;M++)for(var J=this._parts[M],lt=1,bt=J.length;lt<bt;lt++){b=J[lt-1],R=J[lt];var Pt=v(a,b,R,!0);Pt<u&&(u=Pt,m=v(a,b,R))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return A(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=At(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new mt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=d(a),v=0,b=a.length;v<b;v++)m?(u[v]=At(a[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(a[v]);return u},_project:function(){var a=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ft(a,a);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var v=a[0]instanceof St,b=a.length,R,M;if(v){for(M=[],R=0;R<b;R++)M[R]=this._map.latLngToLayerPoint(a[R]),m.extend(M[R]);u.push(M)}else for(R=0;R<b;R++)this._projectLatlngs(a[R],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,v,b,R,M,Q,J;for(m=0,b=0,R=this._rings.length;m<R;m++)for(J=this._rings[m],v=0,M=J.length;v<M-1;v++)Q=yr(J[v],J[v+1],a,v,!0),Q&&(u[b]=u[b]||[],u[b].push(Q[0]),(Q[1]!==J[v+1]||v===M-2)&&(u[b].push(Q[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,v=a.length;m<v;m++)a[m]=ho(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,v,b,R,M,Q,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,R=this._parts.length;m<R;m++)for(Q=this._parts[m],v=0,M=Q.length,b=M-1;v<M;b=v++)if(!(!u&&v===0)&&fo(a,Q[b],Q[v])<=J)return!0;return!1}});function _d(a,u){return new fs(a,u)}fs._flat=E;var ra=fs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ea(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=fs.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof St&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){fs.prototype._setLatLngs.call(this,a),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new ft(u,u);if(a=new B(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,b=this._rings.length,R;v<b;v++)R=ta(this._rings[v],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,v,b,R,M,Q,J,lt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,J=this._parts.length;R<J;R++)for(m=this._parts[R],M=0,lt=m.length,Q=lt-1;M<lt;Q=M++)v=m[M],b=m[Q],v.y>a.y!=b.y>a.y&&a.x<(b.x-v.x)*(a.y-v.y)/(b.y-v.y)+v.x&&(u=!u);return u||fs.prototype._containsPoint.call(this,a,!0)}});function yd(a,u){return new ra(a,u)}var ds=Ve.extend({initialize:function(a,u){Z(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=_t(a)?a:a.features,m,v,b;if(u){for(m=0,v=u.length;m<v;m++)b=u[m],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var M=wn(a,R);return M?(M.feature=_l(a),M.defaultOptions=M.options,this.resetStyle(M),R.onEachFeature&&R.onEachFeature(a,M),this.addLayer(M)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function wn(a,u){var m=a.type==="Feature"?a.geometry:a,v=m?m.coordinates:null,b=[],R=u&&u.pointToLayer,M=u&&u.coordsToLatLng||pl,Q,J,lt,bt;if(!v&&!m)return null;switch(m.type){case"Point":return Q=M(v),aa(R,a,Q,u);case"MultiPoint":for(lt=0,bt=v.length;lt<bt;lt++)Q=M(v[lt]),b.push(aa(R,a,Q,u));return new Ve(b);case"LineString":case"MultiLineString":return J=To(v,m.type==="LineString"?0:1,M),new fs(J,u);case"Polygon":case"MultiPolygon":return J=To(v,m.type==="Polygon"?1:2,M),new ra(J,u);case"GeometryCollection":for(lt=0,bt=m.geometries.length;lt<bt;lt++){var Pt=wn({geometry:m.geometries[lt],type:"Feature",properties:a.properties},u);Pt&&b.push(Pt)}return new Ve(b);case"FeatureCollection":for(lt=0,bt=m.features.length;lt<bt;lt++){var Xt=wn(m.features[lt],u);Xt&&b.push(Xt)}return new Ve(b);default:throw new Error("Invalid GeoJSON object.")}}function aa(a,u,m,v){return a?a(u,m):new vo(m,v&&v.markersInheritOptions&&v)}function pl(a){return new St(a[1],a[0],a[2])}function To(a,u,m){for(var v=[],b=0,R=a.length,M;b<R;b++)M=u?To(a[b],u-1,m):(m||pl)(a[b]),v.push(M);return v}function gl(a,u){return a=At(a),a.alt!==void 0?[C(a.lng,u),C(a.lat,u),C(a.alt,u)]:[C(a.lng,u),C(a.lat,u)]}function Eo(a,u,m,v){for(var b=[],R=0,M=a.length;R<M;R++)b.push(u?Eo(a[R],d(a[R])?0:u-1,m,v):gl(a[R],v));return!u&&m&&b.length>0&&b.push(b[0].slice()),b}function Hs(a,u){return a.feature?l({},a.feature,{geometry:u}):_l(u)}function _l(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Fs={toGeoJSON:function(a){return Hs(this,{type:"Point",coordinates:gl(this.getLatLng(),a)})}};vo.include(Fs),ml.include(Fs),sa.include(Fs),fs.include({toGeoJSON:function(a){var u=!d(this._latlngs),m=Eo(this._latlngs,u?1:0,!1,a);return Hs(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),ra.include({toGeoJSON:function(a){var u=!d(this._latlngs),m=u&&!d(this._latlngs[0]),v=Eo(this._latlngs,m?2:u?1:0,!0,a);return u||(v=[v]),Hs(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Me.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),Hs(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",v=[];return this.eachLayer(function(b){if(b.toGeoJSON){var R=b.toGeoJSON(a);if(m)v.push(R.geometry);else{var M=_l(R);M.type==="FeatureCollection"?v.push.apply(v,M.features):v.push(M)}}}),m?Hs(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function yl(a,u){return new ds(a,u)}var bo=yl,oa=ye.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=Tt(u),Z(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ge(this._image),this},bringToBack:function(){return this._map&&rs(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Tt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Yt("img");if(Bt(u,"leaflet-image-layer"),this._zoomAnimated&&Bt(u,"leaflet-zoom-animated"),this.options.className&&Bt(u,this.options.className),u.onselectstart=x,u.onmousemove=x,u.onload=f(this.fire,this,"load"),u.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;oi(this._image,m,u)},_reset:function(){var a=this._image,u=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();kt(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){le(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),eh=function(a,u,m){return new oa(a,u,m)},qs=oa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Yt("video");if(Bt(u,"leaflet-image-layer"),this._zoomAnimated&&Bt(u,"leaflet-zoom-animated"),this.options.className&&Bt(u,this.options.className),u.onselectstart=x,u.onmousemove=x,u.onloadeddata=f(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),v=[],b=0;b<m.length;b++)v.push(m[b].src);this._url=m.length>0?v:[u.src];return}_t(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var M=Yt("source");M.src=this._url[R],u.appendChild(M)}}});function la(a,u,m){return new qs(a,u,m)}var vl=oa.extend({_initImage:function(){var a=this._image=this._url;Bt(a,"leaflet-image-layer"),this._zoomAnimated&&Bt(a,"leaflet-zoom-animated"),this.options.className&&Bt(a,this.options.className),a.onselectstart=x,a.onmousemove=x}});function nh(a,u,m){return new vl(a,u,m)}var Sn=ye.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof St||_t(a))?(this._latlng=At(a),Z(this,u)):(Z(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&le(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&le(this._container,1),this.bringToFront(),this.options.interactive&&(Bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(le(this._container,0),this._removeTimeout=setTimeout(f(ce,void 0,this._container),200)):ce(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=At(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ge(this._container),this},bringToBack:function(){return this._map&&rs(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Ve){u=null;var m=this._source._layers;for(var v in m)if(m[v]._map){u=m[v];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=Et(this.options.offset),m=this._getAnchor();this._zoomAnimated?kt(this._container,a.add(m)):u=u.add(a).add(m);var v=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});$t.include({_initOverlay:function(a,u,m,v){var b=u;return b instanceof a||(b=new a(v).setContent(u)),m&&b.setLatLng(m),b}}),ye.include({_initOverlay:function(a,u,m,v){var b=m;return b instanceof a?(Z(b,v),b._source=this):(b=u&&!v?u:new a(v,this),b.setContent(m)),b}});var wo=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Sn.prototype.openOn.call(this,a)},onAdd:function(a){Sn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zi||this._source.on("preclick",En))},onRemove:function(a){Sn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zi||this._source.off("preclick",En))},getEvents:function(){var a=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Yt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Yt("div",a+"-content-wrapper",u);if(this._contentNode=Yt("div",a+"-content",m),qi(u),Nn(this._contentNode),Lt(u,"contextmenu",En),this._tipContainer=Yt("div",a+"-tip-container",u),this._tip=Yt("div",a+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Yt("a",a+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(v,"click",function(b){we(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var v=a.offsetHeight,b=this.options.maxHeight,R="leaflet-popup-scrolled";b&&v>b?(u.height=b+"px",Bt(a,R)):Ce(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();kt(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Ns(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,v=this._containerWidth,b=new ft(this._containerLeft,-m-this._containerBottom);b._add(Wn(this._container));var R=a.layerPointToContainerPoint(b),M=Et(this.options.autoPanPadding),Q=Et(this.options.autoPanPaddingTopLeft||M),J=Et(this.options.autoPanPaddingBottomRight||M),lt=a.getSize(),bt=0,Pt=0;R.x+v+J.x>lt.x&&(bt=R.x+v-lt.x+J.x),R.x-bt-Q.x<0&&(bt=R.x-Q.x),R.y+m+J.y>lt.y&&(Pt=R.y+m-lt.y+J.y),R.y-Pt-Q.y<0&&(Pt=R.y-Q.y),(bt||Pt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([bt,Pt]))}},_getAnchor:function(){return Et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ih=function(a,u){return new wo(a,u)};$t.mergeOptions({closePopupOnClick:!0}),$t.include({openPopup:function(a,u,m){return this._initOverlay(wo,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ye.include({bindPopup:function(a,u){return this._popup=this._initOverlay(wo,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Ve||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Un(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Zi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var So=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Sn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Sn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Sn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,v=this._map,b=this._container,R=v.latLngToContainerPoint(v.getCenter()),M=v.layerPointToContainerPoint(a),Q=this.options.direction,J=b.offsetWidth,lt=b.offsetHeight,bt=Et(this.options.offset),Pt=this._getAnchor();Q==="top"?(u=J/2,m=lt):Q==="bottom"?(u=J/2,m=0):Q==="center"?(u=J/2,m=lt/2):Q==="right"?(u=0,m=lt/2):Q==="left"?(u=J,m=lt/2):M.x<R.x?(Q="right",u=0,m=lt/2):(Q="left",u=J+(bt.x+Pt.x)*2,m=lt/2),a=a.subtract(Et(u,m,!0)).add(bt).add(Pt),Ce(b,"leaflet-tooltip-right"),Ce(b,"leaflet-tooltip-left"),Ce(b,"leaflet-tooltip-top"),Ce(b,"leaflet-tooltip-bottom"),Bt(b,"leaflet-tooltip-"+Q),kt(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&le(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return Et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vd=function(a,u){return new So(a,u)};$t.include({openTooltip:function(a,u,m){return this._initOverlay(So,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ye.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(So,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Ve||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Lt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Lt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,v;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),v=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var sh=Bn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(On(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=Et(m.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Td(a){return new sh(a)}Bn.Default=_o;var ua=ye.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){Z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ce(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ge(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(rs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ft?a:new ft(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),v=0,b=u.length,R;v<b;v++)R=u[v].style.zIndex,u[v]!==this._container&&R&&(m=a(m,+R));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){le(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var v in this._tiles){var b=this._tiles[v];if(!(!b.current||!b.loaded)){var R=Math.min(1,(a-b.loaded)/200);le(b.el,R),R<1?u=!0:(b.active?m=!0:this._onOpaqueTile(b),b.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(q(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(ce(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[a],b=this._map;return v||(v=this._levels[a]={},v.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),v.zoom=a,this._setZoomTransform(v,b.getCenter(),b.getZoom()),x(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ce(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,v){var b=Math.floor(a/2),R=Math.floor(u/2),M=m-1,Q=new ft(+b,+R);Q.z=+M;var J=this._tileCoordsToKey(Q),lt=this._tiles[J];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),M>v?this._retainParent(b,R,M,v):!1)},_retainChildren:function(a,u,m,v){for(var b=2*a;b<2*a+2;b++)for(var R=2*u;R<2*u+2;R++){var M=new ft(b,R);M.z=m+1;var Q=this._tileCoordsToKey(M),J=this._tiles[Q];if(J&&J.active){J.retain=!0;continue}else J&&J.loaded&&(J.retain=!0);m+1<v&&this._retainChildren(b,R,m+1,v)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,v){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var R=this.options.updateWhenZooming&&b!==this._tileZoom;(!v||R)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var v=this._map.getZoomScale(m,a.zoom),b=a.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,m)).round();Ot.any3d?oi(a.el,b,v):kt(a.el,b)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],v).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],v).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],v).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(m,this._tileZoom),b=u.project(a,this._tileZoom).floor(),R=u.getSize().divideBy(v*2);return new B(b.subtract(R),b.add(R))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(v),R=b.getCenter(),M=[],Q=this.options.keepBuffer,J=new B(b.getBottomLeft().subtract([Q,-Q]),b.getTopRight().add([Q,-Q]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var bt=this._tiles[lt].coords;(bt.z!==this._tileZoom||!J.contains(new ft(bt.x,bt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Pt=b.min.y;Pt<=b.max.y;Pt++)for(var Xt=b.min.x;Xt<=b.max.x;Xt++){var pn=new ft(Xt,Pt);if(pn.z=this._tileZoom,!!this._isValidTile(pn)){var Ze=this._tiles[this._tileCoordsToKey(pn)];Ze?Ze.current=!0:M.push(pn)}}if(M.sort(function(de,me){return de.distanceTo(R)-me.distanceTo(R)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ei=document.createDocumentFragment();for(Xt=0;Xt<M.length;Xt++)this._addTile(M[Xt],ei);this._level.el.appendChild(ei)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(a);return Tt(this.options.bounds).overlaps(v)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),v=a.scaleBy(m),b=v.add(m),R=u.unproject(v,a.z),M=u.unproject(b,a.z);return[R,M]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new mt(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new ft(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(ce(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Bt(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=x,a.onmousemove=x,Ot.ielt9&&this.options.opacity<1&&le(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),v=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&j(f(this._tileReady,this,a,null,b)),kt(b,m),this._tiles[v]={el:b,coords:a,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var v=this._tileCoordsToKey(a);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(le(m.el,0),q(this._fadeFrame),this._fadeFrame=j(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(Bt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?j(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ft(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new B(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function rh(a){return new ua(a)}var Gs=ua.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=Z(this,u),u.detectRetina&&Ot.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Lt(m,"load",f(this._tileOnLoad,this,u,m)),Lt(m,"error",f(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:Ot.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return pt(this._url,l(u,this.options))},_tileOnLoad:function(a,u){Ot.ielt9?setTimeout(f(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(a=u-a),a+v},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=x,u.onerror=x,!u.complete)){u.src=gt;var m=this._tiles[a].coords;ce(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",gt),ua.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===gt))return ua.prototype._tileReady.call(this,a,u,m)}});function hi(a,u){return new Gs(a,u)}var Ao=Gs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=l({},this.defaultWmsParams);for(var v in u)v in this.options||(m[v]=u[v]);u=Z(this,u);var b=u.detectRetina&&Ot.retina?2:1,R=this.getTileSize();m.width=R.x*b,m.height=R.y*b,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Gs.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,v=st(m.project(u[0]),m.project(u[1])),b=v.min,R=v.max,M=(this._wmsVersion>=1.3&&this._crs===He?[b.y,b.x,R.y,R.x]:[b.x,b.y,R.x,R.y]).join(","),Q=Gs.prototype.getTileUrl.call(this,a);return Q+K(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function fi(a,u){return new Ao(a,u)}Gs.WMS=Ao,hi.wms=fi;var jn=ye.extend({options:{padding:.1},initialize:function(a){Z(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),R=v.multiplyBy(-m).add(b).subtract(this._map._getNewPixelOrigin(a,u));Ot.any3d?oi(this._container,R,m):kt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new B(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tl=jn.extend({options:{tolerance:0},getEvents:function(){var a=jn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){jn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Lt(a,"mousemove",this._onMouseMove,this),Lt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,ce(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jn.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),v=Ot.retina?2:1;kt(u,a.min),u.width=v*m.x,u.height=v*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){jn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,v=u.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],v,b;for(b=0;b<u.length;b++){if(v=Number(u[b]),isNaN(v))return;m.push(v)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||j(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)a=v.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,v,b,R,M=a._parts,Q=M.length,J=this._ctx;if(Q){for(J.beginPath(),m=0;m<Q;m++){for(v=0,b=M[m].length;v<b;v++)R=M[m][v],J[v?"lineTo":"moveTo"](R.x,R.y);u&&J.closePath()}this._fillStroke(J,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,v=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||v)/v;b!==1&&(m.save(),m.scale(1,b)),m.beginPath(),m.arc(u.x,u.y/b,v,0,Math.PI*2,!1),b!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,v,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,v,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(u)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(a),v&&(Bt(this._container,"leaflet-interactive"),this._fireEvent([v],a,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,v=u.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,v=u.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function xo(a){return Ot.canvas?new Tl(a):null}var Zs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Tu={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(jn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Zs("shape");Bt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Zs("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;ce(u),a.removeInteractiveTarget(u),delete this._layers[y(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,v=a.options,b=a._container;b.stroked=!!v.stroke,b.filled=!!v.fill,v.stroke?(u||(u=a._stroke=Zs("stroke")),b.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=_t(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(b.removeChild(u),a._stroke=null),v.fill?(m||(m=a._fill=Zs("fill")),b.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(b.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),v=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Ge(a._container)},_bringToBack:function(a){rs(a._container)}},Ki=Ot.vml?Zs:ws,ca=jn.extend({_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),kt(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Ki("path");a.options.className&&Bt(u,a.options.className),a.options.interactive&&Bt(u,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ce(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,or(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),v=Math.max(Math.round(a._radiusY),1)||m,b="a"+m+","+v+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+b+m*2+",0 "+b+-m*2+",0 ";this._setPath(a,R)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Ge(a._path)},_bringToBack:function(a){rs(a._path)}});Ot.vml&&ca.include(Tu);function Co(a){return Ot.svg||Ot.vml?new ca(a):null}$t.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&xo(a)||Co(a)}});var Tr=ra.extend({initialize:function(a,u){ra.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Tt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Ed(a,u){return new Tr(a,u)}ca.create=Ki,ca.pointsToPath=or,ds.geometryToLayer=wn,ds.coordsToLatLng=pl,ds.coordsToLatLngs=To,ds.latLngToCoords=gl,ds.latLngsToCoords=Eo,ds.getFeature=Hs,ds.asFeature=_l,$t.mergeOptions({boxZoom:!0});var Hn=ti.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),li(),Xr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Lt(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),Bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new B(this._point,this._startPoint),m=u.getSize();kt(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ce(this._box),Ce(this._container,"leaflet-crosshair")),vn(),dr(),he(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var u=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$t.addInitHook("addHandler","boxZoom",Hn),$t.mergeOptions({doubleClickZoom:!0});var El=ti.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),v=u.options.zoomDelta,b=a.originalEvent.shiftKey?m-v:m+v;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(a.containerPoint,b)}});$t.addInitHook("addHandler","doubleClickZoom",El),$t.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yi=ti.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ni(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Tt(this._map.options.maxBounds);this._offsetLimit=st(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,b=(v-u+m)%a+u-m,R=(v+u+m)%a-u-m,M=Math.abs(b+m)<Math.abs(R+m)?b:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(a){var u=this._map,m=u.options,v=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),v)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,M=m.easeLinearity,Q=b.multiplyBy(M/R),J=Q.distanceTo([0,0]),lt=Math.min(m.inertiaMaxSpeed,J),bt=Q.multiplyBy(lt/J),Pt=lt/(m.inertiaDeceleration*M),Xt=bt.multiplyBy(-Pt/2).round();!Xt.x&&!Xt.y?u.fire("moveend"):(Xt=u._limitOffset(Xt,u.options.maxBounds),j(function(){u.panBy(Xt,{duration:Pt,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});$t.addInitHook("addHandler","dragging",Yi),$t.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Eu=ti.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Lt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,v=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,v,b;for(v=0,b=m.left.length;v<b;v++)u[m.left[v]]=[-1*a,0];for(v=0,b=m.right.length;v<b;v++)u[m.right[v]]=[a,0];for(v=0,b=m.down.length;v<b;v++)u[m.down[v]]=[0,a];for(v=0,b=m.up.length;v<b;v++)u[m.up[v]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,v,b;for(v=0,b=m.zoomIn.length;v<b;v++)u[m.zoomIn[v]]=a;for(v=0,b=m.zoomOut.length;v<b;v++)u[m.zoomOut[v]]=-a},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,v;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[u],a.shiftKey&&(v=Et(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(Et(v),m.options.maxBounds)),m.options.worldCopyJump){var b=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(b)}else m.panBy(v)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Un(a)}}});$t.addInitHook("addHandler","keyboard",Eu),$t.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ro=ti.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=mn(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),v),Un(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,R=m?Math.ceil(b/m)*m:b,M=a._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,M&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+M):a.setZoomAround(this._lastMousePos,u+M))}});$t.addInitHook("addHandler","scrollWheelZoom",Ro);var Er=600;$t.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var bl=ti.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ft(u.clientX,u.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",we),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Er),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){he(document,"touchend",we),he(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ft(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});$t.addInitHook("addHandler","tapHold",bl),$t.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var bu=ti.extend({addHooks:function(){Bt(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),v=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),we(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),v=u.mouseEventToContainerPoint(a.touches[1]),b=m.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var R=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(b===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var M=f(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=j(M,this,!0),we(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$t.addInitHook("addHandler","touchZoom",bu),$t.BoxZoom=Hn,$t.DoubleClickZoom=El,$t.Drag=Yi,$t.Keyboard=Eu,$t.ScrollWheelZoom=Ro,$t.TapHold=bl,$t.TouchZoom=bu,e.Bounds=B,e.Browser=Ot,e.CRS=jt,e.Canvas=Tl,e.Circle=ml,e.CircleMarker=sa,e.Class=te,e.Control=bn,e.DivIcon=sh,e.DivOverlay=Sn,e.DomEvent=gr,e.DomUtil=os,e.Draggable=Ni,e.Evented=yt,e.FeatureGroup=Ve,e.GeoJSON=ds,e.GridLayer=ua,e.Handler=ti,e.Icon=Bn,e.ImageOverlay=oa,e.LatLng=St,e.LatLngBounds=mt,e.Layer=ye,e.LayerGroup=Me,e.LineUtil=O,e.Map=$t,e.Marker=vo,e.Mixin=_r,e.Path=Zi,e.Point=ft,e.PolyUtil=Bs,e.Polygon=ra,e.Polyline=fs,e.Popup=wo,e.PosAnimation=us,e.Projection=vt,e.Rectangle=Tr,e.Renderer=jn,e.SVG=ca,e.SVGOverlay=vl,e.TileLayer=Gs,e.Tooltip=So,e.Transformation=Ei,e.Util=z,e.VideoOverlay=qs,e.bind=f,e.bounds=st,e.canvas=xo,e.circle=th,e.circleMarker=Jc,e.control=We,e.divIcon=Td,e.extend=l,e.featureGroup=vr,e.geoJSON=yl,e.geoJson=bo,e.gridLayer=rh,e.icon=go,e.imageOverlay=eh,e.latLng=At,e.latLngBounds=Tt,e.layerGroup=js,e.map=ks,e.marker=$c,e.point=Et,e.polygon=yd,e.polyline=_d,e.popup=ih,e.rectangle=Ed,e.setOptions=Z,e.stamp=y,e.svg=Co,e.svgOverlay=nh,e.tileLayer=hi,e.tooltip=vd,e.transformation=bi,e.version=r,e.videoOverlay=la;var wu=window.L;e.noConflict=function(){return window.L=wu,this},window.L=e}))})(fc,fc.exports)),fc.exports}var nl=zP();function Jg(i,t,e){return Object.freeze({instance:i,context:t,container:e})}function t_(i,t){return t==null?function(r,l){const h=at.useRef();return h.current||(h.current=i(r,l)),h}:function(r,l){const h=at.useRef();h.current||(h.current=i(r,l));const f=at.useRef(r),{instance:_}=h.current;return at.useEffect(function(){f.current!==r&&(t(_,r,f.current),f.current=r)},[_,r,l]),h}}function UP(i,t){at.useEffect(function(){return(t.layerContainer??t.map).addLayer(i.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(i.instance),t.map.removeLayer(i.instance)}},[t,i])}function Jw(i){return function(e){const r=Wg(),l=i($g(e,r),r);return Qw(r.map,e.attribution),$w(l.current,e.eventHandlers),UP(l.current,r),l}}function BP(i,t){const e=t_(i,t),r=Jw(e);return LP(r)}function jP(i,t){const e=t_(i),r=kP(e,t);return DP(r)}function HP(i,t){const e=t_(i,t),r=Jw(e);return MP(r)}function FP(i,t,e){const{opacity:r,zIndex:l}=t;r!=null&&r!==e.opacity&&i.setOpacity(r),l!=null&&l!==e.zIndex&&i.setZIndex(l)}function qP(){return Wg().map}function GP(i){const t=qP();return at.useEffect(function(){return t.on(i),function(){t.off(i)}},[t,i]),t}function Wp(){return Wp=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Wp.apply(this,arguments)}function ZP({bounds:i,boundsOptions:t,center:e,children:r,className:l,id:h,placeholder:f,style:_,whenReady:y,zoom:T,...S},x){const[C]=at.useState({className:l,id:h,style:_}),[P,G]=at.useState(null);at.useImperativeHandle(x,()=>(P==null?void 0:P.map)??null,[P]);const Z=at.useCallback(ht=>{if(ht!==null&&P===null){const pt=new nl.Map(ht,S);e!=null&&T!=null?pt.setView(e,T):i!=null&&pt.fitBounds(i,t),y!=null&&pt.whenReady(y),G(NP(pt))}},[]);at.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const K=P?Ef.createElement(Ww,{value:P},r):f??null;return Ef.createElement("div",Wp({},C,{ref:Z}),K)}const KP=at.forwardRef(ZP),QT=BP(function({position:t,...e},r){const l=new nl.Marker(t,e);return Jg(l,PP(r,{overlayContainer:l}))},function(t,e,r){e.position!==r.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),XT=jP(function(t,e){const r=new nl.Popup(t,e.overlayContainer);return Jg(r,e)},function(t,e,{position:r},l){at.useEffect(function(){const{instance:f}=t;function _(T){T.popup===f&&(f.update(),l(!0))}function y(T){T.popup===f&&l(!1)}return e.map.on({popupopen:_,popupclose:y}),e.overlayContainer==null?(r!=null&&f.setLatLng(r),f.openOn(e.map)):e.overlayContainer.bindPopup(f),function(){var S;e.map.off({popupopen:_,popupclose:y}),(S=e.overlayContainer)==null||S.unbindPopup(),e.map.removeLayer(f)}},[t,e,l,r])}),YP=HP(function({url:t,...e},r){const l=new nl.TileLayer(t,$g(e,r));return Jg(l,r)},function(t,e,r){FP(t,e,r);const{url:l}=e;l!=null&&l!==r.url&&t.setUrl(l)}),QP=new nl.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),XP=new nl.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),WP=new nl.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function $P({onClick:i}){return GP({click:t=>{i&&i(t.latlng.lat,t.latlng.lng)}}),null}function e_({bookstores:i,center:t=[37.5665,126.978],zoom:e=13,onMapClick:r,selectedLocation:l,selectedBookstoreId:h}){return V.jsx("div",{className:"h-full w-full",children:V.jsxs(KP,{center:t,zoom:e,className:"h-full w-full rounded-lg shadow-lg",scrollWheelZoom:!0,children:[V.jsx(YP,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r&&V.jsx($P,{onClick:r}),l&&V.jsx(QT,{position:[l.lat,l.lng],icon:XP,children:V.jsx(XT,{children:V.jsxs("div",{className:"text-center",children:[V.jsx("p",{className:"font-semibold",children:" "}),V.jsxs("p",{className:"text-sm text-gray-600",children:[": ",l.lat.toFixed(6)]}),V.jsxs("p",{className:"text-sm text-gray-600",children:[": ",l.lng.toFixed(6)]})]})})}),i.map(f=>V.jsx(QT,{position:[f.latitude,f.longitude],icon:h===f.id?WP:QP,children:V.jsx(XT,{children:V.jsxs("div",{className:"min-w-[200px]",children:[V.jsx("h3",{className:"font-bold text-lg mb-2",children:f.name}),V.jsxs("div",{className:"space-y-1 text-sm",children:[V.jsxs("p",{className:"text-gray-600",children:[" ",f.address]}),f.category&&V.jsxs("p",{className:"text-gray-600",children:[" ",f.category]}),f.phone&&V.jsxs("p",{className:"text-gray-600",children:[" ",f.phone]}),f.openTime&&f.closeTime&&V.jsxs("p",{className:"text-gray-600",children:[" ",f.openTime," - ",f.closeTime]}),f.closedDays&&V.jsxs("p",{className:"text-gray-600",children:[" ",f.closedDays]}),f.description&&V.jsx("p",{className:"text-gray-600 mt-2",children:f.description}),f.isUserAdded&&V.jsx("p",{className:"text-blue-600 font-semibold mt-2",children:"   "})]})]})})},f.id))]})},`map-wrapper-${i.length}`)}function JP({message:i=" ..."}){return V.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[V.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"}),V.jsx("p",{className:"mt-4 text-gray-600",children:i})]})}function tL(){const{t:i}=Mc(),[t,e]=at.useState([]),[r,l]=at.useState(!0),[h,f]=at.useState(""),[_,y]=at.useState(""),[T,S]=at.useState(null),x=async()=>{l(!0),f("");try{const[P,G]=await Promise.all([SP(1,417).catch(Z=>(console.error("API  :",Z),[])),xP().catch(Z=>(console.error("Firestore  :",Z),[]))]);e([...G,...P])}catch(P){console.error("  :",P),f(P.message||i("home.error")),e([])}finally{l(!1)}};at.useEffect(()=>{x()},[]);const C=t.filter(P=>{const G=_.toLowerCase();return P.name.toLowerCase().includes(G)||P.address.toLowerCase().includes(G)||P.category&&P.category.toLowerCase().includes(G)});return r?V.jsx(JP,{message:i("home.loading")}):V.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h&&V.jsxs("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[V.jsx("p",{className:"font-semibold",children:"  "}),V.jsx("p",{children:h}),V.jsx("button",{onClick:x,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:" "})]}),V.jsxs("div",{className:"mb-8",children:[V.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:i("home.title")}),V.jsxs("div",{className:"relative",children:[V.jsx("input",{type:"text",value:_,onChange:P=>y(P.target.value),placeholder:i("home.searchPlaceholder"),className:"w-full px-6 py-4 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition text-lg"}),V.jsx("span",{className:"absolute right-4 top-4 text-2xl",children:""})]}),V.jsxs("div",{className:"mt-4 text-gray-600",children:[V.jsxs("span",{className:"font-semibold text-xl",children:[i("home.totalStores"),": ",C.length]}),_&&V.jsxs("span",{className:"ml-4 text-blue-600",children:["( : ",C.length,")"]})]})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[V.jsx("div",{className:"h-[600px] rounded-xl overflow-hidden shadow-xl",children:V.jsx(e_,{bookstores:C,selectedBookstoreId:T})}),V.jsx("div",{className:"h-[600px] overflow-y-auto space-y-4 pr-2",children:C.length===0?V.jsxs("div",{className:"text-center text-gray-500 mt-20",children:[V.jsx("p",{className:"text-xl",children:""}),V.jsx("p",{className:"mt-2",children:i("home.noResults")})]}):C.map(P=>V.jsxs("div",{onClick:()=>S(P.id),className:`bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition border-2 cursor-pointer ${T===P.id?"border-blue-500 bg-blue-50":"border-transparent hover:border-blue-300"}`,children:[V.jsxs("div",{className:"flex justify-between items-start mb-3",children:[V.jsx("h3",{className:"text-xl font-bold text-gray-800",children:P.name}),P.isUserAdded&&V.jsx("span",{className:"bg-blue-100 text-blue-600 text-xs font-semibold px-3 py-1 rounded-full",children:" "})]}),V.jsxs("div",{className:"space-y-2 text-gray-600",children:[V.jsxs("p",{className:"flex items-start",children:[V.jsx("span",{className:"mr-2",children:""}),V.jsx("span",{className:"flex-1",children:P.address})]}),P.category&&V.jsxs("p",{className:"flex items-center",children:[V.jsx("span",{className:"mr-2",children:""}),V.jsx("span",{children:P.category})]}),P.phone&&V.jsxs("p",{className:"flex items-center",children:[V.jsx("span",{className:"mr-2",children:""}),V.jsx("span",{children:P.phone})]}),P.openTime&&P.closeTime&&V.jsxs("p",{className:"flex items-center",children:[V.jsx("span",{className:"mr-2",children:""}),V.jsxs("span",{children:[P.openTime," - ",P.closeTime]})]}),P.closedDays&&V.jsxs("p",{className:"flex items-center",children:[V.jsx("span",{className:"mr-2",children:""}),V.jsx("span",{children:P.closedDays})]}),P.description&&V.jsxs("p",{className:"flex items-start mt-3 pt-3 border-t border-gray-200",children:[V.jsx("span",{className:"mr-2",children:""}),V.jsx("span",{className:"flex-1 text-sm",children:P.description})]})]})]},P.id))})]})]})}function eL(){const{t:i}=Mc(),t=Yf(),[e,r]=at.useState(!1),[l,h]=at.useState(""),[f,_]=at.useState(""),[y,T]=at.useState(""),[S,x]=at.useState(!1),[C,P]=at.useState(""),[G,Z]=at.useState(""),K=async ht=>{if(ht.preventDefault(),P(""),Z(""),e&&f!==y){P("  ");return}x(!0);try{e?(await pP(l,f),Z(i("login.signUpSuccess"))):(await gP(l,f),Z(i("login.loginSuccess"))),setTimeout(()=>{t("/")},1e3)}catch(pt){P(pt.message||i("login.error"))}finally{x(!1)}};return V.jsx("div",{className:"min-h-screen bg-linear-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:V.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[V.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:i(e?"login.signUpTitle":"login.title")}),C&&V.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:C}),G&&V.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:G}),V.jsxs("form",{onSubmit:K,className:"space-y-6",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("login.email")}),V.jsx("input",{type:"email",value:l,onChange:ht=>h(ht.target.value),placeholder:i("login.emailPlaceholder"),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("login.password")}),V.jsx("input",{type:"password",value:f,onChange:ht=>_(ht.target.value),placeholder:i("login.passwordPlaceholder"),required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"})]}),e&&V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("login.confirmPassword")}),V.jsx("input",{type:"password",value:y,onChange:ht=>T(ht.target.value),placeholder:i("login.confirmPassword"),required:!0,minLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"})]}),V.jsx("button",{type:"submit",disabled:S,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:i(S?"login.loading":e?"login.signUp":"login.signIn")})]}),V.jsxs("div",{className:"mt-6 text-center",children:[V.jsx("p",{className:"text-gray-600",children:i(e?"login.haveAccount":"login.noAccount")}),V.jsx("button",{onClick:()=>{r(!e),P(""),Z("")},className:"mt-2 text-blue-600 hover:text-blue-800 font-semibold transition",children:i(e?"login.signIn":"login.signUp")})]})]})})}function nL(){const{t:i}=Mc(),t=Yf(),[e,r]=at.useState(!1),[l,h]=at.useState(""),[f,_]=at.useState(""),[y,T]=at.useState(null),[S,x]=at.useState({name:"",address:"",category:"",phone:"",openTime:"",closeTime:"",closedDays:"",description:""});at.useEffect(()=>{vc()||(alert(i("addBookstore.loginRequired")),t("/login"))},[t,i]);const C=Z=>{const{name:K,value:ht}=Z.target;x(pt=>({...pt,[K]:ht}))},P=(Z,K)=>{T({lat:Z,lng:K})},G=async Z=>{if(Z.preventDefault(),h(""),_(""),!y){h("  ");return}const K=vc();if(!K){h(i("addBookstore.loginRequired"));return}r(!0);try{const ht={name:S.name.trim(),address:S.address.trim(),latitude:y.lat,longitude:y.lng,category:S.category.trim()||"",phone:S.phone.trim()||void 0,openTime:S.openTime||void 0,closeTime:S.closeTime||void 0,closedDays:S.closedDays.trim()||void 0,description:S.description.trim()||void 0,isUserAdded:!0};await AP(ht,K.uid),_(i("addBookstore.success")),setTimeout(()=>{t("/")},1500)}catch(ht){h(ht.message||i("addBookstore.error"))}finally{r(!1)}};return V.jsx("div",{className:"container mx-auto px-4 py-8",children:V.jsxs("div",{className:"max-w-6xl mx-auto",children:[V.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8",children:i("addBookstore.title")}),l&&V.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:l}),f&&V.jsx("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:f}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[V.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:V.jsxs("form",{onSubmit:G,className:"space-y-4",children:[V.jsxs("div",{children:[V.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[i("addBookstore.name")," *"]}),V.jsx("input",{type:"text",name:"name",value:S.name,onChange:C,placeholder:i("addBookstore.namePlaceholder"),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),V.jsxs("div",{children:[V.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[i("addBookstore.address")," *"]}),V.jsx("input",{type:"text",name:"address",value:S.address,onChange:C,placeholder:i("addBookstore.addressPlaceholder"),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.category")}),V.jsx("input",{type:"text",name:"category",value:S.category,onChange:C,placeholder:i("addBookstore.categoryPlaceholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.phone")}),V.jsx("input",{type:"tel",name:"phone",value:S.phone,onChange:C,placeholder:i("addBookstore.phonePlaceholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),V.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.openTime")}),V.jsx("input",{type:"time",name:"openTime",value:S.openTime,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.closeTime")}),V.jsx("input",{type:"time",name:"closeTime",value:S.closeTime,onChange:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.closedDays")}),V.jsx("input",{type:"text",name:"closedDays",value:S.closedDays,onChange:C,placeholder:i("addBookstore.closedDaysPlaceholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.description")}),V.jsx("textarea",{name:"description",value:S.description,onChange:C,placeholder:i("addBookstore.descriptionPlaceholder"),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),y&&V.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[V.jsx("p",{className:"font-semibold text-blue-800 mb-1",children:" "}),V.jsxs("p",{className:"text-sm text-blue-600",children:[": ",y.lat.toFixed(6)]}),V.jsxs("p",{className:"text-sm text-blue-600",children:[": ",y.lng.toFixed(6)]})]}),V.jsxs("div",{className:"flex gap-4 pt-4",children:[V.jsx("button",{type:"submit",disabled:e||!y,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:i(e?"addBookstore.loading":"addBookstore.submit")}),V.jsx("button",{type:"button",onClick:()=>t("/"),className:"flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400 transition",children:i("addBookstore.cancel")})]})]})}),V.jsx("div",{children:V.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[V.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:i("addBookstore.clickMap")}),V.jsx("div",{className:"h-[600px] rounded-lg overflow-hidden",children:V.jsx(e_,{bookstores:[],center:[37.5665,126.978],zoom:12,onMapClick:P,selectedLocation:y})})]})})]})]})})}function iL(){const{t:i}=Mc(),t=Yf(),[e,r]=at.useState([]),[l,h]=at.useState(!0),[f,_]=at.useState(""),[y,T]=at.useState(null),[S,x]=at.useState({}),[C,P]=at.useState(null);at.useEffect(()=>{const gt=vc();if(!gt){alert(i("addBookstore.loginRequired")),t("/login");return}G(gt.uid)},[t,i]);const G=async gt=>{try{h(!0);const xt=await CP(gt);r(xt)}catch(xt){_(xt.message)}finally{h(!1)}},Z=gt=>{T(gt.id),x({name:gt.name,address:gt.address,category:gt.category,phone:gt.phone||"",openTime:gt.openTime||"",closeTime:gt.closeTime||"",closedDays:gt.closedDays||"",description:gt.description||""}),P({lat:gt.latitude,lng:gt.longitude})},K=()=>{T(null),x({}),P(null)},ht=gt=>{const{name:xt,value:k}=gt.target;x(N=>({...N,[xt]:k}))},pt=(gt,xt)=>{P({lat:gt,lng:xt})},_t=async gt=>{var xt,k,N;try{const D={name:S.name.trim(),address:S.address.trim(),category:S.category.trim()||""};C&&(D.latitude=C.lat,D.longitude=C.lng);const H=(xt=S.phone)==null?void 0:xt.trim(),j=S.openTime,q=S.closeTime,z=(k=S.closedDays)==null?void 0:k.trim(),te=(N=S.description)==null?void 0:N.trim();H&&(D.phone=H),j&&(D.openTime=j),q&&(D.closeTime=q),z&&(D.closedDays=z),te&&(D.description=te),await RP(gt,D),alert(i("bookstore.updateSuccess"));const be=vc();be&&await G(be.uid),K()}catch(D){alert(i("bookstore.updateError")+": "+D.message)}},wt=async gt=>{if(confirm(i("bookstore.confirmDelete")))try{await IP(gt),alert(i("bookstore.deleteSuccess"));const xt=vc();xt&&await G(xt.uid)}catch(xt){alert(i("bookstore.deleteError")+": "+xt.message)}};return l?V.jsx("div",{className:"container mx-auto px-4 py-8",children:V.jsx("div",{className:"text-center",children:i("common.loading")})}):V.jsx("div",{className:"container mx-auto px-4 py-8",children:V.jsxs("div",{className:"max-w-7xl mx-auto",children:[V.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8",children:i("myPage.title")}),f&&V.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:f}),e.length===0?V.jsxs("div",{className:"text-center py-12",children:[V.jsx("p",{className:"text-gray-500 text-lg mb-4",children:i("myPage.noBookstores")}),V.jsx("button",{onClick:()=>t("/add"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:i("nav.addBookstore")})]}):V.jsx("div",{className:"space-y-6",children:e.map(gt=>V.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:y===gt.id?V.jsxs("div",{children:[V.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:i("myPage.editing")}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{children:[V.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[i("addBookstore.name")," *"]}),V.jsx("input",{type:"text",name:"name",value:S.name||"",onChange:ht,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),V.jsxs("div",{children:[V.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[i("addBookstore.address")," *"]}),V.jsx("input",{type:"text",name:"address",value:S.address||"",onChange:ht,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.category")}),V.jsx("input",{type:"text",name:"category",value:S.category||"",onChange:ht,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.phone")}),V.jsx("input",{type:"tel",name:"phone",value:S.phone||"",onChange:ht,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),V.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.openTime")}),V.jsx("input",{type:"time",name:"openTime",value:S.openTime||"",onChange:ht,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.closeTime")}),V.jsx("input",{type:"time",name:"closeTime",value:S.closeTime||"",onChange:ht,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.closedDays")}),V.jsx("input",{type:"text",name:"closedDays",value:S.closedDays||"",onChange:ht,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i("addBookstore.description")}),V.jsx("textarea",{name:"description",value:S.description||"",onChange:ht,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),V.jsxs("div",{className:"flex gap-3",children:[V.jsx("button",{onClick:()=>_t(gt.id),className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:i("common.save")}),V.jsx("button",{onClick:K,className:"flex-1 px-6 py-3 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition font-semibold",children:i("common.cancel")})]})]}),V.jsxs("div",{children:[V.jsx("p",{className:"text-sm text-gray-600 mb-2",children:i("addBookstore.clickMap")}),V.jsx("div",{className:"rounded-lg overflow-hidden shadow-md h-[500px]",children:V.jsx(e_,{bookstores:[],onMapClick:pt,selectedLocation:C,center:C?[C.lat,C.lng]:[gt.latitude,gt.longitude],zoom:15})}),C&&V.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[V.jsxs("p",{children:[i("addBookstore.latitude"),":"," ",C.lat.toFixed(6)]}),V.jsxs("p",{children:[i("addBookstore.longitude"),":"," ",C.lng.toFixed(6)]})]})]})]})]}):V.jsxs("div",{children:[V.jsxs("div",{className:"flex justify-between items-start mb-4",children:[V.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:gt.name}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:()=>Z(gt),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-semibold",children:i("common.edit")}),V.jsx("button",{onClick:()=>wt(gt.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition text-sm font-semibold",children:i("common.delete")})]})]}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700",children:[V.jsxs("div",{children:[V.jsxs("p",{className:"font-semibold text-gray-800",children:[i("addBookstore.address"),":"]}),V.jsx("p",{children:gt.address})]}),gt.category&&V.jsxs("div",{children:[V.jsxs("p",{className:"font-semibold text-gray-800",children:[i("addBookstore.category"),":"]}),V.jsx("p",{children:gt.category})]}),gt.phone&&V.jsxs("div",{children:[V.jsxs("p",{className:"font-semibold text-gray-800",children:[i("addBookstore.phone"),":"]}),V.jsx("p",{children:gt.phone})]}),(gt.openTime||gt.closeTime)&&V.jsxs("div",{children:[V.jsxs("p",{className:"font-semibold text-gray-800",children:[i("myPage.businessHours"),":"]}),V.jsxs("p",{children:[gt.openTime||"?"," -"," ",gt.closeTime||"?"]})]}),gt.closedDays&&V.jsxs("div",{children:[V.jsxs("p",{className:"font-semibold text-gray-800",children:[i("addBookstore.closedDays"),":"]}),V.jsx("p",{children:gt.closedDays})]}),gt.description&&V.jsxs("div",{className:"md:col-span-2",children:[V.jsxs("p",{className:"font-semibold text-gray-800",children:[i("addBookstore.description"),":"]}),V.jsx("p",{children:gt.description})]}),gt.createdAt&&V.jsxs("div",{className:"md:col-span-2 text-sm text-gray-500",children:[i("myPage.createdAt"),":"," ",gt.createdAt.toLocaleString()]})]})]})},gt.id))})]})})}const Ht=i=>typeof i=="string",rc=()=>{let i,t;const e=new Promise((r,l)=>{i=r,t=l});return e.resolve=i,e.reject=t,e},WT=i=>i==null?"":""+i,sL=(i,t,e)=>{i.forEach(r=>{t[r]&&(e[r]=t[r])})},rL=/###/g,$T=i=>i&&i.indexOf("###")>-1?i.replace(rL,"."):i,JT=i=>!i||Ht(i),Tc=(i,t,e)=>{const r=Ht(t)?t.split("."):t;let l=0;for(;l<r.length-1;){if(JT(i))return{};const h=$T(r[l]);!i[h]&&e&&(i[h]=new e),Object.prototype.hasOwnProperty.call(i,h)?i=i[h]:i={},++l}return JT(i)?{}:{obj:i,k:$T(r[l])}},tE=(i,t,e)=>{const{obj:r,k:l}=Tc(i,t,Object);if(r!==void 0||t.length===1){r[l]=e;return}let h=t[t.length-1],f=t.slice(0,t.length-1),_=Tc(i,f,Object);for(;_.obj===void 0&&f.length;)h=`${f[f.length-1]}.${h}`,f=f.slice(0,f.length-1),_=Tc(i,f,Object),_&&_.obj&&typeof _.obj[`${_.k}.${h}`]<"u"&&(_.obj=void 0);_.obj[`${_.k}.${h}`]=e},aL=(i,t,e,r)=>{const{obj:l,k:h}=Tc(i,t,Object);l[h]=l[h]||[],l[h].push(e)},Hf=(i,t)=>{const{obj:e,k:r}=Tc(i,t);if(e)return e[r]},oL=(i,t,e)=>{const r=Hf(i,e);return r!==void 0?r:Hf(t,e)},tS=(i,t,e)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in i?Ht(i[r])||i[r]instanceof String||Ht(t[r])||t[r]instanceof String?e&&(i[r]=t[r]):tS(i[r],t[r],e):i[r]=t[r]);return i},Gl=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var lL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const uL=i=>Ht(i)?i.replace(/[&<>"'\/]/g,t=>lL[t]):i;class cL{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==void 0)return e;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const hL=[" ",",","?","!",";"],fL=new cL(20),dL=(i,t,e)=>{t=t||"",e=e||"";const r=hL.filter(f=>t.indexOf(f)<0&&e.indexOf(f)<0);if(r.length===0)return!0;const l=fL.getRegExp(`(${r.map(f=>f==="?"?"\\?":f).join("|")})`);let h=!l.test(i);if(!h){const f=i.indexOf(e);f>0&&!l.test(i.substring(0,f))&&(h=!0)}return h},$p=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[t])return i[t];const r=t.split(e);let l=i;for(let h=0;h<r.length;){if(!l||typeof l!="object")return;let f,_="";for(let y=h;y<r.length;++y)if(y!==h&&(_+=e),_+=r[y],f=l[_],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&y<r.length-1)continue;h+=y-h+1;break}l=f}return l},Ff=i=>i&&i.replace("_","-"),mL={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,t){console&&console[i]&&console[i].apply(console,t)}};class qf{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||mL,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,r,l){return l&&!this.debug?null:(Ht(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new qf(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new qf(this.logger,t)}}var Js=new qf;class gd{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const l=this.observers[r].get(e)||0;this.observers[r].set(e,l+1)}),this}off(t,e){if(this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),l=1;l<e;l++)r[l-1]=arguments[l];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(f=>{let[_,y]=f;for(let T=0;T<y;T++)_(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(f=>{let[_,y]=f;for(let T=0;T<y;T++)_.apply(_,[t,...r])})}}class eE extends gd{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,r){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const h=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,f=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let _;t.indexOf(".")>-1?_=t.split("."):(_=[t,e],r&&(Array.isArray(r)?_.push(...r):Ht(r)&&h?_.push(...r.split(h)):_.push(r)));const y=Hf(this.data,_);return!y&&!e&&!r&&t.indexOf(".")>-1&&(t=_[0],e=_[1],r=_.slice(2).join(".")),y||!f||!Ht(r)?y:$p(this.data&&this.data[t]&&this.data[t][e],r,h)}addResource(t,e,r,l){let h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const f=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator;let _=[t,e];r&&(_=_.concat(f?r.split(f):r)),t.indexOf(".")>-1&&(_=t.split("."),l=e,e=_[1]),this.addNamespaces(e),tE(this.data,_,l),h.silent||this.emit("added",t,e,r,l)}addResources(t,e,r){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const h in r)(Ht(r[h])||Array.isArray(r[h]))&&this.addResource(t,e,h,r[h],{silent:!0});l.silent||this.emit("added",t,e,r)}addResourceBundle(t,e,r,l,h){let f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},_=[t,e];t.indexOf(".")>-1&&(_=t.split("."),l=r,r=e,e=_[1]),this.addNamespaces(e);let y=Hf(this.data,_)||{};f.skipCopy||(r=JSON.parse(JSON.stringify(r))),l?tS(y,r,h):y={...y,...r},tE(this.data,_,y),f.silent||this.emit("added",t,e,r)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(l=>e[l]&&Object.keys(e[l]).length>0)}toJSON(){return this.data}}var eS={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,t,e,r,l){return i.forEach(h=>{this.processors[h]&&(t=this.processors[h].process(t,e,r,l))}),t}};const nE={};class Gf extends gd{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),sL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Js.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,e);return r&&r.res!==void 0}extractFromKey(t,e){let r=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const l=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let h=e.ns||this.options.defaultNS||[];const f=r&&t.indexOf(r)>-1,_=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!dL(t,r,l);if(f&&!_){const y=t.match(this.interpolator.nestingRegexp);if(y&&y.length>0)return{key:t,namespaces:Ht(h)?[h]:h};const T=t.split(r);(r!==l||r===l&&this.options.ns.indexOf(T[0])>-1)&&(h=T.shift()),t=T.join(l)}return{key:t,namespaces:Ht(h)?[h]:h}}translate(t,e,r){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e={...e}),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const l=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,h=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:f,namespaces:_}=this.extractFromKey(t[t.length-1],e),y=_[_.length-1],T=e.lng||this.language,S=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T&&T.toLowerCase()==="cimode"){if(S){const wt=e.nsSeparator||this.options.nsSeparator;return l?{res:`${y}${wt}${f}`,usedKey:f,exactUsedKey:f,usedLng:T,usedNS:y,usedParams:this.getUsedParamsDetails(e)}:`${y}${wt}${f}`}return l?{res:f,usedKey:f,exactUsedKey:f,usedLng:T,usedNS:y,usedParams:this.getUsedParamsDetails(e)}:f}const x=this.resolve(t,e);let C=x&&x.res;const P=x&&x.usedKey||f,G=x&&x.exactUsedKey||f,Z=Object.prototype.toString.apply(C),K=["[object Number]","[object Function]","[object RegExp]"],ht=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,pt=!this.i18nFormat||this.i18nFormat.handleAsObject,_t=!Ht(C)&&typeof C!="boolean"&&typeof C!="number";if(pt&&C&&_t&&K.indexOf(Z)<0&&!(Ht(ht)&&Array.isArray(C))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const wt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,C,{...e,ns:_}):`key '${f} (${this.language})' returned an object instead of string.`;return l?(x.res=wt,x.usedParams=this.getUsedParamsDetails(e),x):wt}if(h){const wt=Array.isArray(C),gt=wt?[]:{},xt=wt?G:P;for(const k in C)if(Object.prototype.hasOwnProperty.call(C,k)){const N=`${xt}${h}${k}`;gt[k]=this.translate(N,{...e,joinArrays:!1,ns:_}),gt[k]===N&&(gt[k]=C[k])}C=gt}}else if(pt&&Ht(ht)&&Array.isArray(C))C=C.join(ht),C&&(C=this.extendTranslation(C,t,e,r));else{let wt=!1,gt=!1;const xt=e.count!==void 0&&!Ht(e.count),k=Gf.hasDefaultValue(e),N=xt?this.pluralResolver.getSuffix(T,e.count,e):"",D=e.ordinal&&xt?this.pluralResolver.getSuffix(T,e.count,{ordinal:!1}):"",H=xt&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),j=H&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${N}`]||e[`defaultValue${D}`]||e.defaultValue;!this.isValidLookup(C)&&k&&(wt=!0,C=j),this.isValidLookup(C)||(gt=!0,C=f);const z=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&gt?void 0:C,te=k&&j!==C&&this.options.updateMissing;if(gt||wt||te){if(this.logger.log(te?"updateKey":"missingKey",T,y,f,te?j:C),h){const ft=this.resolve(f,{...e,keySeparator:!1});ft&&ft.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let be=[];const et=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&et&&et[0])for(let ft=0;ft<et.length;ft++)be.push(et[ft]);else this.options.saveMissingTo==="all"?be=this.languageUtils.toResolveHierarchy(e.lng||this.language):be.push(e.lng||this.language);const yt=(ft,Zt,Et)=>{const B=k&&Et!==C?Et:z;this.options.missingKeyHandler?this.options.missingKeyHandler(ft,y,Zt,B,te,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ft,y,Zt,B,te,e),this.emit("missingKey",ft,y,Zt,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&xt?be.forEach(ft=>{const Zt=this.pluralResolver.getSuffixes(ft,e);H&&e[`defaultValue${this.options.pluralSeparator}zero`]&&Zt.indexOf(`${this.options.pluralSeparator}zero`)<0&&Zt.push(`${this.options.pluralSeparator}zero`),Zt.forEach(Et=>{yt([ft],f+Et,e[`defaultValue${Et}`]||j)})}):yt(be,f,j))}C=this.extendTranslation(C,t,e,x,r),gt&&C===f&&this.options.appendNamespaceToMissingKey&&(C=`${y}:${f}`),(gt||wt)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${y}:${f}`:f,wt?C:void 0):C=this.options.parseMissingKeyHandler(C))}return l?(x.res=C,x.usedParams=this.getUsedParamsDetails(e),x):C}extendTranslation(t,e,r,l,h){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const T=Ht(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let S;if(T){const C=t.match(this.interpolator.nestingRegexp);S=C&&C.length}let x=r.replace&&!Ht(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),t=this.interpolator.interpolate(t,x,r.lng||this.language||l.usedLng,r),T){const C=t.match(this.interpolator.nestingRegexp),P=C&&C.length;S<P&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&l&&l.res&&(r.lng=this.language||l.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var C=arguments.length,P=new Array(C),G=0;G<C;G++)P[G]=arguments[G];return h&&h[0]===P[0]&&!r.context?(f.logger.warn(`It seems you are nesting recursively key: ${P[0]} in key: ${e[0]}`),null):f.translate(...P,e)},r)),r.interpolation&&this.interpolator.reset()}const _=r.postProcess||this.options.postProcess,y=Ht(_)?[_]:_;return t!=null&&y&&y.length&&r.applyPostProcessor!==!1&&(t=eS.handle(y,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,l,h,f,_;return Ht(t)&&(t=[t]),t.forEach(y=>{if(this.isValidLookup(r))return;const T=this.extractFromKey(y,e),S=T.key;l=S;let x=T.namespaces;this.options.fallbackNS&&(x=x.concat(this.options.fallbackNS));const C=e.count!==void 0&&!Ht(e.count),P=C&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),G=e.context!==void 0&&(Ht(e.context)||typeof e.context=="number")&&e.context!=="",Z=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);x.forEach(K=>{this.isValidLookup(r)||(_=K,!nE[`${Z[0]}-${K}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(_)&&(nE[`${Z[0]}-${K}`]=!0,this.logger.warn(`key "${l}" for languages "${Z.join(", ")}" won't get resolved as namespace "${_}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Z.forEach(ht=>{if(this.isValidLookup(r))return;f=ht;const pt=[S];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(pt,S,ht,K,e);else{let wt;C&&(wt=this.pluralResolver.getSuffix(ht,e.count,e));const gt=`${this.options.pluralSeparator}zero`,xt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(C&&(pt.push(S+wt),e.ordinal&&wt.indexOf(xt)===0&&pt.push(S+wt.replace(xt,this.options.pluralSeparator)),P&&pt.push(S+gt)),G){const k=`${S}${this.options.contextSeparator}${e.context}`;pt.push(k),C&&(pt.push(k+wt),e.ordinal&&wt.indexOf(xt)===0&&pt.push(k+wt.replace(xt,this.options.pluralSeparator)),P&&pt.push(k+gt))}}let _t;for(;_t=pt.pop();)this.isValidLookup(r)||(h=_t,r=this.getResource(ht,K,_t,e))}))})}),{res:r,usedKey:l,exactUsedKey:h,usedLng:f,usedNS:_}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,r){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,r,l):this.resourceStore.getResource(t,e,r,l)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Ht(t.replace);let l=r?t.replace:t;if(r&&typeof t.count<"u"&&(l.count=t.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!r){l={...l};for(const h of e)delete l[h]}return l}static hasDefaultValue(t){const e="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e===r.substring(0,e.length)&&t[r]!==void 0)return!0;return!1}}const gp=i=>i.charAt(0).toUpperCase()+i.slice(1);class iE{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Js.create("languageUtils")}getScriptPartFromCode(t){if(t=Ff(t),!t||t.indexOf("-")<0)return null;const e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=Ff(t),!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(Ht(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let l=Intl.getCanonicalLocales(t)[0];if(l&&this.options.lowerCaseLng&&(l=l.toLowerCase()),l)return l}catch{}const e=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(l=>l.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),e.indexOf(r[1].toLowerCase())>-1&&(r[1]=gp(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),e.indexOf(r[1].toLowerCase())>-1&&(r[1]=gp(r[1].toLowerCase())),e.indexOf(r[2].toLowerCase())>-1&&(r[2]=gp(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(r=>{if(e)return;const l=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(l))&&(e=l)}),!e&&this.options.supportedLngs&&t.forEach(r=>{if(e)return;const l=this.getLanguagePartFromCode(r);if(this.isSupportedCode(l))return e=l;e=this.options.supportedLngs.find(h=>{if(h===l)return h;if(!(h.indexOf("-")<0&&l.indexOf("-")<0)&&(h.indexOf("-")>0&&l.indexOf("-")<0&&h.substring(0,h.indexOf("-"))===l||h.indexOf(l)===0&&l.length>1))return h})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),Ht(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let r=t[e];return r||(r=t[this.getScriptPartFromCode(e)]),r||(r=t[this.formatLanguageCode(e)]),r||(r=t[this.getLanguagePartFromCode(e)]),r||(r=t.default),r||[]}toResolveHierarchy(t,e){const r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),l=[],h=f=>{f&&(this.isSupportedCode(f)?l.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return Ht(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&h(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&h(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&h(this.getLanguagePartFromCode(t))):Ht(t)&&h(this.formatLanguageCode(t)),r.forEach(f=>{l.indexOf(f)<0&&h(this.formatLanguageCode(f))}),l}}let pL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],gL={1:i=>+(i>1),2:i=>+(i!=1),3:i=>0,4:i=>i%10==1&&i%100!=11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2,5:i=>i==0?0:i==1?1:i==2?2:i%100>=3&&i%100<=10?3:i%100>=11?4:5,6:i=>i==1?0:i>=2&&i<=4?1:2,7:i=>i==1?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2,8:i=>i==1?0:i==2?1:i!=8&&i!=11?2:3,9:i=>+(i>=2),10:i=>i==1?0:i==2?1:i<7?2:i<11?3:4,11:i=>i==1||i==11?0:i==2||i==12?1:i>2&&i<20?2:3,12:i=>+(i%10!=1||i%100==11),13:i=>+(i!==0),14:i=>i==1?0:i==2?1:i==3?2:3,15:i=>i%10==1&&i%100!=11?0:i%10>=2&&(i%100<10||i%100>=20)?1:2,16:i=>i%10==1&&i%100!=11?0:i!==0?1:2,17:i=>i==1||i%10==1&&i%100!=11?0:1,18:i=>i==0?0:i==1?1:2,19:i=>i==1?0:i==0||i%100>1&&i%100<11?1:i%100>10&&i%100<20?2:3,20:i=>i==1?0:i==0||i%100>0&&i%100<20?1:2,21:i=>i%100==1?1:i%100==2?2:i%100==3||i%100==4?3:0,22:i=>i==1?0:i==2?1:(i<0||i>10)&&i%10==0?2:3};const _L=["v1","v2","v3"],yL=["v4"],sE={zero:0,one:1,two:2,few:3,many:4,other:5},vL=()=>{const i={};return pL.forEach(t=>{t.lngs.forEach(e=>{i[e]={numbers:t.nr,plurals:gL[t.fc]}})}),i};class TL{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=Js.create("pluralResolver"),(!this.options.compatibilityJSON||yL.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=vL(),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Ff(t==="dev"?"en":t),l=e.ordinal?"ordinal":"cardinal",h=JSON.stringify({cleanedCode:r,type:l});if(h in this.pluralRulesCache)return this.pluralRulesCache[h];let f;try{f=new Intl.PluralRules(r,{type:l})}catch{if(!t.match(/-|_/))return;const y=this.languageUtils.getLanguagePartFromCode(t);f=this.getRule(y,e)}return this.pluralRulesCache[h]=f,f}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,e);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(l=>`${e}${l}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,e);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((l,h)=>sE[l]-sE[h]).map(l=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${l}`):r.numbers.map(l=>this.getSuffix(t,l,e)):[]}getSuffix(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=this.getRule(t,r);return l?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${l.select(e)}`:this.getSuffixRetroCompatible(l,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const r=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let l=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(l===2?l="plural":l===1&&(l=""));const h=()=>this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString();return this.options.compatibilityJSON==="v1"?l===1?"":typeof l=="number"?`_plural_${l.toString()}`:h():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?h():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!_L.includes(this.options.compatibilityJSON)}}const rE=function(i,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,h=oL(i,t,e);return!h&&l&&Ht(e)&&(h=$p(i,e,r),h===void 0&&(h=$p(t,e,r))),h},_p=i=>i.replace(/\$/g,"$$$$");class EL{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Js.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(e=>e),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:r,useRawValueToEscape:l,prefix:h,prefixEscaped:f,suffix:_,suffixEscaped:y,formatSeparator:T,unescapeSuffix:S,unescapePrefix:x,nestingPrefix:C,nestingPrefixEscaped:P,nestingSuffix:G,nestingSuffixEscaped:Z,nestingOptionsSeparator:K,maxReplaces:ht,alwaysFormat:pt}=t.interpolation;this.escape=e!==void 0?e:uL,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=h?Gl(h):f||"{{",this.suffix=_?Gl(_):y||"}}",this.formatSeparator=T||",",this.unescapePrefix=S?"":x||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=C?Gl(C):P||Gl("$t("),this.nestingSuffix=G?Gl(G):Z||Gl(")"),this.nestingOptionsSeparator=K||",",this.maxReplaces=ht||1e3,this.alwaysFormat=pt!==void 0?pt:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(e,r)=>e&&e.source===r?(e.lastIndex=0,e):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,r,l){let h,f,_;const y=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},T=P=>{if(P.indexOf(this.formatSeparator)<0){const ht=rE(e,y,P,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(ht,void 0,r,{...l,...e,interpolationkey:P}):ht}const G=P.split(this.formatSeparator),Z=G.shift().trim(),K=G.join(this.formatSeparator).trim();return this.format(rE(e,y,Z,this.options.keySeparator,this.options.ignoreJSONStructure),K,r,{...l,...e,interpolationkey:Z})};this.resetRegExp();const S=l&&l.missingInterpolationHandler||this.options.missingInterpolationHandler,x=l&&l.interpolation&&l.interpolation.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:P=>_p(P)},{regex:this.regexp,safeValue:P=>this.escapeValue?_p(this.escape(P)):_p(P)}].forEach(P=>{for(_=0;h=P.regex.exec(t);){const G=h[1].trim();if(f=T(G),f===void 0)if(typeof S=="function"){const K=S(t,h,l);f=Ht(K)?K:""}else if(l&&Object.prototype.hasOwnProperty.call(l,G))f="";else if(x){f=h[0];continue}else this.logger.warn(`missed to pass in variable ${G} for interpolating ${t}`),f="";else!Ht(f)&&!this.useRawValueToEscape&&(f=WT(f));const Z=P.safeValue(f);if(t=t.replace(h[0],Z),x?(P.regex.lastIndex+=f.length,P.regex.lastIndex-=h[0].length):P.regex.lastIndex=0,_++,_>=this.maxReplaces)break}}),t}nest(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l,h,f;const _=(y,T)=>{const S=this.nestingOptionsSeparator;if(y.indexOf(S)<0)return y;const x=y.split(new RegExp(`${S}[ ]*{`));let C=`{${x[1]}`;y=x[0],C=this.interpolate(C,f);const P=C.match(/'/g),G=C.match(/"/g);(P&&P.length%2===0&&!G||G.length%2!==0)&&(C=C.replace(/'/g,'"'));try{f=JSON.parse(C),T&&(f={...T,...f})}catch(Z){return this.logger.warn(`failed parsing options string in nesting for key ${y}`,Z),`${y}${S}${C}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,y};for(;l=this.nestingRegexp.exec(t);){let y=[];f={...r},f=f.replace&&!Ht(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;let T=!1;if(l[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(l[1])){const S=l[1].split(this.formatSeparator).map(x=>x.trim());l[1]=S.shift(),y=S,T=!0}if(h=e(_.call(this,l[1].trim(),f),f),h&&l[0]===t&&!Ht(h))return h;Ht(h)||(h=WT(h)),h||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${t}`),h=""),T&&(h=y.reduce((S,x)=>this.format(S,x,r.lng,{...r,interpolationkey:l[1].trim()}),h.trim())),t=t.replace(l[0],h),this.regexp.lastIndex=0}return t}}const bL=i=>{let t=i.toLowerCase().trim();const e={};if(i.indexOf("(")>-1){const r=i.split("(");t=r[0].toLowerCase().trim();const l=r[1].substring(0,r[1].length-1);t==="currency"&&l.indexOf(":")<0?e.currency||(e.currency=l.trim()):t==="relativetime"&&l.indexOf(":")<0?e.range||(e.range=l.trim()):l.split(";").forEach(f=>{if(f){const[_,...y]=f.split(":"),T=y.join(":").trim().replace(/^'+|'+$/g,""),S=_.trim();e[S]||(e[S]=T),T==="false"&&(e[S]=!1),T==="true"&&(e[S]=!0),isNaN(T)||(e[S]=parseInt(T,10))}})}return{formatName:t,formatOptions:e}},Zl=i=>{const t={};return(e,r,l)=>{let h=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(h={...h,[l.interpolationkey]:void 0});const f=r+JSON.stringify(h);let _=t[f];return _||(_=i(Ff(r),l),t[f]=_),_(e)}};class wL{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Js.create("formatter"),this.options=t,this.formats={number:Zl((e,r)=>{const l=new Intl.NumberFormat(e,{...r});return h=>l.format(h)}),currency:Zl((e,r)=>{const l=new Intl.NumberFormat(e,{...r,style:"currency"});return h=>l.format(h)}),datetime:Zl((e,r)=>{const l=new Intl.DateTimeFormat(e,{...r});return h=>l.format(h)}),relativetime:Zl((e,r)=>{const l=new Intl.RelativeTimeFormat(e,{...r});return h=>l.format(h,r.range||"day")}),list:Zl((e,r)=>{const l=new Intl.ListFormat(e,{...r});return h=>l.format(h)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=Zl(e)}format(t,e,r){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const h=e.split(this.formatSeparator);if(h.length>1&&h[0].indexOf("(")>1&&h[0].indexOf(")")<0&&h.find(_=>_.indexOf(")")>-1)){const _=h.findIndex(y=>y.indexOf(")")>-1);h[0]=[h[0],...h.splice(1,_)].join(this.formatSeparator)}return h.reduce((_,y)=>{const{formatName:T,formatOptions:S}=bL(y);if(this.formats[T]){let x=_;try{const C=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},P=C.locale||C.lng||l.locale||l.lng||r;x=this.formats[T](_,P,{...S,...l,...C})}catch(C){this.logger.warn(C)}return x}else this.logger.warn(`there was no format function for ${T}`);return _},t)}}const SL=(i,t)=>{i.pending[t]!==void 0&&(delete i.pending[t],i.pendingCount--)};class AL extends gd{constructor(t,e,r){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=r,this.languageUtils=r.languageUtils,this.options=l,this.logger=Js.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,l.backend,l)}queueLoad(t,e,r,l){const h={},f={},_={},y={};return t.forEach(T=>{let S=!0;e.forEach(x=>{const C=`${T}|${x}`;!r.reload&&this.store.hasResourceBundle(T,x)?this.state[C]=2:this.state[C]<0||(this.state[C]===1?f[C]===void 0&&(f[C]=!0):(this.state[C]=1,S=!1,f[C]===void 0&&(f[C]=!0),h[C]===void 0&&(h[C]=!0),y[x]===void 0&&(y[x]=!0)))}),S||(_[T]=!0)}),(Object.keys(h).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(h),pending:Object.keys(f),toLoadLanguages:Object.keys(_),toLoadNamespaces:Object.keys(y)}}loaded(t,e,r){const l=t.split("|"),h=l[0],f=l[1];e&&this.emit("failedLoading",h,f,e),!e&&r&&this.store.addResourceBundle(h,f,r,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&r&&(this.state[t]=0);const _={};this.queue.forEach(y=>{aL(y.loaded,[h],f),SL(y,t),e&&y.errors.push(e),y.pendingCount===0&&!y.done&&(Object.keys(y.loaded).forEach(T=>{_[T]||(_[T]={});const S=y.loaded[T];S.length&&S.forEach(x=>{_[T][x]===void 0&&(_[T][x]=!0)})}),y.done=!0,y.errors.length?y.callback(y.errors):y.callback())}),this.emit("loaded",_),this.queue=this.queue.filter(y=>!y.done)}read(t,e,r){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!t.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:r,tried:l,wait:h,callback:f});return}this.readingCalls++;const _=(T,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const x=this.waitingReads.shift();this.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(T&&S&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,r,l+1,h*2,f)},h);return}f(T,S)},y=this.backend[r].bind(this.backend);if(y.length===2){try{const T=y(t,e);T&&typeof T.then=="function"?T.then(S=>_(null,S)).catch(_):_(null,T)}catch(T){_(T)}return}return y(t,e,_)}prepareLoading(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();Ht(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ht(e)&&(e=[e]);const h=this.queueLoad(t,e,r,l);if(!h.toLoad.length)return h.pending.length||l(),null;h.toLoad.forEach(f=>{this.loadOne(f)})}load(t,e,r){this.prepareLoading(t,e,{},r)}reload(t,e,r){this.prepareLoading(t,e,{reload:!0},r)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),l=r[0],h=r[1];this.read(l,h,"read",void 0,void 0,(f,_)=>{f&&this.logger.warn(`${e}loading namespace ${h} for language ${l} failed`,f),!f&&_&&this.logger.log(`${e}loaded namespace ${h} for language ${l}`,_),this.loaded(t,f,_)})}saveMissing(t,e,r,l,h){let f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},_=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${r}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const y={...f,isUpdate:h},T=this.backend.create.bind(this.backend);if(T.length<6)try{let S;T.length===5?S=T(t,e,r,l,y):S=T(t,e,r,l),S&&typeof S.then=="function"?S.then(x=>_(null,x)).catch(_):_(null,S)}catch(S){_(S)}else T(t,e,r,l,_,y)}!t||!t[0]||this.store.addResource(t[0],e,r,l)}}}const aE=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let t={};if(typeof i[1]=="object"&&(t=i[1]),Ht(i[1])&&(t.defaultValue=i[1]),Ht(i[2])&&(t.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const e=i[3]||i[2];Object.keys(e).forEach(r=>{t[r]=e[r]})}return t},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),oE=i=>(Ht(i.ns)&&(i.ns=[i.ns]),Ht(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),Ht(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i),cf=()=>{},xL=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(e=>{typeof i[e]=="function"&&(i[e]=i[e].bind(i))})};class Lc extends gd{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=oE(t),this.services={},this.logger=Js,this.modules={external:[]},xL(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),!e.defaultNS&&e.defaultNS!==!1&&e.ns&&(Ht(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const l=aE();this.options={...l,...this.options,...oE(e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...l.interpolation,...this.options.interpolation}),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const h=S=>S?typeof S=="function"?new S:S:null;if(!this.options.isClone){this.modules.logger?Js.init(h(this.modules.logger),this.options):Js.init(null,this.options);let S;this.modules.formatter?S=this.modules.formatter:typeof Intl<"u"&&(S=wL);const x=new iE(this.options);this.store=new eE(this.options.resources,this.options);const C=this.services;C.logger=Js,C.resourceStore=this.store,C.languageUtils=x,C.pluralResolver=new TL(x,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),S&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(C.formatter=h(S),C.formatter.init(C,this.options),this.options.interpolation.format=C.formatter.format.bind(C.formatter)),C.interpolator=new EL(this.options),C.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},C.backendConnector=new AL(h(this.modules.backend),C.resourceStore,C,this.options),C.backendConnector.on("*",function(P){for(var G=arguments.length,Z=new Array(G>1?G-1:0),K=1;K<G;K++)Z[K-1]=arguments[K];t.emit(P,...Z)}),this.modules.languageDetector&&(C.languageDetector=h(this.modules.languageDetector),C.languageDetector.init&&C.languageDetector.init(C,this.options.detection,this.options)),this.modules.i18nFormat&&(C.i18nFormat=h(this.modules.i18nFormat),C.i18nFormat.init&&C.i18nFormat.init(this)),this.translator=new Gf(this.services,this.options),this.translator.on("*",function(P){for(var G=arguments.length,Z=new Array(G>1?G-1:0),K=1;K<G;K++)Z[K-1]=arguments[K];t.emit(P,...Z)}),this.modules.external.forEach(P=>{P.init&&P.init(this)})}if(this.format=this.options.interpolation.format,r||(r=cf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const S=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);S.length>0&&S[0]!=="dev"&&(this.options.lng=S[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(S=>{this[S]=function(){return t.store[S](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(S=>{this[S]=function(){return t.store[S](...arguments),t}});const y=rc(),T=()=>{const S=(x,C)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),y.resolve(C),r(x,C)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return S(null,this.t.bind(this));this.changeLanguage(this.options.lng,S)};return this.options.resources||!this.options.initImmediate?T():setTimeout(T,0),y}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cf;const l=Ht(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const h=[],f=_=>{if(!_||_==="cimode")return;this.services.languageUtils.toResolveHierarchy(_).forEach(T=>{T!=="cimode"&&h.indexOf(T)<0&&h.push(T)})};l?f(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>f(y)),this.options.preload&&this.options.preload.forEach(_=>f(_)),this.services.backendConnector.load(h,this.options.ns,_=>{!_&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(_)})}else r(null)}reloadResources(t,e,r){const l=rc();return typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),r||(r=cf),this.services.backendConnector.reload(t,e,h=>{l.resolve(),r(h)}),l}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&eS.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const r=this.languages[e];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,e){var r=this;this.isLanguageChangingTo=t;const l=rc();this.emit("languageChanging",t);const h=y=>{this.language=y,this.languages=this.services.languageUtils.toResolveHierarchy(y),this.resolvedLanguage=void 0,this.setResolvedLanguage(y)},f=(y,T)=>{T?(h(T),this.translator.changeLanguage(T),this.isLanguageChangingTo=void 0,this.emit("languageChanged",T),this.logger.log("languageChanged",T)):this.isLanguageChangingTo=void 0,l.resolve(function(){return r.t(...arguments)}),e&&e(y,function(){return r.t(...arguments)})},_=y=>{!t&&!y&&this.services.languageDetector&&(y=[]);const T=Ht(y)?y:this.services.languageUtils.getBestMatchFromCodes(y);T&&(this.language||h(T),this.translator.language||this.translator.changeLanguage(T),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(T)),this.loadResources(T,S=>{f(S,T)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?_(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(_):this.services.languageDetector.detect(_):_(t),l}getFixedT(t,e,r){var l=this;const h=function(f,_){let y;if(typeof _!="object"){for(var T=arguments.length,S=new Array(T>2?T-2:0),x=2;x<T;x++)S[x-2]=arguments[x];y=l.options.overloadTranslationOptionHandler([f,_].concat(S))}else y={..._};y.lng=y.lng||h.lng,y.lngs=y.lngs||h.lngs,y.ns=y.ns||h.ns,y.keyPrefix!==""&&(y.keyPrefix=y.keyPrefix||r||h.keyPrefix);const C=l.options.keySeparator||".";let P;return y.keyPrefix&&Array.isArray(f)?P=f.map(G=>`${y.keyPrefix}${C}${G}`):P=y.keyPrefix?`${y.keyPrefix}${C}${f}`:f,l.t(P,y)};return Ht(t)?h.lng=t:h.lngs=t,h.ns=e,h.keyPrefix=r,h}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=e.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const f=(_,y)=>{const T=this.services.backendConnector.state[`${_}|${y}`];return T===-1||T===0||T===2};if(e.precheck){const _=e.precheck(this,f);if(_!==void 0)return _}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(r,t)&&(!l||f(h,t)))}loadNamespaces(t,e){const r=rc();return this.options.ns?(Ht(t)&&(t=[t]),t.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{r.resolve(),e&&e(l)}),r):(e&&e(),Promise.resolve())}loadLanguages(t,e){const r=rc();Ht(t)&&(t=[t]);const l=this.options.preload||[],h=t.filter(f=>l.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return h.length?(this.options.preload=l.concat(h),this.loadResources(f=>{r.resolve(),e&&e(f)}),r):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new iE(aE());return e.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Lc(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cf;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const l={...this.options,...t,isClone:!0},h=new Lc(l);return(t.debug!==void 0||t.prefix!==void 0)&&(h.logger=h.logger.clone(t)),["store","services","language"].forEach(_=>{h[_]=this[_]}),h.services={...this.services},h.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},r&&(h.store=new eE(this.store.data,l),h.services.resourceStore=h.store),h.translator=new Gf(h.services,l),h.translator.on("*",function(_){for(var y=arguments.length,T=new Array(y>1?y-1:0),S=1;S<y;S++)T[S-1]=arguments[S];h.emit(_,...T)}),h.init(l,e),h.translator.options=l,h.translator.backendConnector.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},h}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Yn=Lc.createInstance();Yn.createInstance=Lc.createInstance;Yn.createInstance;Yn.dir;Yn.init;Yn.loadResources;Yn.reloadResources;Yn.use;Yn.changeLanguage;Yn.getFixedT;Yn.t;Yn.exists;Yn.setDefaultNamespace;Yn.hasLoadedNamespace;Yn.loadNamespaces;Yn.loadLanguages;const CL={translation:{nav:{home:"",login:"",logout:"",addBookstore:" ",myPage:""},home:{title:"",search:"",searchPlaceholder:"    ...",loading:"  ...",error:"  ",noResults:"  ",viewOnMap:" ",totalStores:" "},login:{title:"",email:"",password:"",signIn:"",signUp:"",noAccount:" ?",haveAccount:"  ?",emailPlaceholder:"email@example.com",passwordPlaceholder:" ",signUpTitle:"",confirmPassword:" ",loading:" ...",success:"!",loginSuccess:" ",signUpSuccess:" ",error:" "},addBookstore:{title:"  ",name:" ",namePlaceholder:"  ",address:"",addressPlaceholder:"  ",category:"",categoryPlaceholder:" ",phone:"",phonePlaceholder:" ",openTime:" ",closeTime:" ",closedDays:"",closedDaysPlaceholder:":  ",description:"",descriptionPlaceholder:"   ",latitude:"",longitude:"",submit:"",cancel:"",loading:" ...",success:" !",error:"  ",loginRequired:" ",clickMap:"   "},bookstore:{details:" ",edit:"",delete:"",confirmDelete:" ?",deleteSuccess:"",deleteError:" ",updateSuccess:"",updateError:" "},myPage:{title:"",noBookstores:"  .",editing:"  ",businessHours:"",createdAt:""},common:{loading:" ...",error:"",success:"",confirm:"",cancel:"",save:"",delete:"",edit:"",close:""}}},RL={translation:{nav:{home:"Home",login:"Login",logout:"Logout",addBookstore:"Add Bookstore",myPage:"My Page"},home:{title:"Used Bookstore",search:"Search",searchPlaceholder:"Search by name or address...",loading:"Loading data...",error:"Failed to load data",noResults:"No results found",viewOnMap:"View on Map",totalStores:"Total Stores"},login:{title:"Login",email:"Email",password:"Password",signIn:"Sign In",signUp:"Sign Up",noAccount:"Don't have an account?",haveAccount:"Already have an account?",emailPlaceholder:"email@example.com",passwordPlaceholder:"Enter your password",signUpTitle:"Sign Up",confirmPassword:"Confirm Password",loading:"Processing...",success:"Success!",loginSuccess:"Login successful",signUpSuccess:"Sign up successful",error:"An error occurred"},addBookstore:{title:"Add New Bookstore",name:"Bookstore Name",namePlaceholder:"Enter bookstore name",address:"Address",addressPlaceholder:"Enter bookstore address",category:"Category",categoryPlaceholder:"Enter category",phone:"Phone",phonePlaceholder:"Enter phone number",openTime:"Open Time",closeTime:"Close Time",closedDays:"Closed Days",closedDaysPlaceholder:"e.g., Every Monday",description:"Description",descriptionPlaceholder:"Enter description",latitude:"Latitude",longitude:"Longitude",submit:"Add",cancel:"Cancel",loading:"Adding...",success:"Bookstore added successfully!",error:"Failed to add bookstore",loginRequired:"Login required",clickMap:"Click on the map to select location"},bookstore:{details:"Details",edit:"Edit",delete:"Delete",confirmDelete:"Are you sure you want to delete?",deleteSuccess:"Deleted successfully",deleteError:"Failed to delete",updateSuccess:"Updated successfully",updateError:"Failed to update"},myPage:{title:"My Page",noBookstores:"You haven't added any bookstores yet.",editing:"Edit Bookstore",businessHours:"Business Hours",createdAt:"Created At"},common:{loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",close:"Close"}}};Yn.use(qA).init({resources:{ko:CL,en:RL},lng:"ko",fallbackLng:"ko",interpolation:{escapeValue:!1}});function IL(){return V.jsx(IA,{children:V.jsxs("div",{className:"min-h-screen bg-gray-50",children:[V.jsx(vP,{}),V.jsxs(bA,{children:[V.jsx(ac,{path:"/",element:V.jsx(tL,{})}),V.jsx(ac,{path:"/login",element:V.jsx(eL,{})}),V.jsx(ac,{path:"/add",element:V.jsx(nL,{})}),V.jsx(ac,{path:"/mypage",element:V.jsx(iL,{})})]})]})})}R1.createRoot(document.getElementById("root")).render(V.jsx(IL,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(i=>{console.log("ServiceWorker registration successful with scope: ",i.scope)}).catch(i=>{console.warn("ServiceWorker registration failed: ",i)})});
